{"meta":{"title":"Karakarua's blog","subtitle":"","description":"","author":"Ferrilata","url":"http://blog.karakarua.com","root":"/"},"pages":[{"title":"å…³äº","date":"2021-04-03T04:59:25.500Z","updated":"2021-04-03T04:59:25.500Z","comments":false,"path":"about/index.html","permalink":"http://blog.karakarua.com/about/","excerpt":"","text":"ä¸€ä¸ªè®°å½•å­¦ä¹ è¿‡ç¨‹çš„åšå®¢"},{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2020-09-04T15:34:25.000Z","updated":"2020-09-04T15:34:25.000Z","comments":false,"path":"/404.html","permalink":"http://blog.karakarua.com/404","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2020-09-04T15:34:25.000Z","updated":"2020-09-04T15:34:25.000Z","comments":false,"path":"tags/index.html","permalink":"http://blog.karakarua.com/tags/","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2020-09-04T15:34:25.000Z","updated":"2020-09-04T15:34:25.000Z","comments":false,"path":"categories/index.html","permalink":"http://blog.karakarua.com/categories/","excerpt":"","text":""}],"posts":[{"title":"Nginxä¸å¤šå®¹å™¨ / Nginxé…ç½®server_name","slug":"Nginxä¸å¤šå®¹å™¨_Nginxé…ç½®server_name","date":"2021-04-03T07:23:00.000Z","updated":"2021-04-03T07:35:46.375Z","comments":true,"path":"2021/04/03/f62bc42eb2d2/","link":"","permalink":"http://blog.karakarua.com/2021/04/03/f62bc42eb2d2/","excerpt":"","text":"åœºæ™¯ï¼šé…ç½®ä¸€ä¸ªdocker nginxå®¹å™¨ï¼Œå¸Œæœ›å¯ä»¥åå‘ä»£ç†å¤šä¸ªdockerå®¹å™¨ã€‚ æ³¨æ„ æ‰€æœ‰dockerå®¹å™¨ï¼ˆåŒ…æ‹¬nginxï¼‰ä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œå³nginxå®¹å™¨çš„ä¸èƒ½ç›´æ¥è®¿é—®å…¶ä»–dockerå®¹å™¨ï¼Œè€Œä¸”ä¸èƒ½å°†nginxå®¹å™¨ä¸å…¶ä»–å®¹å™¨è¿æ¥åˆ°ä¸€ä¸ªbridgeç½‘ç»œå†…ï¼ˆè¿™ä¹ˆåšä¼šå¤±å»éš”ç¦»æ€§ï¼‰ã€‚ dockerå®¹å™¨éƒ½å¯ä»¥è®¿é—®å¤–ç½‘ï¼ˆå³dockerç½‘ç»œä»¥å¤–çš„ç½‘ç»œï¼Œæ¯”å¦‚å®¿ä¸»æœºå’Œå› ç‰¹ç½‘ï¼‰ è§£å†³æ–¹å¼ æ¯ä¸ªå®¹å™¨å¯¹å¤–æ˜ å°„ç«¯å£ï¼Œé€šè¿‡å®¿ä¸»æœºçš„æ˜ å°„ç«¯å£ï¼Œå¯ä»¥ç›´æ¥è®¿é—®dockerå®¹å™¨ é…ç½®nginxå®¹å™¨çš„serverï¼Œå°†ç‰¹å®šåŸŸåå’Œç«¯å£çš„æœåŠ¡åå‘ä»£ç†åˆ°å®¿ä¸»æœºçš„ä¸åŒç«¯å£ã€‚ 1234567891011121314server &#123; listen 80; server_name md.kcaracal.com; location / &#123; # 172.17.0.1æ˜¯å®¿ä¸»æœºdocker0ç½‘å¡çš„ä½ç½® # å¦‚æœå°†docker-nginxè¿æ¥åˆ°hostç½‘ç»œï¼Œè¯¥IPå¯ç›´æ¥å†™localhost proxy_pass http://172.17.0.1:88; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; &#125;&#125; å…¶ä¸­ï¼Œproxy_passçš„åœ°å€â€”â€”172.17.0.1æ˜¯å®¿ä¸»æœºçš„docker0ç½‘å¡çš„åœ°å€ï¼Œå› æœºå™¨è€Œå¼‚ã€‚ å¦‚æœç›´æ¥å°†docker-nginxé“¾æ¥åˆ°hostç½‘ç»œï¼Œä¹Ÿå°±æ˜¯è¯´docker-nginxä¸ä¸»æœºåŒçº§åˆ«ï¼Œproxy_passå¯ä»¥ç›´æ¥å¡«å†™localhostã€‚ å¦‚æœdocker-nginxé“¾æ¥çš„æ˜¯bridgeç½‘ç»œï¼Œlocalhostä»£è¡¨çš„åœ°å€æ˜¯å®¹å™¨å†…å®¹ï¼Œè¿™ä¸€ç‚¹è¯·ä¸hostç½‘ç»œç›¸åŒºåˆ†ã€‚ è¿™éƒ¨åˆ†æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æ˜¯â€œdockerè®¿é—®å®¿ä¸»æœºç½‘ç»œâ€ï¼Œæ­¤å¤„æä¾›ä¸€å¤„é“¾æ¥ï¼šDockerå®¹å™¨è®¿é—®å®¿ä¸»æœºç½‘ç»œçš„æ–¹æ³• ä¼˜åŠ¿å‡å°‘æœåŠ¡å™¨é˜²ç«å¢™æˆ–è€…å®‰å…¨ç»„æš´éœ²çš„ç«¯å£ï¼Œåªé€šè¿‡åŸŸåå¯¹å¤–è®¿é—®","categories":[{"name":"Nginx","slug":"Nginx","permalink":"http://blog.karakarua.com/categories/Nginx/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/tags/Docker/"},{"name":"Nginx","slug":"Nginx","permalink":"http://blog.karakarua.com/tags/Nginx/"}]},{"title":"docker-composeä¸­é¡¶çº§volumesè‡ªå®šä¹‰ç»‘å®šè·¯å¾„","slug":"docker-composeä¸­volumesè‡ªå®šä¹‰ç»‘å®šè·¯å¾„","date":"2021-04-02T11:15:00.000Z","updated":"2021-04-02T12:06:12.341Z","comments":true,"path":"2021/04/02/0326889327e6/","link":"","permalink":"http://blog.karakarua.com/2021/04/02/0326889327e6/","excerpt":"","text":"é—®é¢˜ä¸¾ä¾‹å­èƒ½è¯´æ˜é—®é¢˜ï¼š docker-compose.ymlä¸­çš„ä¸€æ®µä»£ç ï¼š 1234567891011121314151617service: database: image: mariadb:10 environment: - MYSQL_USER=xxx - MYSQL_PASSWORD=xxx - MYSQL_DATABASE=xxx - MYSQL_ALLOW_EMPTY_PASSWORD=true # volumeä¸‹ä½¿ç”¨ volumes: - database:/var/lib/mysql volumes: # ç”±docker volumeåˆ›å»ºvolumeså®šä¹‰çš„å·ï¼Œå¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šå±æ€§ # å¯ä»¥ä¸å¡«å†™ä»»ä½•å‚æ•°ï¼ŒæŒ‰é»˜è®¤å±æ€§åœ¨/var/lib/docker/volumesä¸‹åˆ›å»ºå· ### æœ¬æ–‡æƒ³åœ¨è¿™é‡Œè‡ªå®šä¹‰è·¯å¾„ database: è§£å†³æ–¹å¼123456volumes: database: driver_opts: #æ›´å¤šé€‰é¡¹å¯ä»¥æŸ¥çœ‹Linuxçš„Mountå‘½ä»¤ï¼Œä¸Mountç›¸ä¼¼ type: ext4 # æ–‡ä»¶ç±»å‹ï¼Œå¿…éœ€ o: bind device: &lt;absolute path&gt; # ç»å¯¹è·¯å¾„ é™„å½•ï¼š æœ¬æ–‡é—®é¢˜çš„ç¼˜ç”±ï¼šä¸€å¼€å§‹åªæ˜¯ä»¥ä¸ºé¡¶çº§volumesçš„å«ä¹‰åªæ˜¯ç”¨æ¥ç¼©å†™ï¼Œç”±äºservicesä¸‹&lt;path1&gt;:&lt;path2&gt;ä¸­çš„å®¿ä¸»æœºè·¯å¾„å¤ªé•¿ï¼Œæƒ³ç¼©å‡&lt;path1&gt;:&lt;path2&gt;çš„é•¿åº¦ï¼Œä½¿ä»£ç æ›´åŠ ç¾è§‚ã€‚ å®é™…ä¸Šå¯¹é¡¶çº§volumesçš„ç†è§£æ˜¯ä¸å¯¹çš„ï¼Œé¡¶çº§volumesçš„æ„ä¹‰å¹¶ä¸æ˜¯ä¸ºç¼©å†™ã€‚ å®ç°ä¸Šè¿°ç›®çš„åº”è¯¥é€šè¿‡ä¸‹é¢æ–¹å¼å®ç°ã€‚ 123456services: database: volumes: type: bind source: &lt;path1&gt; # ç»å¯¹è·¯å¾„æˆ–æ˜¯ç›¸å¯¹è·¯å¾„ target: &lt;path2&gt; # ç»å¯¹è·¯å¾„æˆ–æ˜¯ç›¸å¯¹è·¯å¾„ é‚£é¡¶çº§volumeçš„å«ä¹‰çœŸæ­£æ˜¯ä»€ä¹ˆï¼Ÿ å®é™…ä¸Šï¼Œé¡¶çº§volumsçš„å«ä¹‰æ˜¯æŒ‡ç”¨docker volume createå‘½ä»¤åˆ›å»ºå·ï¼Œå¹¶äº¤ç”±docker volumeç®¡ç†è¿™äº›å·ï¼Œå…³è”å®¹å™¨ä¸­çš„è·¯å¾„ã€‚ é‚£æœ¬æ–‡çš„ä¸€é¡¿æ“ä½œåˆ°åº•åšäº†äº›ä»€ä¹ˆï¼Ÿ å®é™…ä¸Šå®¿ä¸»æœºå·ä»ç„¶æ˜¯ç”±docker volumeç®¡ç†å¹¶å…³è”å®¹å™¨ä¸­çš„è·¯å¾„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€‰é¡¹oå’Œdeviceåªä¸è¿‡æ˜¯å°†docker volumeç®¡ç†çš„å·å†æ¬¡ç»‘å®šåˆ°deviceæŒ‡å‘çš„ä½ç½® docker volumeç®¡ç†çš„å·æˆªå›¾ å¯ä»¥éªŒè¯çš„æ˜¯ï¼šdeviceæŒ‡å‘çš„ä½ç½®ã€/var/lib/docker/volume/&lt;name&gt;/_dataã€å®¹å™¨å†…çš„è·¯å¾„ï¼Œä¸‰è€…çš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚ deviceæŒ‡å‘çš„ä½ç½®æˆªå›¾ï¼š â€‹ docker volumeé»˜è®¤çš„å®¿ä¸»æœºä½ç½®ï¼ˆæŒ‡å‘/var/lib/docker/volumes/&lt;name&gt;/_data) â€‹ dockerå®¹å™¨å†…éƒ¨ç›®å½•ï¼š æ¥è‡ªdocker-composeä¸­å…³äºdriver_optsçš„è§£é‡Šï¼šdocker-compose driver_opts å¼•ç”¨ï¼šä»¥é”®å€¼å¯¹çš„å½¢å¼æŒ‡å®šç”¨æ¥ä¼ é€’ç»™è¯¥æ•°æ®å·æ‰€ä½¿ç”¨çš„æ•°æ®å·é©±åŠ¨çš„åˆ—è¡¨é€‰é¡¹ 123456volumes: example: driver_opts: type: &quot;nfs&quot; o: &quot;addr=10.40.0.199,nolock,soft,rw&quot; device: &quot;:/docker/example&quot; è¿™é‡Œçš„ä¾‹å­ä¸æœ¬æ–‡å¾ˆç›¸ä¼¼ã€‚ æ‰€ä»¥ï¼Œæœ¬æ–‡çš„æ„ä¹‰å¯èƒ½åœ¨äºå°†docker volumeç®¡ç†çš„å·ï¼Œå†å…‹éš†ä¸€ä»½åˆ°å…¶ä»–è·¯å¾„ï¼Œå¤šå¤„è¿›è¡ŒæŒä¹…åŒ–ã€‚ğŸ¤”ğŸ¤”ğŸ¤” æ‰€ä»¥ï¼Œä»ä¸€å¼€å§‹ç†è§£é”™äº†é¡¶çº§volumesçš„ç”¨æ³•ï¼Œä»è€Œèµ°äº†å¼¯è·¯ã€‚ æœ€åï¼Œé€šè¿‡è¿™æ¬¡ç»å†ï¼Œæˆ‘ä¹Ÿæœ‰äº›æ˜ç™½äº†é¡¶çº§volumesçš„å«ä¹‰ã€‚ å‚è€ƒé“¾æ¥ï¼š How to set a path on host for a named volume in docker-compose.yml Docker Compose Relative paths vs Docker volume Docker Composeé…ç½®æ–‡ä»¶è¯¦è§£ï¼ˆV3ï¼‰","categories":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/tags/Docker/"}]},{"title":"CnetOSä¸­é…ç½®viè¯­æ³•é«˜äº®","slug":"CnetOSä¸­é…ç½®viè¯­æ³•é«˜äº®","date":"2021-04-02T07:17:00.000Z","updated":"2021-04-02T11:31:14.398Z","comments":true,"path":"2021/04/02/0045d88f497a/","link":"","permalink":"http://blog.karakarua.com/2021/04/02/0045d88f497a/","excerpt":"","text":"é—®é¢˜CentOS-minimalç‰ˆæœ¬é»˜è®¤å®‰è£…çš„æ˜¯vi-minimalï¼Œä¸å…·å¤‡è¯­æ³•é«˜äº®ï¼Œè¡¨ç°ä¸ºæ•´ä¸ªå±å¹•å…¨æ˜¯ä¸€ç§é¢œè‰² è§£å†³æ­¥éª¤ å®‰è£…vim-commonå’Œvi-enhanced 12yum install -y vim-common vim-enhanced# æˆ–è€…åªå®‰è£…vim-enhancedï¼Œvim-commonä¼šä½œä¸ºä¾èµ–è¢«å®‰è£… é…ç½®alias vi=â€™vimâ€™ï¼ˆåŸå› æ˜¯ä¸Šé¢ä¸¤ä¸ªç»„ä»¶åªå¯¹vimèµ·ä½œç”¨ï¼Œä¸ä¼šå½±å“viï¼‰ 123456789# å…¨å±€é…ç½®ï¼Œå¯¹æ‰€æœ‰ç”¨æˆ·éƒ½èµ·ä½œç”¨vi /etc/bashrc#--INSERTæ¨¡å¼ä¸‹alias vi=&#x27;vim&#x27;# -------------æˆ–è€…æ˜¯---------# å±€éƒ¨é…ç½®ï¼Œåªå¯¹å½“å‰ç”¨æˆ·éƒ½èµ·ä½œç”¨vi ~/.bashrc#--INSERTæ¨¡å¼ä¸‹alias vi=&#x27;vim&#x27; å‚è€ƒé“¾æ¥ï¼šCentOSä¸­çš„viè¯­æ³•é«˜äº®","categories":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/tags/Linux/"},{"name":"CentOS","slug":"CentOS","permalink":"http://blog.karakarua.com/tags/CentOS/"}]},{"title":"CentOSä¸­firewalldçš„Zoneæ˜¯ä»€ä¹ˆ","slug":"CentOSä¸­firewalldçš„Zoneæ˜¯ä»€ä¹ˆ","date":"2021-04-01T13:56:00.000Z","updated":"2021-04-02T11:30:26.162Z","comments":true,"path":"2021/04/01/520417809f0a/","link":"","permalink":"http://blog.karakarua.com/2021/04/01/520417809f0a/","excerpt":"","text":"Zoneæ˜¯ä»€ä¹ˆï¼ŸZoneæ˜¯firewalldå¼•å…¥çš„ä¸€ç§å®‰å…¨çº§åˆ«ï¼Œå®šä¹‰ä¸åŒçš„è§„åˆ™ï¼Œä»¥ä¸åŒçš„æ–¹å¼å¤„ç†æ•°æ®åŒ…ã€‚ Zoneçš„ç§ç±»CentOSè‡ªå¸¦çš„zoneæœ‰ä»¥ä¸‹å‡ ç§ï¼š drop: ä¸¢å¼ƒæ‰€æœ‰è¿›å…¥çš„åŒ…ï¼Œè€Œä¸ç»™å‡ºä»»ä½•å“åº” block: æ‹’ç»æ‰€æœ‰å¤–éƒ¨å‘èµ·çš„è¿æ¥ï¼Œå…è®¸å†…éƒ¨å‘èµ·çš„è¿æ¥ public: å…è®¸æŒ‡å®šçš„è¿›å…¥è¿æ¥ external: åŒä¸Šï¼Œå¯¹ä¼ªè£…çš„è¿›å…¥è¿æ¥ï¼Œä¸€èˆ¬ç”¨äºè·¯ç”±è½¬å‘ dmz: å…è®¸å—é™åˆ¶çš„è¿›å…¥è¿æ¥ work: å…è®¸å—ä¿¡ä»»çš„è®¡ç®—æœºè¢«é™åˆ¶çš„è¿›å…¥è¿æ¥ï¼Œç±»ä¼¼ workgroup home: åŒä¸Šï¼Œç±»ä¼¼ homegroup internal: åŒä¸Šï¼ŒèŒƒå›´é’ˆå¯¹æ‰€æœ‰äº’è”ç½‘ç”¨æˆ· trusted: ä¿¡ä»»æ‰€æœ‰è¿æ¥ æ¥è‡ªFirewalldçš„æ›´è¯¦ç»†çš„è§£é‡Šï¼š ä¸¢å¼ƒ(drop) ä»»ä½•æ¥æ”¶çš„ç½‘ç»œæ•°æ®åŒ…éƒ½è¢«ä¸¢å¼ƒï¼Œæ²¡æœ‰ä»»ä½•å›å¤ã€‚ä»…èƒ½æœ‰å‘é€å‡ºå»çš„ç½‘ç»œè¿æ¥ã€‚ é™åˆ¶(block) ä»»ä½•æ¥æ”¶çš„ç½‘ç»œè¿æ¥éƒ½è¢« IPv4 çš„ icmp-host-prohibited ä¿¡æ¯å’Œ IPv6 çš„ icmp6-adm-prohibited ä¿¡æ¯æ‰€æ‹’ç»ã€‚ å…¬å…±(public) åœ¨å…¬å…±åŒºåŸŸå†…ä½¿ç”¨ï¼Œä¸èƒ½ç›¸ä¿¡ç½‘ç»œå†…çš„å…¶ä»–è®¡ç®—æœºä¸ä¼šå¯¹æ‚¨çš„è®¡ç®—æœºé€ æˆå±å®³ï¼Œåªèƒ½æ¥æ”¶ç»è¿‡é€‰å–çš„è¿æ¥ã€‚ å¤–éƒ¨(external) ç‰¹åˆ«æ˜¯ä¸ºè·¯ç”±å™¨å¯ç”¨äº†ä¼ªè£…åŠŸèƒ½çš„å¤–éƒ¨ç½‘ã€‚æ‚¨ä¸èƒ½ä¿¡ä»»æ¥è‡ªç½‘ç»œçš„å…¶ä»–è®¡ç®—ï¼Œä¸èƒ½ç›¸ä¿¡å®ƒä»¬ä¸ä¼šå¯¹æ‚¨çš„è®¡ç®—æœºé€ æˆå±å®³ï¼Œåªèƒ½æ¥æ”¶ç»è¿‡é€‰æ‹©çš„è¿æ¥ã€‚ éå†›äº‹åŒº(dmz) ç”¨äºæ‚¨çš„éå†›äº‹åŒºå†…çš„ç”µè„‘ï¼Œæ­¤åŒºåŸŸå†…å¯å…¬å¼€è®¿é—®ï¼Œå¯ä»¥æœ‰é™åœ°è¿›å…¥æ‚¨çš„å†…éƒ¨ç½‘ç»œï¼Œä»…ä»…æ¥æ”¶ç»è¿‡é€‰æ‹©çš„è¿æ¥ã€‚ å·¥ä½œ(work) ç”¨äºå·¥ä½œåŒºã€‚æ‚¨å¯ä»¥åŸºæœ¬ç›¸ä¿¡ç½‘ç»œå†…çš„å…¶ä»–ç”µè„‘ä¸ä¼šå±å®³æ‚¨çš„ç”µè„‘ã€‚ä»…ä»…æ¥æ”¶ç»è¿‡é€‰æ‹©çš„è¿æ¥ã€‚ å®¶åº­(home) ç”¨äºå®¶åº­ç½‘ç»œã€‚æ‚¨å¯ä»¥åŸºæœ¬ä¿¡ä»»ç½‘ç»œå†…çš„å…¶ä»–è®¡ç®—æœºä¸ä¼šå±å®³æ‚¨çš„è®¡ç®—æœºã€‚ä»…ä»…æ¥æ”¶ç»è¿‡é€‰æ‹©çš„è¿æ¥ã€‚ å†…éƒ¨(internal) ç”¨äºå†…éƒ¨ç½‘ç»œã€‚æ‚¨å¯ä»¥åŸºæœ¬ä¸Šä¿¡ä»»ç½‘ç»œå†…çš„å…¶ä»–è®¡ç®—æœºä¸ä¼šå¨èƒæ‚¨çš„è®¡ç®—æœºã€‚ä»…ä»…æ¥å—ç»è¿‡é€‰æ‹©çš„è¿æ¥ã€‚ ä¿¡ä»»(trusted) å¯æ¥å—æ‰€æœ‰çš„ç½‘ç»œè¿æ¥ã€‚ æœ‰æ—¶ï¼Œå½“CentOSä¸­å®‰è£…äº†dockeråï¼Œzoneä¸­ä¼šå¤šå‡ºä¸€ä¸ªdockerï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§è‡ªå®šä¹‰çš„zoneã€‚ Zoneçš„å­—æ®µzoneé€šè¿‡å­—æ®µæ¥è¡¨è¾¾è¿‡æ»¤è§„åˆ™å’Œå¤„ç†åŠ¨ä½œã€‚ firewalldå°†æŒ‰ç…§è¿‡æ»¤è§„åˆ™å­—æ®µçš„ä¼˜å…ˆçº§ï¼Œå”¯ä¸€ç¡®å®šä½¿ç”¨å“ªä¸ªzoneï¼Œç„¶åæŒ‰ç…§è¯¥zoneæŒ‡å®šçš„åŠ¨ä½œå¤„ç†ã€‚ å› æ­¤ï¼Œæ¯ä¸ªzoneå¯ä»¥ä¿®æ”¹å­—æ®µå€¼ï¼Œæ›´åŠ è¯¦ç»†çš„æè¿°zoneçš„è¿‡æ»¤è§„åˆ™å’Œå¤„ç†åŠ¨ä½œã€‚ zoneçš„å­—æ®µçš„è¿‡æ»¤è§„åˆ™ï¼š serviceï¼šè¡¨ç¤ºæœåŠ¡ï¼Œæ ¹æ®æœåŠ¡ç¡®å®šè¿‡æ»¤è§„åˆ™ portï¼šç«¯å£ï¼Œä½¿ç”¨portå¯ä»¥ä¸é€šè¿‡serviceè€Œç›´æ¥å¯¹ç«¯å£è¿›è¡Œè®¾ç½® interfaceï¼šè¡¨ç¤ºç½‘å¡ï¼Œæ ¹æ®è¿›å…¥çš„ç½‘å¡ç¡®å®šè¿‡æ»¤è§„åˆ™ sourceï¼šæºåœ°å€ï¼Œå¯ä»¥æ˜¯ipåœ°å€ä¹Ÿå¯ä»¥æ˜¯ipåœ°å€æ®µ zoneçš„å­—æ®µçš„å¤„ç†åŠ¨ä½œï¼š targetï¼šç›®æ ‡ï¼Œå¯ä»¥ç†è§£ä¸ºé»˜è®¤è¡Œä¸ºï¼Œæœ‰å››ä¸ªå¯é€‰å€¼ï¼šdefaultã€ACCEPTã€%%REJECT%%ã€DROPï¼Œå¦‚æœä¸è®¾ç½®é»˜è®¤ä¸ºdefault ACCEPTï¼šé€šè¿‡è¿™ä¸ªåŒ…ã€‚ %%REJECT%%ï¼šæ‹’ç»è¿™ä¸ªåŒ…ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ‹’ç»çš„å›å¤ã€‚ DROPï¼šä¸¢å¼ƒè¿™ä¸ªåŒ…ï¼Œä¸å›å¤ä»»ä½•ä¿¡æ¯ã€‚ defaultï¼šä¸åšä»»ä½•äº‹æƒ…ã€‚è¯¥åŒºåŸŸä¸å†ç®¡å®ƒï¼ŒæŠŠå®ƒè¸¢åˆ°â€œæ¥¼ä¸Šâ€ icmp-blockï¼šicmpæŠ¥æ–‡é˜»å¡ï¼Œå¯ä»¥æŒ‰ç…§icmpç±»å‹è¿›è¡Œè®¾ç½® masqueradeï¼šipåœ°å€ä¼ªè£…ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§æºç½‘å¡åœ°å€è¿›è¡ŒNATè½¬å‘ forward-portï¼šç«¯å£è½¬å‘ ruleï¼š è‡ªå®šä¹‰è§„åˆ™ zoneçš„è¿‡æ»¤è§„åˆ™çš„ä¼˜å…ˆçº§ sourceï¼ˆå…ˆæŒ‰ç…§æºåœ°å€ç¡®å®šzoneï¼‰ interfaceï¼ˆå¦‚æœæ— æ³•æ ¹æ®sourceç¡®å®šzoneï¼Œåˆ™å†æŒ‰interfaceç¡®å®šzoneï¼‰ firewalld.confï¼ˆå¦‚æœä¸Šè¿°ä¸¤ç§æ–¹å¼éƒ½æ— æ³•ç¡®å®šzoneï¼Œåˆ™æœ€åæ ¹æ®é»˜è®¤è®¾å®šç¡®å®šzoneï¼‰ æŸ¥çœ‹å½“å‰èµ·ä½œç”¨çš„zone1sudo firewall-cmd --get-active-zones å‚è€ƒé“¾æ¥ï¼š Firewalld firewallé˜²ç«å¢™è¯¦è§£ï¼ˆæŒç»­æ›´æ–°ä¸­â€¦ï¼‰ ç”¨æ´»firewalldé˜²ç«å¢™ä¸­çš„zone","categories":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/tags/Linux/"},{"name":"CentOS","slug":"CentOS","permalink":"http://blog.karakarua.com/tags/CentOS/"}]},{"title":"dockerå®‰è£…HedgeDoc/CodiMD/HackMD","slug":"dockeræ­å»ºhedgedoc","date":"2021-04-01T08:45:00.000Z","updated":"2021-04-02T11:42:16.328Z","comments":true,"path":"2021/04/01/32c9782a3042/","link":"","permalink":"http://blog.karakarua.com/2021/04/01/32c9782a3042/","excerpt":"","text":"HedgeDocä»‹ç»HedgeDocæ˜¯ä¸€æ¬¾åœ¨çº¿Markdownè½¯ä»¶ï¼Œå®ƒçš„å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥åä½œç¼–å†™æ–‡æ¡£ã€‚ HedgeDocçš„å‰èº«æ˜¯codiMDï¼Œå³hackMDçš„ç¤¾åŒºç‰ˆåˆ†æ”¯ï¼ˆhackMD CEï¼‰ï¼Œå®ƒçš„å†å²ï¼šHedgeDoc History HedgeDocçš„å®˜ç½‘ä¸»é¡µï¼šHedgeDoc å…³äºHedgeDocçš„å‰èº«çš„ä»‹ç»ï¼šCodiMd å®‰è£…æ•™ç¨‹å®˜æ–¹æ•™ç¨‹ï¼š123git clone https://github.com/hedgedoc/container.git hedgedoc-containercd hedgedoc-containerdocker-compose up hedgedoc-containeræ–‡ä»¶ä¸‹æœ‰å®˜æ–¹ç»™å®šçš„æ„å»ºæ–‡ä»¶docker-compose.ymlï¼Œå¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹åä½¿ç”¨docker-compose up -dåˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ è‡ªå®šä¹‰HedgeDocæˆ‘ä»¬åœ¨å®˜æ–¹ç»™å‡ºçš„docker-compose.ymlæ–‡ä»¶ä¸­ ä½¿ç”¨MySQLæ•°æ®åº“ åˆ©ç”¨é¡¶çº§secretsçš„å­é”®fileæ›¿æ¢æ˜æ–‡å¯†ç  å±è”½äº†hedgedocçš„æ˜ å°„ç«¯å£ åŠ å…¥äº†nginxã€‚ docker-compose.yml:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117# Using version 3 to provide play-with-docker badge# You can change to version 2 without breaking.#version: &#x27;2&#x27;version: &#x27;3.5&#x27;services: # database: # Don&#x27;t upgrade PostgreSQL by simply changing the version number # You need to migrate the Database to the new PostgreSQL version # image: postgres:9.6-alpine #mem_limit: 256mb # version 2 only #memswap_limit: 512mb # version 2 only #read_only: true # not supported in swarm mode please enable along with tmpfs #tmpfs: # - /run/postgresql:size=512K # - /tmp:size=256K # environment: # - POSTGRES_USER=hedgedoc # - POSTGRES_PASSWORD=password # - POSTGRES_DB=hedgedoc # volumes: # - database:/var/lib/postgresql/data # networks: # backend: # restart: always # MySQL example # Most of the documentation that applies to PostgreSQL applies also to MySQL database: # # You should be able to upgrade MySQL without problems # # but to make sure no even when a problem appears you # # should have a backup image: mariadb:10 environment: - MYSQL_USER=hedgedoc - MYSQL_PASSWORD=password - MYSQL_DATABASE=hedgedoc - MYSQL_ALLOW_EMPTY_PASSWORD=true volumes: - database:/var/lib/mysql # # This config provides UTF-8 support to the database by default # # If this config is not used, HedgeDoc breaks as it tries to write # # UTF-8 to a latin database. - ./resources/utf8.cnf:/etc/mysql/conf.d/utf8.cnf networks: backend: restart: always # secret fields secrets: - password hedgedoc: # Uncomment the following section to build the image yourself: #build: # context: . # dockerfile: debian/Dockerfile # args: # - &quot;VERSION=master&quot; # - &quot;HEDGEDOC_REPOSITORY=https://github.com/hedgedoc/hedgedoc.git&quot; image: quay.io/hedgedoc/hedgedoc:1.7.2 #mem_limit: 256mb # version 2 only #memswap_limit: 512mb # version 2 only #read_only: true # not supported in swarm mode, enable along with tmpfs #tmpfs: # - /tmp:size=10M # # Make sure you remove this when you use filesystem as upload type # - /hedgedoc/public/uploads:size=10M environment: # DB_URL is formatted like: &lt;databasetype&gt;://&lt;username&gt;:&lt;password&gt;@&lt;hostname&gt;:&lt;port&gt;/&lt;database&gt; # Other examples are: - CMD_DB_URL=mysql://hedgedoc:password@database:3306/hedgedoc # - sqlite:///data/sqlite.db (NOT RECOMMENDED) # - For details see the official sequelize docs: http://docs.sequelizejs.com/en/v3/ # - CMD_DB_URL=postgres://hedgedoc:password@database:5432/hedgedoc volumes: - uploads:/hedgedoc/public/uploads # ports: # # Ports that are published to the outside. # # The latter port is the port inside the container. It should always stay on 3000 # # If you only specify a port it&#x27;ll published on all interfaces. If you want to use a # # local reverse proxy, you may want to listen on 127.0.0.1. # # Example: # # - &quot;127.0.0.1:3000:3000&quot; # - &quot;3000:3000&quot; expose: - &quot;3000&quot; networks: backend: restart: always depends_on: - database nginx: image: nginx volumes: - ./nginx.conf:/etc/nginx/nginx.conf ports: - &quot;88:88&quot; depends_on: - hedgedoc networks: - backend # Define networks to allow best isolationnetworks: # Internal network for communication with PostgreSQL/MySQL backend:# Define named volumes so data stays in placevolumes: database: uploads:secrets: # source of secret fields password: file: ./password.txt ä»å…¶ä»–åœ°æ–¹æ‹·è´ä¸€ä»½nginx.confåˆ°hedgedoc-containerç›®å½•ä¸‹ï¼Œä¿®æ”¹nginx.conf nginx.confä¿®æ”¹çš„å†…å®¹12345678910111213141516171819server &#123; listen 88; server_name &lt;your_domain&gt; &lt;your_server_ip&gt;; location / &#123; # å¦‚æœå†…ç½‘ä¸»æœºï¼Œå¯èƒ½éœ€è¦è®¾ç½®è·¨åŸŸ add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Methods &#x27;GET, POST, OPTIONS&#x27;; add_header Access-Control-Allow-Headers &#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&#x27;; if ($request_method = &#x27;OPTIONS&#x27;) &#123; return 204; &#125; proxy_pass http://hedgedoc:3000; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; &#125;&#125; åœ¨æœåŠ¡ç«¯é˜²ç«å¢™ä¸­å¼€å¯httpæœåŠ¡å’Œ88ç«¯å£å¦‚æœä¹°äº†å¤§å‚ECSæœåŠ¡å™¨ï¼Œè¯·åœ¨æä¾›å•†ç½‘ç«™å†…æ›´æ”¹å®‰å…¨ç»„ï¼Œå¼€å¯88ç«¯å£ã€‚ï¼ˆä¸€èˆ¬é»˜è®¤å¼€å¯httpæœåŠ¡ï¼‰ å¦‚æœæ˜¯æœ¬åœ°æœåŠ¡å™¨ centosä¸»æœºå¼€å¯httpæœåŠ¡å’Œ88ç«¯å£ï¼š12345678# é’ˆå¯¹å¤–å¼€å¯httpæœåŠ¡sudo firewall-cmd --zone=public --add-service=http --permanent# é’ˆå¯¹dockerå¼€å¯httpæœåŠ¡sudo firewall-cmd --zone=docker --add-service=http --permanent# å¯¹å¤–å¼€æ”¾88ç«¯å£sudo firewall-cmd --zone=public --add-port=88/tcp --permanent# é‡æ–°åŠ è½½firewallè§„åˆ™sudo firewall-cmd --reload æŸ¥çœ‹æ˜¯å¦å¼€å¯æˆåŠŸï¼š 123sudo firewall-cmd --zone=public --list-services #æ­£ç¡®ç»“æœåŒ…å«httpsudo firewall-cmd --zone=docker --list-services #æ­£ç¡®ç»“æœå‡ºç°httpsudo firewall-cmd --zone=public --list-ports # æ­£ç¡®ç»“æœå‡ºç°88/tcp Ubuntuå¼€å¯ç«¯å£ï¼ˆé»˜è®¤httpç­‰æœåŠ¡å·²å¼€å¯ï¼‰1sudo ufw allow 88 æˆåŠŸåçš„HedgeDocé¡µé¢ï¼ˆä¸https://demo.hedgedoc.org/ç›¸åŒï¼‰","categories":[{"name":"HedgeDoc","slug":"HedgeDoc","permalink":"http://blog.karakarua.com/categories/HedgeDoc/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/tags/Docker/"},{"name":"HedgeDoc","slug":"HedgeDoc","permalink":"http://blog.karakarua.com/tags/HedgeDoc/"},{"name":"CodiMD","slug":"CodiMD","permalink":"http://blog.karakarua.com/tags/CodiMD/"},{"name":"HackMD","slug":"HackMD","permalink":"http://blog.karakarua.com/tags/HackMD/"}]},{"title":"Centoså¼€å¯é˜²ç«å¢™è¶…æ—¶å¤±è´¥","slug":"CentOSå¼€å¯é˜²ç«å¢™å¤±è´¥","date":"2021-04-01T08:11:00.000Z","updated":"2021-04-02T11:30:46.811Z","comments":true,"path":"2021/04/01/d73364c2eba5/","link":"","permalink":"http://blog.karakarua.com/2021/04/01/d73364c2eba5/","excerpt":"","text":"CnetOSå‘½ä»¤CentOSå…³é—­é˜²ç«å¢™å‘½ä»¤ï¼š 123systemctl stop firewalld# æˆ–è€…service firewalld stop CentOSå¯åŠ¨é˜²ç«å¢™ 123systemctl start firewalld# æˆ–è€…service firewalld start å…³é—­é˜²ç«å¢™åå†æ¬¡å¯åŠ¨é˜²ç«å¢™ï¼Œå‘ç°æ— æ³•å¯åŠ¨ï¼Œé”™è¯¯æ˜¯è¶…æ—¶:123[root@localhost ~]service firewalld restartRedirecting to /bin/systemctl restart firewalld.serviceJob for firewalld.service failed because a timeout was exceeded. See &quot;systemctl status firewalld.service&quot; and &quot;journalctl -xe&quot; for details. è§£å†³åŠæ³•ï¼šéœ€è¦å…³é—­firewalldè¿›ç¨‹ï¼Œå†å¯åŠ¨firewalld 123systemctl stop firewalld #åœæ­¢firewalldpkill -f firewalld #å…³é—­firewalldè¿›ç¨‹systemctl start firewalld #å¯åŠ¨firewalld å®˜æ–¹è§£é‡Šå¯èƒ½åŸå› ï¼š systemd didnâ€™t know about the process that it didnâ€™t start in the first place of course å‚è€ƒé“¾æ¥ï¼šCentosæ‰§è¡Œå¼€å¯é˜²ç«å¢™å‘½ä»¤è¶…æ—¶","categories":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/tags/Linux/"},{"name":"CentOS","slug":"CentOS","permalink":"http://blog.karakarua.com/tags/CentOS/"}]},{"title":"è½¬è½½ï¼šMySQLå°†æŸ¥è¯¢ç»“æœå­˜å…¥æ–°è¡¨","slug":"è½¬è½½ï¼šMySQLå°†æŸ¥è¯¢ç»“æœå­˜å…¥æ–°è¡¨","date":"2021-03-30T09:28:16.000Z","updated":"2021-03-30T09:34:51.165Z","comments":true,"path":"2021/03/30/505a385dca9d/","link":"","permalink":"http://blog.karakarua.com/2021/03/30/505a385dca9d/","excerpt":"","text":"é“¾æ¥ï¼šMySQLå°†æŸ¥è¯¢ç»“æœæ’å…¥åˆ°å¦ä¸€ä¸ªè¡¨ä¸­ å¦‚æœä¸¤å¼ è¡¨ï¼ˆæŸ¥è¯¢è¡¨å’Œæ’å…¥è¡¨ï¼‰çš„å­—æ®µä¸€è‡´ï¼Œå¹¶ä¸”å¸Œæœ›æ’å…¥æŸ¥è¯¢è¡¨çš„å…¨éƒ¨æ•°æ®ï¼Œå¯ä»¥ç”¨æ­¤æ–¹æ³• 123INSERT INTO ç›®æ ‡è¡¨ SELECT * FROM æ¥æºè¡¨;-- ç¤ºä¾‹ï¼šINSERT INTO user_login1 SELECT * FROM user_login; å¦‚æœåªå¸Œæœ›æ’å…¥æŒ‡å®šå­—æ®µï¼Œå¯ä»¥ç”¨æ­¤æ–¹æ³•ï¼Œæ³¨æ„ä¸¤è¡¨çš„å­—æ®µç±»å‹å¿…é¡»ä¸€è‡´ 123INSERT INTO ç›®æ ‡è¡¨(å­—æ®µ1,å­—æ®µ2,...) SELECT å­—æ®µ1,å­—æ®µ2,... FROM æ¥æºè¡¨;-- ç¤ºä¾‹ï¼šINSERT INTO user_info(login_name,password) SELECT login_name,password FROM user_login","categories":[{"name":"SQL","slug":"SQL","permalink":"http://blog.karakarua.com/categories/SQL/"}],"tags":[{"name":"SQL","slug":"SQL","permalink":"http://blog.karakarua.com/tags/SQL/"}]},{"title":"æŸ¥è¯¢LaTeXè‹±æ–‡è®ºæ–‡ä¸­æ ‡ç‚¹åæ— ç©ºæ ¼çš„å¥å­","slug":"LaTeXè‹±æ–‡è®ºæ–‡æŸ¥è¯¢æ ‡ç‚¹åæ²¡æœ‰ç©ºæ ¼çš„å¥å­","date":"2021-03-21T16:00:00.000Z","updated":"2021-03-22T08:30:30.963Z","comments":true,"path":"2021/03/22/a7d4b89ae5e4/","link":"","permalink":"http://blog.karakarua.com/2021/03/22/a7d4b89ae5e4/","excerpt":"","text":"èƒŒæ™¯LaTeXè‹±æ–‡è®ºæ–‡ä¸­ï¼Œæ ‡ç‚¹ç¬¦å·åéœ€è¦å­˜åœ¨ç©ºæ ¼ï¼Œå³å¼€å¯ä¸‹ä¸€å¥éœ€è¦å…ˆè¾“å…¥ä¸€ä¸ªç©ºæ ¼ã€‚ åœ¨ç¼–å†™è®ºæ–‡æ—¶æœ‰æ—¶ä¼šå¿˜è®°æ•²ç©ºæ ¼ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºè¿™äº›ä¸ç¬¦åˆè§„èŒƒçš„å¥å­ã€‚ ä¸¾ä¸ªä¾‹å­å°±æ˜ç™½äº†ï¼š å¥å­A It is a dog,it is a cat.It is a bird. è¿™ä¹ˆå†™æ˜¯ä¸è§„èŒƒçš„ï¼Œæ­£ç¡®çš„åº”è¯¥æ˜¯ å¥å­B It is a dog, it is a cat. It is a bird. åº”è¯¥èƒ½çœ‹å‡ºå·®å¼‚ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾å‡ºå¥å­Aè¿™æ ·çš„å¥å­ã€‚ è§£å†³åŠæ³•æ‰‹åŠ¨æŸ¥æ‰¾æ˜¯å¾ˆç´¯çš„çš„ï¼Œè¿™é‡Œé‡‡ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯»æ‰¾ï¼š 1(?&lt;!\\&#123;.*|\\&amp;.*|\\[.*)\\w[,.:\\)]\\w è§£è¯»æ­£åˆ™è¡¨è¾¾å¼ä»åå‘å‰è¯´ï¼š \\wï¼šä¸‹ä¸€å¥çš„è‹±æ–‡å­—ç¬¦ï¼ˆä¸€èˆ¬æ¥è¯´è‹±æ–‡å¥å­éƒ½æ˜¯ä»¥è‹±æ–‡å¼€å¤´ï¼Œè¿™é‡Œæ²¡æœ‰è€ƒè™‘æ•°å­—å¼€å¤´ï¼‰ [,.:\\)]ï¼šä»£è¡¨æ ‡ç‚¹ç¬¦å·ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚è‡ªç”±ä¹¦å†™ã€‚ (?&lt;!\\&#123;.*|\\&amp;.*|\\[.*)ï¼š è¿™æ˜¯ä¸€ä¸ªæ•´ä½“ç¬¦å·ï¼Œå¤§æ¡†æ¶æ˜¯(?&lt;!pattern)ï¼Œæ˜¯ä¸€ç§æ–­è¨€ç»“æ„ï¼Œå«ä¹‰æ˜¯æ’é™¤å·¦ä¾§å­—ç¬¦æ˜¯patternçš„å­—ç¬¦ä¸²ã€‚ (?&lt;!\\&#123;.*|\\&amp;.*|\\[.*)çš„å«ä¹‰æ˜¯æ’é™¤å·¦ä¾§æ˜¯&#123;æˆ–è€…å·¦ä¾§æ˜¯[æˆ–è€…å·¦ä¾§æ˜¯&amp;çš„å­—ç¬¦ï¼Œç”¨äºæ’é™¤å›¾è¡¨ç­‰ç»“æ„ä¸­çš„å­—ç¬¦ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚ï¼Œå‘(?&lt;!pattern)ç»“æ„ä¸­æ·»åŠ å­—ç¬¦ï¼Œä»¥|é—´éš”ã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç­›é€‰ç±»ä¼¼å¥å­Aè¿™ç§ä¸è§„èŒƒçš„ä¹¦å†™æ–¹å¼ã€‚ å½“ç„¶ï¼Œè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¿˜æœ‰è€ƒè™‘ä¸å‘¨ä¹‹å¤„ï¼Œä½†åŸºæœ¬å¯ä»¥è§£å†³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ é™„å½•ç±»ä¼¼(?&lt;!pattern)çš„æ­£åˆ™è¡¨è¾¾å¼è¿˜æœ‰(?&lt;=pattern)ã€(?=pattern)ã€(?!pattern)ã€(?:pattern)ï¼Œå…¶å«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼ˆæ¥è‡ªç™¾åº¦ç™¾ç§‘ï¼šæ­£åˆ™è¡¨è¾¾å¼ï¼‰ å…ƒå­—ç¬¦ æè¿° (?:pattern) éè·å–åŒ¹é…ï¼ŒåŒ¹é…patternä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦â€œ(\\ )â€æ¥ç»„åˆä¸€ä¸ªæ¨¡å¼çš„å„ä¸ªéƒ¨åˆ†æ—¶å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚â€œindustr(?:y\\ ies)â€å°±æ˜¯ä¸€ä¸ªæ¯”â€œindustry\\ industriesâ€æ›´ç®€ç•¥çš„è¡¨è¾¾å¼ã€‚ (?=pattern) éè·å–åŒ¹é…ï¼Œæ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œâ€œWindows(?=95\\ 98\\ NT\\ 2000)â€èƒ½åŒ¹é…â€œWindows2000â€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œWindows3.1â€ä¸­çš„â€œWindowsâ€ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚ (?!pattern) éè·å–åŒ¹é…ï¼Œæ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚â€œWindows(?!95\\ 98\\ NT\\ 2000)â€èƒ½åŒ¹é…â€œWindows3.1â€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œWindows2000â€ä¸­çš„â€œWindowsâ€ã€‚ (?&lt;=pattern) éè·å–åŒ¹é…ï¼Œåå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œâ€œ(?&lt;=95\\ 98\\ NT\\ 2000)Windowsâ€èƒ½åŒ¹é…â€œ2000Windowsâ€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ3.1Windowsâ€ä¸­çš„â€œWindowsâ€ã€‚*pythonçš„æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰å®Œå…¨æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼è§„èŒƒå®ç°ï¼Œæ‰€ä»¥ä¸€äº›é«˜çº§ç‰¹æ€§å»ºè®®ä½¿ç”¨å…¶ä»–è¯­è¨€å¦‚javaã€scalaç­‰ (?&lt;!pattern) éè·å–åŒ¹é…ï¼Œåå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚â€œ(?&lt;!95\\ 98\\ NT\\ 2000)Windowsâ€èƒ½åŒ¹é…â€œ3.1Windowsâ€ä¸­çš„â€œWindowsâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œ2000Windowsâ€ä¸­çš„â€œWindowsâ€ã€‚*pythonçš„æ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰å®Œå…¨æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼è§„èŒƒå®ç°ï¼Œæ‰€ä»¥ä¸€äº›é«˜çº§ç‰¹æ€§å»ºè®®ä½¿ç”¨å…¶ä»–è¯­è¨€å¦‚javaã€scalaç­‰","categories":[{"name":"Misc","slug":"Misc","permalink":"http://blog.karakarua.com/categories/Misc/"}],"tags":[{"name":"LaTeX","slug":"LaTeX","permalink":"http://blog.karakarua.com/tags/LaTeX/"},{"name":"Regex","slug":"Regex","permalink":"http://blog.karakarua.com/tags/Regex/"}]},{"title":"è½¬è½½-æ•°æ®ç»“æ„ä¸ç®—æ³•çŸ¥è¯†ç‚¹æ€ç»´å¯¼å›¾","slug":"è½¬è½½-æ•°æ®ç»“æ„ä¸ç®—æ³•çŸ¥è¯†ç‚¹æ€ç»´å¯¼å›¾","date":"2021-03-15T16:00:00.000Z","updated":"2021-03-16T11:04:24.707Z","comments":true,"path":"2021/03/16/fb2f8daaafda/","link":"","permalink":"http://blog.karakarua.com/2021/03/16/fb2f8daaafda/","excerpt":"","text":"è½¬è‡ªçŸ¥ä¹å¦‚ä½•ç³»ç»Ÿåœ°å­¦ä¹ æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Ÿçš„æ•°æ®ç»“æ„ä¸ç®—æ³•çŸ¥è¯†ç‚¹æ€ç»´å¯¼å›¾ï¼š å…¶ä»–ï¼šä¸€ä¸ªç®—æ³•ç›¸å…³çš„ç½‘ç«™ï¼šç®—æ³•ç½‘ï¼Œç½‘ç«™å†…ä¹ŸåŒ…å«ä¸€äº›å…¶ä»–çš„çŸ¥è¯†ï¼Œå¦‚åç«¯å¼€å‘ã€ç§»åŠ¨å¼€å‘ã€å¤§æ•°æ®ç­‰ã€‚","categories":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/categories/Code/"}],"tags":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/tags/Code/"}]},{"title":"dockerå¸¸ç”¨å‘½ä»¤","slug":"dockerå¸¸è§å‘½ä»¤","date":"2021-03-09T16:00:00.000Z","updated":"2021-04-03T04:53:15.101Z","comments":true,"path":"2021/03/10/2d503f39a87f/","link":"","permalink":"http://blog.karakarua.com/2021/03/10/2d503f39a87f/","excerpt":"","text":"é•œåƒæ“ä½œ docker pull IMAGE-NAME [:TAG] ä»ä»“åº“æ‹‰å–é•œåƒï¼ŒTAGè¡¨ç¤ºé•œåƒçš„ç‰ˆæœ¬ï¼Œçœç•¥TAGè¡¨ç¤ºæ‹‰å–latestå¯¹åº”çš„ç‰ˆæœ¬çš„é•œåƒ æ¥è‡ªDockerHubçš„MySQLçš„æˆªå›¾ï¼š docker push IMAGE-NAME [:TAG] å°†æœ¬åœ°é•œåƒä¸Šä¼ åˆ°ä»“åº“ docker search KEYWORD æ ¹æ®å…³é”®è¯æœç´¢é•œåƒ docker images [OPTION] [REPOSITORY [:TAG] ] æ ¹æ®é€‰é¡¹ã€ä»“åº“åç§°ã€ç‰ˆæœ¬ï¼Œåˆ—å‡ºæœ¬åœ°çš„é•œåƒ OPTION : -a : åˆ—å‡ºå…¨éƒ¨é•œåƒ -f ï¼šæ˜¾ç¤ºæ»¡è¶³æ¡ä»¶çš„é•œåƒï¼ŒHow to use docker images filter -q : åªæ˜¾ç¤ºé•œåƒID REPOSITORY:TAG : æŒ‡å®šä»“åº“åç§°å’Œç‰ˆæœ¬æ—¶åˆ—å‡ºæœ¬åœ°é•œåƒ docker rmi [OPTION] IMAGE1-NAME[:TAG] IMAGE2-NAME[:TAG] â€¦ OPTION : -f : å¼ºåˆ¶åˆ é™¤é•œåƒï¼ˆå³æ—¶å­˜åœ¨å®¹å™¨ï¼Œä¹Ÿå¼ºåˆ¶åˆ é™¤ï¼‰ å¯ä»¥ä¸€æ¬¡åˆ é™¤å¤šä¸ªé•œåƒ docker build [OPTION] PATH åˆ©ç”¨Dockerfileè‡ªå®šä¹‰æ„å»ºé•œåƒ OPTION : -f : æŒ‡å®šä½¿ç”¨çš„Dockerfileè·¯å¾„ï¼ˆå¯ä»¥ç”¨â€.â€è¡¨ç¤ºå½“å‰è·¯å¾„ï¼‰ -t : æŒ‡å®šé•œåƒåç§°åŠç‰ˆæœ¬ï¼Œæ ¼å¼ IMAGE-NAME[:TAG] Dockerfileæ–‡ä»¶çš„åç§°é¡»æ˜¯Dockerfile å®¹å™¨æ“ä½œ docker run [OPTION] IMAGE-NAME[:TAG] [COMMAND] ä»¥æŸä¸ªé•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶è¿è¡Œå®¹å™¨ï¼ˆå¯æŒ‡å®šåˆå§‹å‘½ä»¤ï¼‰ OPTION : -d åå°è¿è¡Œå®¹å™¨ï¼Œè¿”å›ä¸ºå®¹å™¨ID -it ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼ˆ-iï¼šäº¤äº’æ¨¡å¼ï¼Œ-tï¼šä¼ªç»ˆç«¯ï¼ŒäºŒè€…å¸¸ä¸€èµ·ä½¿ç”¨ï¼‰ -p å®¹å™¨å†…ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºç«¯å£ï¼Œæ ¼å¼ä¸º å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ -P éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…ç«¯å£éšæœºæ˜ å°„åˆ°å®¿ä¸»æœºç«¯å£ â€”name æŒ‡å®šå®¹å™¨åç§° -e æŒ‡å®šç¯å¢ƒå˜é‡ï¼ˆä¹Ÿå¯ä»¥åœ¨Dockerfileæ—¶é€šè¿‡ENVæŒ‡å®šç¯å¢ƒå˜é‡ï¼‰ â€”env-file å½“ç¯å¢ƒå˜é‡æœ‰å¾ˆå¤šæ—¶ï¼Œå¯ä»¥ä»æŒ‡å®šæ–‡ä»¶è¯»å…¥ç¯å¢ƒå˜é‡ï¼Œæ–‡ä»¶å¯ä»¥ä»»æ„å‘½å â€”link ä¸å…¶ä»–å®¹å™¨å»ºç«‹å•å‘é€šä¿¡ï¼Œ â€”linkåè·Ÿçš„æ˜¯å®¹å™¨åç§°ï¼Œè¯¥é€‰é¡¹å®é™…æ˜¯åœ¨æœ¬å®¹å™¨çš„/etc/hostså»ºç«‹å…¶ä»–å®¹å™¨çš„è§£æ -v æŒ‚åœ¨æ–‡ä»¶åˆ°å®¹å™¨å†…å®¹ï¼Œæ ¼å¼ å®¿ä¸»æœºè·¯å¾„: å®¹å™¨å†…éƒ¨è·¯å¾„ â€”dns æŒ‡å®šå®¹å™¨çš„dnsæœåŠ¡å™¨ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡/etc/docker/daemon.jsoné…ç½®dnsï¼‰ â€”net æŒ‡å®šå®¹å™¨çš„ç½‘ç»œç±»å‹ï¼Œæ”¯æŒ bridge/host/none/container: å››ç§ç±»å‹ï¼› â€”expose å¼€æ”¾ä¸€ä¸ªæˆ–ä¸€ç»„ç«¯å£ï¼ˆä¹Ÿå¯ä»¥åœ¨DockerfileåŠ¨è¿‡EXPOSEæŒ‡å®šå¼€æ”¾çš„ç«¯å£ï¼‰ â€”entrypoint å®¹å™¨å¯åŠ¨æ—¶çš„å…¥å£å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šè¦†ç›–Dockerfileä¸­çš„ENTRYPOINTå‘½ä»¤ã€‚ -wæˆ–è€…â€”workdir æŒ‡å®šå·¥ä½œç›®å½•ï¼ˆDockerfileçš„æœ€åä¸€æ¬¡WORKDIRä¼šæˆä¸ºå®¹å™¨å¯åŠ¨æ—¶çš„å·¥ä½œç›®å½•ï¼‰ COMMAND ï¼šå®¹å™¨å¯åŠ¨æ—¶çš„è¿è¡Œå‘½ä»¤ï¼Œå¦‚/bin/bashï¼ˆè¯¥æŒ‡ä»¤å¯ä»¥åœ¨Dockerfileä¸­ç”±CMDæŒ‡å®šï¼Œrunä¸­æŒ‡å®šçš„COMMANDä¼šè¦†ç›–Dockerfileä¸­çš„CMDï¼‰ docker start/stop/restart IMAGE-NAME å¯åŠ¨ã€åœæ­¢æˆ–é‡å¯å®¹å™¨ docker exec [OPTION] CONTAINER-NAME è¿›å…¥å®¹å™¨å†…éƒ¨ OPTION : -it è¿›å…¥å®¹å™¨çš„äº¤äº’æ¨¡å¼ï¼Œè¯¥é€‰é¡¹ä¸€èˆ¬æ˜¯å¿…é¡»é€‰é¡¹ docker crate [OPTION] IMAGE-NAME[:TAG] [COMMAND] åˆ›å»ºå®¹å™¨ä½†ä¸è¿è¡Œå®¹å™¨ï¼ˆOPTIONåŒdocker runï¼Œæœ‰æ—¶ä½¿ç”¨createåˆ›å»ºä¸€ä¸ªå…±äº«å®¹å™¨) docker pause/unpause CONTAINER-NAME æš‚åœ/æ¢å¤å®¹å™¨ï¼ˆæ³¨æ„pauseæ˜¯æš‚åœå®¹å™¨ï¼Œ stopæ˜¯åœæ­¢å®¹å™¨ï¼‰ docker rm [OPTION] CONTAINER-NAME åˆ é™¤å®¹å™¨ OPTION : -f ï¼šå¼ºåˆ¶åˆ é™¤å®¹å™¨ï¼ˆå³ä¾¿å®¹å™¨åœ¨è¿è¡ŒçŠ¶æ€ï¼‰ -v ï¼šåˆ é™¤å®¹å™¨æŒ‚è½½çš„å·ï¼ˆæŒ‚è½½ä¸€èˆ¬æ˜¯ä¸ºäº†ä½¿å®¹å™¨ä¸å¤–éƒ¨è¿é€šï¼Œé™¤éæŒ‚è½½å·æ— ç”¨æ‰ä¼šåˆ é™¤æŒ‚è½½å·ï¼‰ docker ps [OPTION] åˆ—å‡ºæœ¬åœ°çš„å®¹å™¨ OPTION: -a åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„å®¹å™¨ï¼ˆdocker psåªåˆ—å‡ºè¿è¡ŒçŠ¶æ€çš„å®¹å™¨ï¼ŒåŠ ä¸Š-aæ˜¯åˆ—å‡ºæ‰€æœ‰çš„å®¹å™¨è€Œä¸ç®¡å…¶æ˜¯å¦è¿è¡Œï¼‰ -l åˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨ -n åˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„nä¸ªå®¹å™¨ -s æ˜¾ç¤ºå®¹å™¨å¤§å°ï¼ˆä¼šå¤šä¸€åˆ—: SIZE) -q åªæ˜¾ç¤ºå®¹å™¨ç¼–å·ï¼Œå®‰é™æ¨¡å¼ docker inspect [OPTION] NAME|ID æŸ¥çœ‹å®¹å™¨æˆ–è€…é•œåƒçš„å„ç§å±æ€§ï¼Œå¦‚æŒ‚è½½ã€é…ç½®ã€IPç­‰ OPTION : -s : æ ‡å‡†è¾“å‡ºçš„å‚æ•°ä¸­ä¼šæ˜¾ç¤ºå¤§å°ä¿¡æ¯ï¼ˆä¸åŠ -sæ²¡æœ‰sizeä¿¡æ¯ï¼‰ å¯ä»¥ä½¿ç”¨å®¹å™¨æˆ–é•œåƒçš„åç§°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å®¹å™¨æˆ–é•œåƒçš„ç¼–å· docker logs [OPTION] CONTAINER-NAME è·å–å®¹å™¨å†…éƒ¨æ—¥å¿— OPTION : -t æ˜¾ç¤ºæ—¥å¿—æ—¶é—´æˆ³ï¼ˆä¸åŠ -tï¼Œé»˜è®¤æ²¡æœ‰æ—¶é—´æˆ³ï¼‰ â€”since æ˜¾ç¤ºæŸä¸ªæ—¶é—´ä¹‹åçš„æ—¥å¿— â€”tail æ˜¾ç¤ºæœ«å°¾Næ¡æ—¥å¿— docker cp CONTAINER-NAME SRC:DST ä»å®¿ä¸»æœºå‘å®¹å™¨æ‹·è´æ•°æ® å®¹å™¨ä¸é•œåƒçš„å¤‡ä»½ä¸è¿ç§» docker save [OPTION] IMAGE-NAME[:TAG] å°†æœ¬åœ°é•œåƒä¿å­˜ä¸ºtarå½’æ¡£ OPTION : -o ï¼ˆå¿…éœ€å‘½ä»¤ï¼‰è¾“å‡ºåˆ°æ–‡ä»¶ï¼ˆæˆ–è€…ä½¿ç”¨ &gt; , â€œ&gt;â€çš„å«ä¹‰æ˜¯é‡å®šå‘è‡³â€¦ï¼‰ å¯ä»¥ä¸€æ¬¡å†™å…¥å¤šä¸ªé•œåƒ docker load [OPTION] FILE å°†é•œåƒçš„tarå½’æ¡£æ–‡ä»¶åŠ è½½ä¸ºé•œåƒ OPTION : -i ï¼ˆå¿…éœ€å‘½ä»¤ï¼‰æŒ‡å®šè¾“å…¥çš„æ–‡ä»¶ï¼ˆæˆ–è€…ä½¿ç”¨&lt; ï¼Œâ€&lt;â€çš„å«ä¹‰æ˜¯ä»â€¦é‡å®šå‘åˆ°æ­¤ï¼‰ -q ç²¾ç®€è¾“å‡ºä¿¡æ¯ å¯ä»¥è½½å…¥å¤šä¸ªé•œåƒ docker export [OPTION] CONTAINER-NAME å°†å®¹å™¨å¿«ç…§å¯¼å‡ºä¸ºtaræ–‡ä»¶ OPTION : -o ï¼ˆå¿…éœ€å‘½ä»¤ï¼‰å†…å®¹è¾“å‡ºæŒ‡å‘çš„æ–‡ä»¶ï¼ˆæˆ–ä½¿ç”¨é‡å®šå‘â€&gt;â€ï¼‰ CAUTION: ä½¿ç”¨exportå¯¼å‡ºçš„é•œåƒåªæ˜¯å®¹å™¨çš„å¿«ç…§ï¼Œä¼šå¤±å»å†å²è®°å½•ã€WORKDIRã€ENTRYPOINTç­‰ä¿¡æ¯ docker import [OPTION] FILE å°†å®¹å™¨å¿«ç…§çš„tarå½’æ¡£æ–‡ä»¶åŠ è½½ä¸ºé•œåƒ æ³¨æ„ï¼šæ¢å¤çš„é•œåƒåªæ˜¯å®¹å™¨çš„å¿«ç…§é•œåƒï¼Œæ²¡æœ‰å†å²è®°å½•åŠæ•°æ®ä¿¡æ¯ï¼ˆWORKDIRã€ENTRYPOINTç­‰ï¼‰ docker loadå’Œdocker importå­˜åœ¨åŒºåˆ«ï¼Œå‡†ç¡®è¯´æ˜¯saveå’Œexportçš„åŒºåˆ«ï¼Œsaveä¼šä¿å­˜è¯¥é•œåƒçš„çš„æ‰€æœ‰å†å²è®°å½•ï¼Œè€Œexportåªæ˜¯ä¿å­˜å®¹å™¨çš„å¿«ç…§ docker commit [OPTION] CONTAINER-NAME [REPOSITORY[:TAG]] ä»ç°æœ‰å®¹å™¨åˆ¶ä½œé•œåƒ OPTION : -a åˆ¶ä½œé•œåƒçš„ä½œè€…é•œåƒå±æ€§ä¸­ä¼šåŒ…å«Authorä¿¡æ¯ï¼Œå¯é€šè¿‡inspectå‘½ä»¤æŸ¥çœ‹ï¼‰ -m åˆ¶ä½œé•œåƒçš„è¯´æ˜æ³¨é‡Šï¼ˆé•œåƒå±æ€§ä¸­ä¼šåŒ…å«Commentä¿¡æ¯ï¼Œå¯é€šè¿‡inspectå‘½ä»¤æŸ¥çœ‹ï¼‰ commitä¸åŒäºexportï¼Œä¼šä¿å­˜å®¹å™¨çš„å†å²å˜æ›´ï¼Œå³è¯»å†™å±‚å†…å®¹ æ­¤å°èŠ‚ç›¸å…³é“¾æ¥ï¼š docker importå’Œdocker loadçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ dockerï¼šexport/save/commitè°æ‰æ˜¯ä½ å¿ƒä¸­é‚£ä¸ªå¥¹ Dockeré•œåƒä¸å®¹å™¨å¤‡ä»½è¿ç§»ï¼ˆexportã€importä¸commitã€saveã€loadï¼‰ dockerç½‘ç»œç®¡ç†ï¼šdocker network COMMAND dockeræœ‰å››ç§ç½‘ç»œç±»å‹ï¼Œåˆ†åˆ«æ˜¯bridgeã€hostã€noneã€containerï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºæ¡¥æ¥æ¨¡å¼ï¼ˆæˆ–æ˜¯NATæ¨¡å¼ï¼‰ã€ä¸»æœºæ¨¡å¼ã€æ‰‹åŠ¨é…ç½®ç½‘ç»œã€å…±äº«å®¹å™¨ç½‘ç»œï¼Œå¯å‚è€ƒçš„é“¾æ¥ï¼šDockerçš„ç½‘ç»œæ¦‚å¿µä¸ç½‘ç»œæ¨¡å¼ã€Dockerçš„å››ç§ç½‘ç»œæ¨¡å¼Bridgeæ¨¡å¼ docker network ls [OPTION] åˆ—å‡ºå·²æœ‰çš„ç½‘ç»œç±»å‹ OPTION : -q å®‰é™æ¨¡å¼ï¼Œåªåˆ—å‡ºç½‘ç»œç¼–å· docker network create [OPTION] NETWORK-NAME OPTION : -d, â€”drive æŒ‡å®šç½‘ç»œç±»å‹ â€”gateway æŒ‡å®šç½‘å…³ â€”subnet ä½¿ç”¨CIDRæ ¼å¼æŒ‡å®šç½‘ç»œIP docker connect NETWORK-NAME CONTAINER-NAME å°†å®¹å™¨è¿æ¥åˆ°ç½‘ç»œ ä¹Ÿå¯ä»¥åœ¨å®¹å™¨å¯åŠ¨æ—¶é€šè¿‡ â€”network æŒ‡å®šå®¹å™¨è¿æ¥çš„ç½‘ç»œ å®¹å™¨è¿æ¥åˆ°ç½‘ç»œï¼Œå®é™…æ˜¯ä¸ºå®¹å™¨æ·»åŠ äº†ä¸€å—æ–°çš„ç½‘å¡å¹¶è¿æ¥åˆ°æ–°çš„ç½‘ç»œï¼Œå¯ä»¥åœ¨å®¹å™¨å†…éƒ¨é€šè¿‡ifconfigæŸ¥çœ‹ï¼ˆé€šè¿‡apt-get install net-toolså®‰è£…ifconfigï¼‰ docker disconnect [OPTION] NETWORK-NAME CONTAINER-NAME å°†å®¹å™¨ä¸ç½‘ç»œæ–­å¼€è¿æ¥ OPTION : -f å¼ºåˆ¶æ–­å¼€è¿æ¥ docker inspect [OPTION] NETWORK-NAME æŸ¥çœ‹ç½‘ç»œå±æ€§ OPTION : -v, â€”verbose è¯¦ç»†è¾“å‡º docker network rm NETWORK-NAME åˆ é™¤ç½‘ç»œ docker network prune [OPTION] åˆ é™¤æ— ç”¨ç½‘ç»œ OPTION : -f : å¼ºåˆ¶åˆ é™¤ï¼Œæ— éœ€ç¡®è®¤ å€ŸåŠ©å®¹å™¨ç”Ÿå‘½å‘¨æœŸè®°å¿†å‘½ä»¤","categories":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/tags/Docker/"}]},{"title":"dockeråŸºç¡€","slug":"dockeråŸºç¡€","date":"2021-03-07T16:00:00.000Z","updated":"2021-03-10T11:51:03.198Z","comments":true,"path":"2021/03/08/cce4c2665410/","link":"","permalink":"http://blog.karakarua.com/2021/03/08/cce4c2665410/","excerpt":"","text":"å‰è¨€ ä»ç‰©ç†æœºåˆ°å®¹å™¨åŒ–ï¼š ç‰©ç†æœºæ—¶ä»£ï¼šéƒ¨ç½²æ…¢ã€æˆæœ¬é«˜ã€èµ„æºæµªè´¹ã€éš¾è¿ç§»ã€å—åˆ¶äºç¡¬ä»¶ è™šæ‹Ÿæœºæ—¶ä»£ï¼šç³»ç»Ÿçº§åˆ«çš„éš”ç¦»ï¼Œéœ€è¦å®‰è£…æ“ä½œç³»ç»Ÿ å®¹å™¨åŒ–æ—¶ä»£ï¼šåº”ç”¨å±‚é¢çš„éš”ç¦»ï¼Œæ¯”è™šæ‹Ÿæœºæ›´çµæ´» (https://sm.ms/image/9oQpOKn17WV3afl) å®¹å™¨åŒ–çš„åº”ç”¨åœºæ™¯ï¼š æ ‡å‡†åŒ–çš„è¿ç§»æ–¹å¼ ç»Ÿä¸€çš„å‚æ•°é…ç½® è‡ªåŠ¨åŒ–éƒ¨ç½² åº”ç”¨é›†ç¾¤ç›‘æ§ å¼€å‘ä¸è¿ç»´æ²Ÿé€šçš„æ¡¥æ¢ docker å®‰è£… åœ¨centosä¸Šå®‰è£…dockerï¼šInstall Docker Engine on CentOS åœ¨Ubuntuä¸Šå®‰è£…dockerï¼šInstall Docker Engine on Ubuntu dockeré•œåƒåŠ é€Ÿç¼–è¾‘ /etc/docker/daemon.jsonï¼ŒåŠ å…¥ä»¥ä¸‹å†…å®¹ï¼ˆå¯ä»¥æ·»åŠ å¤šä¸ªurlï¼Œä»¥é€—å·åˆ†éš”ï¼‰ï¼š 123456&#123; &quot;registry-mirrors&quot;:[ &quot;https://docker.mirrors.ustc.edu.cn/&quot;, &quot;https://hub-mirror.c.163.com/&quot; ]&#125; å…¶ä»–åŠ é€Ÿåœ°å€å¯è§é“¾æ¥ï¼šDocker é•œåƒåŠ é€Ÿ dockerçš„åŸºæœ¬æ¦‚å¿µï¼ˆä¸ä¸“ä¸šçš„ç†è§£ï¼‰ é•œåƒã€ä¸€ç§åªè¯»çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚ï¼ˆä¸æ°å½“çš„æ¯”å–»ï¼Œç±»ä¼¼å®‰è£…å­˜åœ¨ç³»ç»Ÿçš„é•œåƒæ–‡ä»¶ï¼‰ å®¹å™¨ï¼š é•œåƒè¿è¡Œæ—¶çš„å®ä½“ï¼Œå½¼æ­¤ä¹‹é—´ç›¸äº’éš”ç¦»ï¼ˆä¸æ°å½“çš„æ¯”å–»ï¼Œç±»ä¼¼å®‰è£…æˆåŠŸåçš„æ“ä½œç³»ç»Ÿï¼‰ ä»“åº“ï¼šé›†ä¸­å­˜å‚¨é•œåƒçš„è¿œç¨‹æœåŠ¡å™¨ã€‚ dockerçš„ç®€å•æ¶æ„dockeråŸºäºC/Sæ¶æ„ï¼Œç”±serveræä¾›åŠŸèƒ½å¹¶æ¥å— client çš„è¯·æ±‚ï¼ŒäºŒè€…ä¹‹é—´é€šè¿‡REST APIé€šä¿¡ï¼ˆHTTP) æ›´å¤æ‚çš„æ¶æ„ç»†èŠ‚å¯è§é“¾æ¥ï¼šDocker1-æ¶æ„åŸç†åŠç®€å•ä½¿ç”¨ï¼ˆç»ˆäºæŠŠDockerè®²æ˜ç™½äº†ï¼‰","categories":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/tags/Docker/"}]},{"title":"ä»æš´åŠ›ç ´è§£åˆ°åŠ¨æ€è§„åˆ’è§£ç­”é¢˜ç›®è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ","slug":"ä»æš´åŠ›ç ´è§£åˆ°åŠ¨æ€è§„åˆ’è§£ç­”é¢˜ç›®è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ","date":"2021-01-12T16:00:00.000Z","updated":"2021-03-10T12:34:44.722Z","comments":true,"path":"2021/01/13/166d8b96ee8b/","link":"","permalink":"http://blog.karakarua.com/2021/01/13/166d8b96ee8b/","excerpt":"","text":"æ¢³ç†ä¸€ä¸‹è‡ªå·±ä»æš´åŠ›ç ´è§£åˆ°åŠ¨æ€è§„åˆ’çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚ è§£æ­¤é¢˜ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„æ€è·¯å°±æ˜¯æš´åŠ›ç ´è§£ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦è‡³å°‘ä¼šæ˜¯$O(n^2)$ï¼Œæœ‰ä¸¤ç§å†™æ³•ï¼š 1234567891011121314151617// æ—¶é—´å¤æ‚åº¦ï¼šO(n^3)class Solution &#123; public int maxSubArray(int[] nums) &#123; int max = Integer.MIN_VALUE; for(int i = 0;i &lt; nums.length;i++)&#123; for(int j = i;j &lt; nums.length;j++)&#123; // è®¡ç®—sum(i,j) int sum = 0; for(int k = i;k&lt;j;k++) sum+=nums[k]; if(sum &gt; max) max = sum; &#125; &#125; return max; &#125;&#125; 12345678910111213141516// æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)class Solution &#123; public int maxSubArray(int[] nums) &#123; int max = Integer.MIN_VALUE; for(int i = 0;i &lt; nums.length;i++)&#123; int sum = 0; for(int j = i;j &lt; nums.length;j++)&#123; //sum(i,j)=sum(i,j-1)+nums[j] sum += nums[j]; if(sum &gt; max) max = sum; &#125; &#125; return max; &#125;&#125; æ— è®ºé‚£ç§æš´åŠ›ç ´è§£ï¼Œè¿‡ç¨‹ä¸­éœ€è¦è®¡ç®—çš„å­æ•°ç»„ä¸€å®šå¦‚ä¸‹æ‰€åˆ—ï¼Œå…¶ä¸­$sum(i,j)$ä»£è¡¨è®¡ç®—ä»$nums[i]$åˆ°$nums[j]$çš„å…ƒç´ ä¹‹å’Œï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°æœ€å¤§çš„ $sum(i,j)$ã€‚ sum(0,0) sum(0,1) sum(1,1) sum(0,2) sum(1,2) sum(2,2) sum(0,3) sum(1,3) sum(2,3) sum(3,3) â€¦.. â€¦ â€¦ â€¦. å‡å¦‚æˆ‘ä»¬è¦ä»¥$O(n)$çš„æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–ç®—æ³•ï¼Œå°±éœ€è¦è¿›ä¸€æ­¥å‹ç¼©è®¡ç®—ã€‚ è§‚å¯Ÿä¸Šè¾¹è¿™ä¸ªè¡¨æ ¼ï¼Œå¦‚æœæˆ‘ä»¬æ¯æ¬¡èƒ½åœ¨æœ€å³ä¾§å¾—åˆ°è¯¥è¡Œçš„æœ€å¤§å€¼ï¼Œç„¶åå†æ±‚è¿™ä¹ˆå¤šæœ€å¤§å€¼çš„æœ€å¤§å€¼ï¼Œå²‚ä¸å°±èƒ½åœ¨$O(n)$å†…è®¡ç®—å‡ºç»“æœï¼Ÿ è¡Œæœ€å¤§å€¼ sum(0,0) dp[0] sum(0,1) sum(1,1) dp[1] sum(0,2) sum(1,2) sum(2,2) dp[2] sum(0,3) sum(1,3) sum(2,3) sum(3,3) dp[3] â€¦.. â€¦ â€¦ â€¦. dp[j] è¡¨æ ¼æ¯ä¸€è¡Œçš„å­æ•°ç»„éƒ½æ˜¯ä»¥æŸä¸€å€¼ç»“å°¾ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾$dp[j]$ä¸ºä»¥$j$ ç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å€¼ï¼Œå¦‚ä¸Šé¢è¡¨æ ¼æ‰€ç¤ºã€‚$dp[j]$çš„æœ€å¤§å€¼å°±æ˜¯æˆ‘ä»¬è¦çš„ç»“æœã€‚ å¦‚ä½•è®¡ç®—$dp[j]$å‘¢ï¼Ÿ ä»¥$sum(0,3) ã€ sum(1,3) ã€ sum(2,3) ã€ sum(3,3)$ä¸ºä¾‹ï¼Œæˆ‘ä»¬æ€è€ƒä¸€ä¸‹æ€ä¹ˆæ±‚å››è€…æœ€å¤§å€¼ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œå››è€…åŒæ—¶åŒ…å«$nums[3]$ï¼Œæ¯”è¾ƒå››è€…å“ªä¸ªæ›´å¤§ï¼Œå…¶å®å°±æ˜¯æ¯”è¾ƒ$0ã€nums[2]ã€nums[1]+nums[2]ã€nums[0]+nums[1]+nums[2]$å››è€…è°å¤§è°å°ã€‚ æœ‰æ²¡æœ‰å‘ç°è§„å¾‹ï¼Ÿ$nums[2]ã€nums[1]+nums[2]ã€nums[0]+nums[1]+nums[2]$è¿™ä¸‰è€…çš„æœ€å¤§å€¼æ°å¥½å°±æ˜¯dp[2]ã€‚æ‰€ä»¥ï¼Œå¦‚æœdp[2]&gt;0ï¼Œdp[3]=dp[2]+nums[3]ï¼Œå¦åˆ™ï¼Œdp[3] = 0 + nums[3]ã€‚ç”¨å…¬å¼è¡¨ç¤ºå°±æ˜¯ï¼š dp[j]=\\begin{cases} dp[j-1]+nums[j], & dp[j-1]>0 \\\\ nums[j], & dp[j-1]\\le 0 \\end{cases} æœ€åä¸€æ­¥ï¼Œå°±æ˜¯å¯¹ä¸Šé¢æ‰€æœ‰çš„$dp[j]$æ±‚æœ€å¤§å€¼ã€‚æ‰€ä»¥ï¼ŒåŠ¨æ€è§„åˆ’çš„ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819class Solution &#123; public int maxSubArray(int[] nums) &#123; int[] dp = new int[nums.length]; dp[0]=nums[0]; for(int j = 1;j&lt;nums.length;j++)&#123; if(dp[j-1]&gt;0)&#123; dp[j] = dp[j-1]+nums[j]; &#125;else&#123; dp[j] = nums[j]; &#125; &#125; int max = Integer.MIN_VALUE; for(int i = 0;i&lt;dp.length;i++)&#123; if(dp[i]&gt;max) max = dp[i]; &#125; return max; &#125;&#125; æœ€åŸºç¡€çš„åŠ¨æ€è§„åˆ’åšæ³•åˆ°è¿™å°±ç»“æŸäº†ï¼Œå…³äºåŠ¨æ€è§„åˆ’çš„å†ä¼˜åŒ–ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ã€‚","categories":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/categories/Code/"}],"tags":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/tags/Code/"}]},{"title":"Pythonå¾ªç¯ä½“å†…å®ç°å¼‚æ­¥å¹¶å‘","slug":"Pythonå¾ªç¯ä½“å†…å®ç°å¼‚æ­¥å¹¶å‘","date":"2020-12-18T16:00:00.000Z","updated":"2021-03-13T12:16:37.431Z","comments":true,"path":"2020/12/19/78eee4d0e7ba/","link":"","permalink":"http://blog.karakarua.com/2020/12/19/78eee4d0e7ba/","excerpt":"","text":"é—®é¢˜èµ·æºï¼šå¾ªç¯ä½“å†…æ— æ³•å®ç°å¼‚æ­¥ã€‚Pythonä½¿ç”¨å¼‚æ­¥æ¨¡å—Asyncioå®ç°å¤šçº¿ç¨‹å¹¶å‘ï¼Œä¸€èˆ¬æ–¹å¼æ˜¯:12345678async def func(): # code... async def main(): await(func())if __name__ ==&#x27;__main__&#x27;: asyncio.run(main())ä½†å®éªŒè¿‡ç¨‹ä¸­æœ‰ä¸ªéœ€æ±‚ï¼Œæ˜¯è®©å¾ªç¯ä½“çš„æ¯æ¬¡å¾ªç¯éƒ½ä½œä¸ºä¸€ä¸ªå¹¶å‘çº¿ç¨‹äº§ç”Ÿå¹¶å‘ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯æ¬¡å¾ªç¯ä½¿ç”¨awaitè°ƒç”¨å¼‚æ­¥å‡½æ•°ï¼Œæ— æ³•å®ç°éœ€æ±‚ä¸­çš„å¹¶å‘éœ€æ±‚ã€‚ asyncioç¨‹åºå¦‚ä¸‹ï¼š 123456789101112131415import timeimport asyncioasync def hello(): await asyncio.sleep(1) print(&#x27;Hello World:%s&#x27; % time.time())async def main(): start = time.time() for i in range(5): await(hello()) print(&quot;use time: %f s&quot; % (time.time()-start))if __name__ ==&#x27;__main__&#x27;: asyncio.run(main()) ç¨‹åºç»“æœï¼š 123456Hello World:1608368438.992576Hello World:1608368439.9939594Hello World:1608368440.9950461Hello World:1608368441.9971309Hello World:1608368443.00034use time: 5.008629 s ç¨‹åºè¿è¡Œæ—¶é—´æ˜¯5ç§’ï¼Œæ„å‘³ç€å¹¶æœªè¾¾åˆ°å¼‚æ­¥çš„æ•ˆæœã€‚ åŸå› ï¼šæ•´ä¸ªforå¾ªç¯ä½“æ˜¯ä¸€ä¸ªåç¨‹ï¼Œåç¨‹åˆ‡æ¢æ—¶ä¼šæŒ‚èµ·æ•´ä¸ªmainåç¨‹ã€‚ è§£å†³åŠæ³•ï¼šä½¿ç”¨asyncio.gather()asyncio.gather()éœ€è¦è¾“å…¥ä¸€ä¸ªä»»åŠ¡åˆ—è¡¨ï¼Œgatherä¼šåˆ’åˆ†ä»»åŠ¡ï¼Œå¹¶åˆ†ç»„æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥åº”å¯¹forå¾ªç¯ä½“å†…çš„å¼‚æ­¥ã€‚ å®Œå–„åçš„ä»£ç ï¼š 123456789101112131415import timeimport asyncioasync def hello(): await asyncio.sleep(1) print(&#x27;Hello World:%s&#x27; % time.time())async def main(): tasks=[] for i in range(5): tasks.append(hello()) await asyncio.gather(*tasks)if __name__ ==&#x27;__main__&#x27;: asyncio.run(main()) ç¨‹åºè¿è¡Œç»“æœï¼š 123456Hello World:1608368546.8756351Hello World:1608368546.8756351Hello World:1608368546.8756351Hello World:1608368546.8756351Hello World:1608368546.8756351use time: 1.002837 s ç¨‹åºè¿è¡Œæ—¶é—´æ˜¯1ç§’ï¼Œè¯´æ˜å·²ç»è¾¾åˆ°å¼‚æ­¥æ•ˆæœã€‚ å‚è€ƒï¼šå¼‚æ­¥ç¼–ç¨‹ 101ï¼šasyncioä¸­çš„ for å¾ªç¯ pythonä¸­çš„asyncioä½¿ç”¨è¯¦è§£ Pythonä¸­çš„asyncioä»£ç è¯¦è§£","categories":[{"name":"Concurrency","slug":"Concurrency","permalink":"http://blog.karakarua.com/categories/Concurrency/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://blog.karakarua.com/tags/Python/"},{"name":"Concurrency","slug":"Concurrency","permalink":"http://blog.karakarua.com/tags/Concurrency/"}]},{"title":"å¤šçº¿ç¨‹åŸºç¡€â€”â€”CAS","slug":"CASåŸºç¡€","date":"2020-11-23T16:00:00.000Z","updated":"2021-03-16T05:27:47.925Z","comments":true,"path":"2020/11/24/9ebffbb32803/","link":"","permalink":"http://blog.karakarua.com/2020/11/24/9ebffbb32803/","excerpt":"","text":"CASæ¦‚å¿µï¼šCASå…¨ç§°Compare And Swapï¼Œä¸­æ–‡æ˜¯å¯¹æ¯”å¹¶äº¤æ¢ï¼Œæ˜¯ä¹è§‚é”çš„ä¸€ç§ï¼Œæ˜¯è¯´å¤šçº¿ç¨‹ä¹‹ä¸€åœ¨å†™å…¥ä¿®æ”¹å€¼å‰å…ˆåˆ¤å®šå†…å­˜ä½ç½®Vä¸­çš„å€¼æ˜¯å¦æ˜¯é¢„æœŸå€¼ï¼Œæ˜¯åˆ™ä¿®æ”¹Vä¸­çš„å€¼ï¼Œå¦åˆ™è·å–Vä¸­çš„å€¼é‡å¤CASã€‚ CASçš„è¿‡ç¨‹æ˜¯ï¼š(1) çº¿ç¨‹è¯»å–å†…å­˜ä½ç½®Vä¸­å½“å‰å€¼Eåˆ°çº¿ç¨‹å†…éƒ¨ï¼Œç„¶åä¿®æ”¹Eï¼Œå†™å›å†…å­˜å‰å†æ¬¡è·å–ä½ç½®Vçš„å€¼ï¼Œå‡å¦‚æ˜¯Nï¼Œåˆ¤æ–­N\\==E?ï¼Œå¦‚æœN\\==Eï¼Œè¯´æ˜æ²¡æœ‰å…¶ä»–çº¿ç¨‹ä¿®æ”¹ä½ç½®Vçš„å€¼ï¼Œæ‰§è¡Œå†™å›æ“ä½œã€‚CASæµç¨‹å›¾å¦‚ä¸‹ï¼ˆæ¥è‡ªé©¬å£«å…µè€å¸ˆå…¬å¼€è¯¾ç¨‹ï¼‰ ABAé—®é¢˜ABAæ˜¯ï¼šå¦‚æœçº¿ç¨‹1ç¬¬äºŒæ¬¡è·å–ä½ç½®Vå¤„çš„å€¼ä¾æ—§æ˜¯Eï¼Œä½†æ˜¯è¿™ä¸ªEåº”ä¸æ˜¯ä¸€å¼€å§‹çš„Eäº†ï¼Œå®ƒå¯èƒ½è¢«çº¿ç¨‹2å˜æ¢äº†ä¸¤æ¬¡ï¼Œä¸¾ä¸ªä¾‹å­å°±æ˜¯E-&gt; X -&gt; Eï¼Œä½†æ˜¯çº¿ç¨‹1å¹¶ä¸çŸ¥é“ï¼Œç„¶åä¿®æ”¹äº†å†…å­˜Vçš„å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å‘ç”Ÿäº†ABAé—®é¢˜ã€‚ABAé—®é¢˜çš„è§£å†³æ–¹å¼å¯ä»¥åˆ©ç”¨ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³ã€‚ç›¸å…³ç±»æœ‰ AtomicStampedReference. CASåŸç†CASæ˜¯ä½¿ç”¨JDKç±»UnSafeå®ç°çš„ï¼ŒUnSafeç±»æ˜¯ä½¿ç”¨C++ä»£ç å®ç°çš„ï¼Œå¾€æ›´åº•å±‚æ¥è®²ï¼Œæ˜¯é€šè¿‡æ±‡ç¼–ä»£ç å®ç°çš„ã€‚ Unsafeç±»ä¸­å¯¹åº”çš„ä»£ç æ˜¯ï¼š 12345678inline jint Atomic::cmpxchg (jint exchange_value, volatile jint* dest, jint compare_value) &#123; int mp == os::is_MP(); __asm__ volatile (LOCK_IF_MP(%4)) &quot;cmpxchgl %1,(%3)&quot; : &quot;=a&quot; (exchange_value) : &quot;r&quot; (exchange_value), &quot;a&quot; (compare_value), &quot;r&quot; (dest), &quot;r&quot; (mp) : &quot;cc&quot;, &quot;memory&quot;); return exchange_value;&#125; å…³é”®åœ¨äºï¼š(LOCK_IF_MP(%4)) â€œcmpxchgl %1,(%3)â€ã€‚ è¿™è¯´æ˜CASçš„åº•å±‚å®ç°è¿˜æ˜¯ä¾é æ±‡ç¼–æŒ‡ä»¤cmpxchg LOCK_IF_MPæ˜¯è¯´ï¼šå¦‚æœå¤šçº¿ç¨‹(MP=Multi Processor)ï¼Œåˆ™éœ€è¦åœ¨æ±‡ç¼–å‘½ä»¤cmpxchgå‰åŠ ä¸Šlock å› æ­¤ï¼Œå…³é”®æŒ‡ä»¤å°±æ˜¯lock cmpxchg lockæŒ‡ä»¤å¯ä»¥ä¿è¯çº¿ç¨‹æ‰§è¡ŒCASçš„è¿‡ç¨‹ä¸å—å¹²æ‰°ï¼Œå³åŠ ä¸Šé”ï¼Œé¿å…çº¿ç¨‹å†™å›å†…å­˜è¿‡ç¨‹ä½ç½®Vå¤„çš„å€¼å‘ç”Ÿæ”¹å˜ã€‚ lockçš„ç¡¬ä»¶åŸç†æ˜¯ï¼šlockæŒ‡ä»¤åœ¨æ‰§è¡Œåé¢æŒ‡ä»¤çš„æ—¶å€™é”å®šä¸€ä¸ªåŒ—æ¡¥ä¿¡å·ï¼Œç½‘ä¸Šä¹Ÿè¯´æ˜¯é”å†…å­˜æ€»çº¿æˆ–è€…cacheï¼Œè¿™éƒ¨åˆ†å»ç½‘ä¸Šç¿»äº†ç¿»ï¼Œå¤§è‡´æ‰¾åˆ°äº†ä»¥ä¸‹å‡ ä¸ªèµ„æ–™ï¼š è®¡ç®—æœºæ€»çº¿ç»“æ„è¯¦è§£ lockæŒ‡ä»¤ x86ç³»ç»Ÿcache lockingçš„åŸç† æ„Ÿè°¢é©¬è€å¸ˆã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://blog.karakarua.com/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://blog.karakarua.com/tags/Java/"}]},{"title":"Java ä¼˜å…ˆé˜Ÿåˆ—è‡ªæ’åºæ—¶æœº","slug":"Java-ä¼˜å…ˆé˜Ÿåˆ—è‡ªæ’åºæ—¶æœº","date":"2020-10-25T13:41:48.000Z","updated":"2020-10-25T14:33:28.000Z","comments":true,"path":"2020/10/25/364db06a3c43/","link":"","permalink":"http://blog.karakarua.com/2020/10/25/364db06a3c43/","excerpt":"","text":"ä»Šå¤©åšç®—æ³•é¢˜ï¼Œä½¿ç”¨åˆ°äº†ä¼˜å…ˆé˜Ÿåˆ—æ•°æ®ç»“æ„â€”â€”PriorityQueueï¼Œä½†å¿˜è®°äº†å®ƒå‘ç”Ÿè‡ªåŠ¨æ’åºçš„æ—¶æœºï¼Œè®°å½•ä¸€ä¸‹ã€‚ ç»“è®ºï¼šä¼˜å…ˆé˜Ÿåˆ—åªæœ‰åœ¨å…ƒç´ ä¸ªæ•°å‘ç”Ÿå˜åŒ–æ—¶æ‰å‘ç”Ÿè‡ªæ’åºï¼Œå¦‚æœåªæ˜¯æ”¹å˜å·²æœ‰å…ƒç´ å†…å®¹ï¼Œå¹¶ä¸èƒ½å¼•å‘è‡ªæ’åºã€‚ å®ä¾‹è¯æ˜ï¼š ä¼˜å…ˆé˜Ÿåˆ—å…ƒç´ ç±»ï¼Œè‡ªå®šä¹‰MCç±»ï¼ŒåŒ…å«ä¸¤ä¸ªå±æ€§ï¼Œç¼–å·Noå’Œæ—¶é—´aTimeã€‚ 12345678910class MC &#123; int No; int aTime; MC(int no, int atime) &#123; No = no; aTime = atime; &#125;&#125; ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œè‡ªå®šä¹‰ä¼˜å…ˆçº§è§„åˆ™ï¼šå…ˆæŒ‰aTimeä»å°åˆ°å¤§æ’åºï¼Œå†æŒ‰Noä»å°åˆ°å¤§æ’åº 1234567891011121314151617181920212223242526class Solution4 &#123; public static void main(String[] args) &#123; Queue&lt;MC&gt; queue = new PriorityQueue&lt;&gt;(new Comparator&lt;MC&gt;() &#123; @Override public int compare(MC o1, MC o2) &#123; System.out.println(&quot;--Sort--&quot;); if (o1.aTime &lt; o2.aTime) return -1; else if (o1.aTime == o2.aTime) &#123; return o1.No - o2.No; &#125; else return 1; &#125; &#125;); for (int j = 1; j &lt;= 3; j++) &#123; System.out.println(&quot;insert:&quot; + j); queue.offer(new MC(j, 0)); queue.stream().forEach(e -&gt; System.out.println(&quot;&lt;&quot; + e.No + &quot;,&quot; + e.aTime + &quot;&gt;&quot;)); &#125; System.out.println(&quot;change peek&quot;); queue.peek().aTime = 5; queue.stream().forEach(e -&gt; System.out.println(&quot;&lt;&quot; + e.No + &quot;,&quot; + e.aTime + &quot;&gt;&quot;)); &#125;&#125; ç»“æœï¼š 123456789101112131415insert:1&lt;1,0&gt;insert:2--Sort--&lt;1,0&gt;&lt;2,0&gt;insert:3--Sort--&lt;1,0&gt;&lt;2,0&gt;&lt;3,0&gt;change peek&lt;1,5&gt;&lt;2,0&gt;&lt;3,0&gt; å¯ä»¥çœ‹åˆ°ï¼Œå½“æ–°å…ƒç´ æ’å…¥æ—¶ï¼Œä¼šå¼•å‘ä¼˜å…ˆé˜Ÿåˆ—è‡ªæ’åºã€‚ ä½†æ˜¯åªä¿®æ”¹å†…éƒ¨å…ƒç´ å¯¹è±¡æ—¶ï¼Œå´ä¸ä¼šå¼•å‘ä¼˜å…ˆé˜Ÿåˆ—è‡ªæ’åºï¼ˆæ²¡æœ‰å°†aTimeæœ€å¤§çš„ç§»åŠ¨åˆ°é˜Ÿå°¾ï¼‰ã€‚ ä¼˜å…ˆé˜Ÿåˆ—æ·»åŠ å…ƒç´ æºä»£ç ï¼š1234567891011public boolean offer(E e) &#123; if (e == null) throw new NullPointerException(); modCount++; int i = size; if (i &gt;= queue.length) grow(i + 1); siftUp(i, e); //è¿™é‡Œå°±æ˜¯è°ƒæ•´å †æ’åº size = i + 1; return true;&#125;","categories":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/categories/Code/"}],"tags":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/tags/Code/"}]},{"title":"pipæ›´æ¢å›½å†…æº","slug":"pipæ›´æ¢å›½å†…æº","date":"2020-10-06T08:20:04.000Z","updated":"2021-03-13T12:15:47.711Z","comments":true,"path":"2020/10/06/2c643ed1b59a/","link":"","permalink":"http://blog.karakarua.com/2020/10/06/2c643ed1b59a/","excerpt":"","text":"æ„Ÿè°¢åšå®¢pipæ¢æºä¸€è¡Œå‘½ä»¤ç›´æ¥æå®š å…³é”®å‘½ä»¤ï¼š 123pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple# è¿”å›ç»“æœï¼š# Writing to /home/xxx/.config/pip/pip.conf â€‹ å…¶ä¸­pipæ ¹æ®ä½ ä½¿ç”¨çš„pipç‰ˆæœ¬ï¼ŒPython2å¯¹åº”pipï¼ŒPython3å¯¹åº”pip3 ä¸´æ—¶ä½¿ç”¨æºï¼š 1pip install xxx -i https://pypi.tuna.tsinghua.edu.cn/simple å»ºè®®å…¨å±€æ›´æ¢pipæºï¼Œæ–¹ä¾¿æ—¥åä½¿ç”¨ã€‚ å„å¤§çŸ¥åå›½å†…æºï¼š é˜¿é‡Œäº‘ http://mirrors.aliyun.com/pypi/simple/ æ¸…åå¤§å­¦ https://pypi.tuna.tsinghua.edu.cn/simple/ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ http://pypi.mirrors.ustc.edu.cn/simple/ è±†ç“£(douban) http://pypi.douban.com/simple/","categories":[{"name":"Misc","slug":"Misc","permalink":"http://blog.karakarua.com/categories/Misc/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://blog.karakarua.com/tags/Python/"}]},{"title":"Deepinå®‰è£…Mininet","slug":"deepinå®‰è£…mininet","date":"2020-09-29T16:00:00.000Z","updated":"2021-03-16T05:12:30.636Z","comments":true,"path":"2020/09/30/b79682574a0c/","link":"","permalink":"http://blog.karakarua.com/2020/09/30/b79682574a0c/","excerpt":"","text":"Mininetæœ¬èº«ä¸æ”¯æŒDeepinç³»ç»Ÿï¼Œä»…ä»…æ”¯æŒUbuntuã€Debianã€Fedoraã€RedHatEnterpriseServerã€SUSE LINUXã€‚è¿™ç±»ç³»ç»Ÿçš„æ•™ç¨‹å‚è€ƒï¼šMininetä½¿ç”¨æºç å®‰è£… é¦–å…ˆç¡®è®¤ç³»ç»Ÿæ˜¯å¦æœ‰gitï¼Œæœ‰å°±è·³è¿‡â€å®‰è£…gitâ€œè¿™ä¸€æ­¥ï¼Œå¦åˆ™æ‰§è¡Œä¸‹é¢æ‰€æœ‰æ“ä½œã€‚(deepin v20ä¸‹å¥½åƒæ²¡æœ‰git) å®‰è£…gitï¼šsudo apt install git å®‰è£…å®Œgitåï¼Œè¿è¡Œå‘½ä»¤ssh-keygenï¼Œä¸€è·¯å›è½¦å°±å¥½ã€‚ ç™»å½•GitHubï¼Œæ·»åŠ /home/xxx/.ssh/id_rsa.pubçš„å†…å®¹åˆ°githubçš„ssh keysä¸­ï¼Œè¿™ä¸€æ­¥å¯ä»¥å‚è€ƒåšå®¢ï¼šGitHub æ·»åŠ  SSH keysã€‚è¿™ä¸€æ­¥æ˜¯ä¸ºäº†æ‰§è¡Œä¸‹é¢çš„git clone git://â€¦.æ—¶ä¸ä¼šæŠ¥é”™ã€‚ è·å–Mininetæºç ï¼šgit clone git://github.com/mininet/mininet é€‰æ‹©Mininetå®‰è£…ç‰ˆæœ¬ï¼š 123cd minintgit tag # æ‰€æœ‰ç‰ˆæœ¬git checkout -b 2.3.0d4 # ç‰ˆæœ¬éœ€è¦æ ¹æ®git tagç»“æœè‡ªå·±é€‰æ‹© æ‰§è¡Œå®‰è£…ï¼š ä¿®æ”¹install.shè„šæœ¬ï¼Œä¿è¯deepinç¯å¢ƒå¯ä»¥å®‰è£…ï¼ Mininetç¡®å®šç³»ç»Ÿæ˜¯å¦æ”¯æŒçš„é€»è¾‘å°±å†™åœ¨è¿™ä¸ªè„šæœ¬ä¸­ï¼Œä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼ˆå°±æ˜¯åœ¨DISTä¸­æ·»åŠ äº†Deepinï¼‰ï¼š 12345DISTS=&#x27;Deepin|Ubuntu|Debian|Fedora|RedHatEnterpriseServer|SUSE LINUX&#x27;if ! echo $DIST | egrep &quot;$DISTS&quot; &gt;/dev/null; then echo &quot;Install.sh currently only supports $DISTS.&quot; exit 1fi åªä¿®æ”¹è¿™æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šDISTä»å“ªæ¥ï¼Œå¾€ä¸Šç¿»ï¼Œå‘ç°è¿™æ ·ä¸€ç‰‡ä»£ç ï¼š 12345678910111213test -e /etc/debian_version &amp;&amp; DIST=&quot;Debian&quot;grep Ubuntu /etc/lsb-release &amp;&gt; /dev/null &amp;&amp; DIST=&quot;Ubuntu&quot;if [ &quot;$DIST&quot; = &quot;Ubuntu&quot; ] || [ &quot;$DIST&quot; = &quot;Debian&quot; ]; then # Truly non-interactive apt-get installation install=&#x27;sudo DEBIAN_FRONTEND=noninteractive apt-get -y -q install&#x27; remove=&#x27;sudo DEBIAN_FRONTEND=noninteractive apt-get -y -q remove&#x27; pkginst=&#x27;sudo dpkg -i&#x27; update=&#x27;sudo apt-get&#x27; # Prereqs for this script if ! which lsb_release &amp;&gt; /dev/null; then $install lsb-release fifi æŠŠè¿™é‡Œçš„ä»£ç å¤åˆ¶ä¸€ä»½ï¼Œç„¶åä¿®æ”¹DISTä¸ºDeepinå³å¯ï¼Œè´´ä¸€ä¸ªæˆ‘æ”¹çš„ï¼š 1234567891011121314test -e /etc/debian_version &amp;&amp; DIST=&quot;Deepin&quot;grep Deepin /etc/lsb-release &amp;&gt; /dev/null &amp;&amp; DIST=&quot;Deepin&quot;if [ &quot;$DIST&quot; = &quot;Deepin&quot; ] || [ &quot;$DIST&quot; = &quot;Debian&quot; ]; then # Truly non-interactive apt-get installation install=&#x27;sudo DEBIAN_FRONTEND=noninteractive apt-get -y -q install&#x27; remove=&#x27;sudo DEBIAN_FRONTEND=noninteractive apt-get -y -q remove&#x27; pkginst=&#x27;sudo dpkg -i&#x27; update=&#x27;sudo apt-get&#x27; # Prereqs for this script if ! which lsb_release &amp;&gt; /dev/null; then $install lsb-release fifi æ‰§è¡Œå®‰è£… mininet/util/install.sh -a æœ€åçš„å‚æ•°-aå‚æ•°å¯ä»¥è‡ªå·±é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥-nvfåªå®‰è£…mininetã€OpenFlowã€Open vSwitchã€‚å…·ä½“å‚æ•°å¯ä»¥å‚è€ƒå®˜ç½‘æˆ–è€…Mininetä½¿ç”¨æºç å®‰è£… ç¡®è®¤å®‰è£…æˆåŠŸ æ‰§è¡Œsudo mnï¼Œèƒ½å¤Ÿå»ºç«‹æœ€ç®€å•çš„ç½‘ç»œæ‹“æ‰‘ï¼Œæ‰§è¡Œpingallå¯ä»¥å…¨ç½‘pingé€š ä¸ºä»€ä¹ˆMininetå¯ä»¥åœ¨deepinç¯å¢ƒä¸‹å®‰è£…æˆåŠŸï¼š å› ä¸ºUbuntuå’ŒDeepinéƒ½æ˜¯åŸºäºDebianæ„å»ºï¼Œæ²¡é“ç†Mininetæ”¯æŒUbuntuï¼Œè€Œä¸æ”¯æŒDeepinï¼Œæ¯•ç«ŸäºŒè€…å¸ˆå‡ºåŒé—¨ã€‚","categories":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/categories/Deepin/"}],"tags":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/tags/Deepin/"},{"name":"Mininet","slug":"Mininet","permalink":"http://blog.karakarua.com/tags/Mininet/"}]},{"title":"å¤§å‚ç¬”è¯•é¢˜1â€”â€”å°å¼ºå»ä¹°ä¸œè¥¿çš„æ¦‚ç‡","slug":"é˜¿é‡Œç¬”è¯•é¢˜1â€”â€”å’Œä¸ºå¥‡æ•°çš„æ¦‚ç‡","date":"2020-09-22T12:31:00.000Z","updated":"2020-11-11T14:45:02.000Z","comments":true,"path":"2020/09/22/118d0a70269e/","link":"","permalink":"http://blog.karakarua.com/2020/09/22/118d0a70269e/","excerpt":"","text":"é¢˜ç›®è®°ä¸æ¸…æ¥šäº†ï¼Œå¤§è‡´é¢˜æ„ä¸ºï¼š å°å¼ºå’Œå°ä¸½ä¸¤äººåˆ’æ‹³å†³å®šè°å»ä¹°ä¸œè¥¿ã€‚å°å¼ºä»1~Nä¸­éšæœºå–ä¸€ä¸ªæ•°ï¼Œå°ä¸½ä»1~Mä¸­éšæœºå–ä¸€ä¸ªæ•°ï¼Œå¦‚æœä¸¤ä¸ªæ•°ä¹‹å’Œä¸ºå¥‡æ•°ï¼Œåˆ™å°å¼ºå»ä¹°ä¸œè¥¿ï¼›å¦åˆ™å°ä¸½å»ä¹°ä¸œè¥¿ã€‚é—®å°å¼ºå»ä¹°ä¸œè¥¿çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿè¯·ç”¨æœ€ç®€åˆ†æ•°çš„å½¢å¼è¿”å›è¯¥æ¦‚ç‡ã€‚ ç¤ºä¾‹ï¼šN=2, M=3ï¼Œåˆ™å°å¼ºå¯ä»¥é€‰æ‹©çš„æ•°å­—èŒƒå›´æ˜¯1ã€2ï¼Œ å°ä¸½å¯ä»¥é€‰æ‹©çš„æ•°å­—èŒƒå›´æ˜¯1ã€2ã€3ï¼Œæ‰€æœ‰å¯èƒ½çš„æ•°å­—ç»„åˆæœ‰(1,1)ã€(1,2)ã€(1,3)ã€(2,1)ã€(2,2)ã€(2,3)ã€‚å…¶ä¸­å’Œä¸ºå¥‡æ•°çš„ç»„åˆæ˜¯(1,2)ã€(2,1)ã€(2,3)ï¼›å’Œä¸ºå¶æ•°çš„ç»„åˆæ˜¯(1,1)ã€(1,3)ã€(2,2)ã€‚æ‰€ä»¥æ¦‚ç‡æ˜¯3/6ï¼Œå³1/2ã€‚è¿”å›ç»“æœ1/2ã€‚ è§£ç­”ï¼š å®šä¹‰å°å¼ºçš„å·ç ç‰Œä¸º $i$ ,åˆ™ $i=1,2â€¦N$ ï¼Œå®šä¹‰å°ä¸½çš„å·ç ç‰Œä¸º $j$ ,åˆ™ $j=1,2â€¦M$ ã€‚é¦–å…ˆï¼Œç»„åˆ$(i,j)$çš„æ•°é‡ä¸€å…±æ˜¯$M*N$ï¼Œæˆ‘ä»¬è®°ä¸º$total$ ä¸å¦¨ä»å°å¼ºçš„è§’åº¦è€ƒè™‘ï¼Œå¯¹æ¯ä¸ª $i$ å€¼ï¼Œç»„åˆ$(i,j)$çš„å’Œåˆ†å¸ƒåœ¨åŒºåŸŸ$[i+1, M+i]$ï¼Œåˆ™è¿™ä¸ªèŒƒå›´å†…åŒ…å«çš„å¥‡æ•°çš„ä¸ªæ•°æ˜¯$\\lfloor \\frac{M+i+1}{2} \\rfloor - \\lfloor \\frac{i+1}{2} \\rfloor$ ã€‚ï¼ˆåŸå› ï¼šæ•°å­—èŒƒå›´$[1,X]$å†…å¥‡æ•°çš„ä¸ªæ•°ä¸º$\\lfloor \\frac{X+1}{2} \\rfloor$ã€‚ï¼‰ æ‰€ä»¥ï¼Œå’Œä¸ºå¥‡æ•°çš„ç»„åˆä¸ªæ•°æ˜¯$\\sum^{N}_{i=1} \\lfloor \\frac{M+i+1}{2} \\rfloor - \\lfloor \\frac{i+1}{2} \\rfloor$ ï¼Œæˆ‘ä»¬è®°ä½œ$odd$ æ‰€æ±‚æ¦‚ç‡$p=\\frac{odd}{total}$ é¢˜ç›®è¦è¿”å›æœ€ç®€åˆ†æ•°ï¼Œæ‰€ä»¥è¦æ±‚$odd$å’Œ$total$çš„æœ€å¤§å…¬çº¦æ•°ï¼Œç„¶ååˆ†å­åˆ†æ¯éƒ½é™¤ä»¥æœ€å¤§å…¬çº¦æ•°ï¼Œå°±æ˜¯ç»“æœã€‚ ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324import java.util.Scanner;public class Main &#123; public static void main(String[] args) &#123; Scanner sc = new Scanner(System.in); while(sc.hasNextInt())&#123; int N = sc.nextInt(); int M = sc.nextInt(); int odd = 0; for(int i = 1;i&lt;=N;i++)&#123; // javaçš„é™¤ä¼šè‡ªåŠ¨å‘ä¸‹å»æ•´ odd += (M+i+1)/2 - (i+1)/2; &#125; int total=M*N; int factor = gcd(odd, total); System.err.printf(&quot;%d/%d\\n&quot;, odd/factor,total/factor); &#125; &#125; // æ±‚æœ€å¤§å…¬çº¦æ•° public static int gcd(int a, int b)&#123; if(b==0) return a; else return gcd(b,a % b); &#125;&#125;","categories":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/categories/Code/"}],"tags":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/tags/Code/"}]},{"title":"Hexoæ¸²æŸ“LaTeXå…¬å¼","slug":"Hexoæ¸²æŸ“LaTeXå…¬å¼","date":"2020-09-19T09:19:15.000Z","updated":"2020-09-20T14:53:48.000Z","comments":true,"path":"2020/09/19/50a5bc49a87d/","link":"","permalink":"http://blog.karakarua.com/2020/09/19/50a5bc49a87d/","excerpt":"","text":"æ„Ÿè°¢åšå®¢ï¼šåœ¨Hexoä¸­æ¸²æŸ“MathJaxæ•°å­¦å…¬å¼ã€Hexoåšå®¢ä¸­ä½¿ç”¨Latexã€åœ¨Hexoä¸­æ¸²æŸ“MathJaxæ•°å­¦å…¬å¼ Hexoæ¸²æŸ“LaTeXå…¬å¼å…³é”®Hexoæ¸²æŸ“ä¸»é¢˜çš„ä¸¤ä¸ªé‡è¦å› ç´ ï¼šmathjaxå’Œkramedï¼Œå‰è€…æ˜¯æ•°å­¦å…¬å¼æ¸²æŸ“å¼•æ“ï¼Œåè€…æ˜¯Hexoçš„markdownæ¸²æŸ“å¼•æ“ï¼Œhexoé»˜è®¤æ¸²æŸ“å¼•æ“æ˜¯markedï¼Œä½†æ˜¯å®ƒä¸æ”¯æŒmathjaxï¼Œå› æ­¤éœ€è¦æ›¿æ¢å¼•æ“ã€‚ ä¸€ã€Hexoæ·»åŠ mathjax å¦‚æœhexoå®‰è£…æœ‰hexo-math,éœ€è¦å…ˆå¸è½½å®ƒã€‚å¸è½½å‘½ä»¤ï¼š 1npm uninstall hexo-math --save å®‰è£…mathjaxï¼Œå®‰è£…å‘½ä»¤ï¼š 1npm install hexo-renderer-mathjax --save hexoä¸»é¢˜å¼€å¯mathjaxï¼š è¿›å…¥ä¸»é¢˜ç›®å½•ï¼Œç¼–è¾‘_config.ymlï¼Œå¼€å¯mathjaxï¼š 1234# MathJax Supportmathjax: enable: true per_page: true hexoåšå®¢å¼€å¯mathjaxï¼š åšå®¢æ–‡ç« çš„å¼€å¤´åŠ å…¥mathjax:trueï¼Œå…·ä½“å¦‚ä¸‹ï¼š 12345---title: Hexoæ¸²æŸ“LaTeXå…¬å¼å…³é”®date: 2020-09-30 22:27:01mathjax: true-- äºŒã€hexoåˆ‡æ¢kramedå¼•æ“ å¸è½½markedå¼•æ“ 1npm uninstall hexo-renderer-marked --save å®‰è£…kramedå¼•æ“ 1npm install hexo-renderer-kramed --save ä¿®æ”¹å¼•æ“bug ä¿®æ”¹æ–‡ä»¶/node_modules\\kramed\\lib\\rules\\inline.jsä¸­escapeå’Œemä¸¤è¡Œï¼Œå…·ä½“ä¿®æ”¹å¦‚ä¸‹ï¼š 12// escape: /^\\\\([\\\\`*&#123;&#125;\\[\\]()#$+\\-.!_&gt;])/, escape: /^\\\\([`*\\[\\]()#$+\\-.!_&gt;])/, è¿™ä¸€æ­¥æ˜¯åœ¨åŸåŸºç¡€ä¸Šå–æ¶ˆäº†å¯¹\\,{,}çš„è½¬ä¹‰(escape)ã€‚ åŒæ—¶æŠŠç¬¬20è¡Œçš„emå˜é‡ä¹Ÿè¦åšç›¸åº”çš„ä¿®æ”¹ã€‚ 12// em: /^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/, em: /^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/, é‡æ–°å¯åŠ¨hexo: 1hexo clean &amp;&amp; hexo g -d é—®é¢˜å¾—åˆ°è§£å†³ã€‚","categories":[{"name":"hexo","slug":"hexo","permalink":"http://blog.karakarua.com/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://blog.karakarua.com/tags/hexo/"}]},{"title":"Leetcode 11 ç››æœ€å¤šæ°´çš„å®¹å™¨","slug":"Leetcode-11-ç››æœ€å¤šæ°´çš„å®¹å™¨","date":"2020-09-05T04:00:22.000Z","updated":"2020-09-22T12:32:34.000Z","comments":true,"path":"2020/09/05/ad3e8ec3f0f6/","link":"","permalink":"http://blog.karakarua.com/2020/09/05/ad3e8ec3f0f6/","excerpt":"","text":"é¢˜ç›®é“¾æ¥ï¼š11. ç››æœ€å¤šæ°´çš„å®¹å™¨ è§£ç­”å¯¹ä»»æ„$(i,j)$ç»„åˆï¼Œé¢ç§¯$area=min(height[i],height[j])*(j-i)$ æ–¹æ³•ä¸€ï¼šæš´åŠ›æœç´¢éå†æ‰€æœ‰$(i,j)$ï¼Œä»£ç ï¼š 12345678910111213class Solution &#123; public int maxArea(int[] height) &#123; int n = height.length; int res=0; for(int i =0;i&lt;n;i++)&#123; for(int j =0;j&lt;i;j++)&#123; int T=Math.min(height[i],height[j])*(i-j); res = Math.max(res,T); &#125; &#125; return res; &#125;&#125; æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ å®šä¹‰å·¦å³æŒ‡é’ˆ$i$å’Œ$j$ï¼Œåˆ†åˆ«ä»£è¡¨å®¹å™¨çš„å·¦å³è¾¹ç•Œã€‚ æŒ‡å®šä¸¤ä¸ªæŒ‡é’ˆç§»åŠ¨çŠ¶æ€ï¼š åŸåˆ™ï¼š ä¸¤ä¸ªæŒ‡é’ˆåªä¼šå‘å†…æ”¶ç¼©ï¼Œå³$i$åªèƒ½å¢å¤§ï¼Œ$j$åªèƒ½å‡å° æŒ‡é’ˆçš„ç§»åŠ¨æœç€areaå¯èƒ½å¢å¤§çš„æ–¹å‘ç§»åŠ¨ ç§»åŠ¨æ–¹æ³•ï¼šå–äºŒè€…é«˜åº¦è¾ƒå°çš„å‘å†…æ”¶ç¼©ã€‚ åŸå› ï¼š é«˜åº¦è¾ƒå¤§çš„å‘å†…æ”¶ç¼©ï¼Œ$area$åªä¼šä¸å˜æˆ–è€…å‡å°ï¼Œå› ä¸º$min(height[i],height[j])$è¦ä¹ˆä¸å˜ï¼Œè¦ä¹ˆå‡å°ï¼Œå¹¶ä¸”$(j-i)$å˜å°äº†ã€‚ é«˜åº¦è¾ƒå°çš„å‘å†…æ”¶ç¼©ï¼Œ$area$å¯èƒ½ä¼šå˜å¤§ï¼Œå› ä¸º$min(height[i],height[j])$å¯èƒ½ä¼šå˜å¤§ï¼Œå°½ç®¡$(j-i)$å˜å°ï¼Œä½†ç»¼åˆ$area$å­˜åœ¨å˜å¤§çš„å¯èƒ½æ€§ã€‚ï¼ˆè¿™é‡Œè¯´å¯èƒ½å˜å¤§ï¼Œä¹Ÿå­˜åœ¨å˜å°çš„å¯èƒ½ï¼Œå°±æ˜¯é«˜åº¦è¾ƒå°çš„ï¼Œå®ƒæ›´å°äº†ï¼‰ ç›¸æ¯”äºæš´åŠ›æœç´¢å¿½ç•¥çš„$(i,j)$çš„çŠ¶æ€éƒ½æ˜¯æ¯”$area$å°çš„ï¼Œä¸å¿…é‡å¤è®¡ç®— ä»£ç ï¼š 123456789101112class Solution &#123; public int maxArea(int[] height) &#123; int i=0,j=height.length-1,res=0; while(i&lt;j)&#123; int area=Math.min(height[i],height[j])*(j-i); res=Math.max(res,area); if(height[i]&lt;height[j]) i++; else j--; &#125; return res; &#125;&#125; æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š$O(1)$","categories":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/categories/Code/"}],"tags":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/tags/Code/"}]},{"title":"Deepiné›¶æ•£è®°å½•","slug":"Deepiné›¶æ•£è®°å½•","date":"2020-09-04T16:09:48.000Z","updated":"2020-09-04T16:10:43.000Z","comments":true,"path":"2020/09/05/5c2cdfe509d5/","link":"","permalink":"http://blog.karakarua.com/2020/09/05/5c2cdfe509d5/","excerpt":"","text":"æœ‰æ–°å‘ç°å°±æ›´æ–°ã€‚ æœ¬äººæ˜¯deepin v20ã€‚deepinçš„tty1é»˜è®¤æ˜¯å›¾å½¢ç•Œé¢ï¼Œè€Œä¸€èˆ¬Xorgé»˜è®¤åœ¨tty7ã€‚åŸå› è§£é‡Šè§è®ºå›ï¼šè¯·é—®15.5æ˜¯é»˜è®¤tty1æ˜¯å›¾å½¢ç•Œé¢ä¹ˆï¼Ÿ å®˜æ–¹å›ç­”: ç›®å‰é»˜è®¤æ˜¯tty1ï¼Œ åŸå› æ˜¯ä¸ºäº†åŒplymouth(å¯åŠ¨ç”»é¢)ä½¿ç”¨çš„tty1ï¼Œè¿›è¡Œæ— ç¼è‡ªç„¶è¿‡æ¸¡ã€‚ä¹Ÿå°±æ˜¯Xorgå’Œplymouthç›´æ¥ä½¿ç”¨åŒä¸€ä¸ªttyï¼Œé¿å…åˆ›å»ºæ–°çš„ttyé€ æˆè¿›å…¥X11é‚£ä¸€ç¬é—´çš„é»‘å±ç°è±¡ã€‚ Deepinæ·±åº¦å½±é™¢æ— æ³•æ‰“å¼€çš„é—®é¢˜æ¥è‡ªè®ºå›è§£ç­” æ·±åº¦å½±é™¢æ— æ³•æ‰“å¼€ï¼Œå…³é—­æ·±åº¦å½±é™¢çš„ç¡¬ä»¶åŠ é€Ÿå³å¯ã€‚1gsettings set com.deepin.deepin-movie composited &#x27;DisableComposited&#x27; IDEAæœ€è¿‘æ€»æ˜¯è«åå…¶å¦™å¡æ­»çš„åŸå› ï¼šæœç‹—è¾“å…¥æ³•æœ€æ–°ç‰ˆâ€”â€”â€œæœç‹—è¾“å…¥æ³•ä¸ªäººç‰ˆv2.3.2â€éœ€è¦èƒŒé”…ï¼Œè¯¦ç»†è§è®ºå›è´´ï¼š[æœç‹—è¾“å…¥æ³•ä¸ªäººç‰ˆ]golandå’ŒIDEAç›´æ¥å¡æ­»ï¼Œæ— æ³•æ­£å¸¸ä½¿ç”¨ deepinæ˜Ÿç«å•†åº—æœ‰ä¸ªAppImageè½¬Debçš„è½¬æ¢å™¨ï¼Œè½¬æ¢åˆ°*.debï¼Œå°±èƒ½è®©è½¯ä»¶å®‰è£…åˆ°ç³»ç»Ÿï¼Œä¸ç”¨å†ä¾¿æºå¼è¿è¡Œäº†ã€‚å¦å¤–è®ºå›å‘ç°å¸–å­ï¼šè¯·é—®AppImage .snap .deb Flatpak åŒºåˆ«","categories":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/categories/Deepin/"}],"tags":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/tags/Deepin/"}]},{"title":"Deepinåˆ é™¤æ‰“å¼€æ–¹å¼çš„å¤šä½™é¡¹","slug":"deepinåˆ é™¤æ‰“å¼€æ–¹å¼çš„å¤šä½™é¡¹","date":"2020-08-29T16:00:00.000Z","updated":"2021-03-16T05:13:26.781Z","comments":true,"path":"2020/08/30/46fb6e40b2f2/","link":"","permalink":"http://blog.karakarua.com/2020/08/30/46fb6e40b2f2/","excerpt":"","text":"æƒ…å†µå¤ç°ï¼š deepinæ‰“å¼€txtæ–‡ä»¶æ—¶ï¼Œæ‰“å¼€æ–¹å¼æ”¯æŒé€‰æ‹©é»˜è®¤ç¨‹åºï¼Œå¦‚ä¸‹å›¾ï¼Œå¯ä»¥é€‰æ‹©ç³»ç»Ÿæä¾›å¥½çš„åº”ç”¨ï¼Œå¦‚æ–‡ä»¶ç¼–è¾‘å™¨ï¼Œäº¦å¯ä»¥æ·»åŠ å…¶ä»–ç¨‹åºã€‚ å‡è®¾æˆ‘ä»¬æ²¡æœ‰æ‰¾å¯¹è·¯å¾„ï¼Œé”™è¯¯é€‰æ‹©äº†ä¸€ä¸ªåº”ç”¨ï¼Œå¯¼è‡´å¦‚ä¸‹ç•Œé¢ï¼ˆå›¾ä¸­çš„sublime_textæ˜¯é”™è¯¯çš„ï¼‰ï¼š æˆ‘ä»¬æƒ³åˆ é™¤ç¬¬äºŒä¸ªsublime_textï¼Œæ€ä¹ˆåŠï¼Ÿ è§£å†³åŠæ³•ï¼š ä¸Šé¢çš„æ“ä½œä¼šåœ¨å¼€å§‹èœå•ä¸­å¤šå‡ºä¸€ä¸ªsublime_text è¿™ä¸ªsublime_textçš„ä½ç½®ä¸€èˆ¬æ˜¯ï¼š~/.local/share/applicationsä¸‹ï¼Œæ‰¾åˆ°åˆ é™¤å³å¯ã€‚ å†æ¬¡å³é”®æŸ¥çœ‹æ‰“å¼€æ–¹å¼ï¼Œå‘ç°å·²ç»åˆ é™¤ã€‚","categories":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/categories/Deepin/"}],"tags":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/tags/Deepin/"}]},{"title":"deepinç¼–è¾‘å¼€å§‹èœå•é¡¹","slug":"deepinç¼–è¾‘èœå•é¡¹","date":"2020-08-28T16:00:00.000Z","updated":"2021-03-16T05:12:57.158Z","comments":true,"path":"2020/08/29/1d1b99ce15ac/","link":"","permalink":"http://blog.karakarua.com/2020/08/29/1d1b99ce15ac/","excerpt":"","text":"éœ€è¦çš„å®ä¾‹å›¾ï¼š æƒ…å†µä¸€ï¼šåˆ é™¤å¼€å§‹èœå•é¡¹ å®ä¾‹ï¼šåˆ é™¤èœå•é¡¹Intellij IDEAå’Œsublime_text æ–¹æ³•ï¼š ç¡®å®šèœå•ä½ç½® ä½ç½®1ï¼š/usr/share/applications/com.jetbrains.intellij-idea-ultimate.desktop ä½ç½®2ï¼š~/.local/share/applications/sublime_text æ‰§è¡Œåˆ é™¤ï¼Œæ³¨æ„åœ¨/usr/share/applicationsä¸‹åˆ é™¤æ–‡ä»¶éœ€è¦æƒé™ã€‚ æƒ…å†µäºŒï¼šä¿®æ”¹å¼€å§‹èœå•é¡¹å›¾æ ‡ã€æŒ‡å‘çš„åº”ç”¨ å®ä¾‹ï¼šä¿®æ”¹Intellij IDEAè¿è¡Œç›®å½•ã€å›¾æ ‡ æ–¹æ³•ï¼š ç¡®å®šèœå•ä½ç½®ï¼š/usr/share/applications/com.jetbrains.intellij-idea-ultimate.desktop ç¼–è¾‘è¯¥desktopæ–‡ä»¶ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ï¼š 12345678910111213[Desktop Entry]Version=1.0Type=ApplicationName=IntelliJ IDEA Ultimate EditionIcon=intellij-idea-ultimateExec=&quot;/opt/apps/com.jetbrains.intellij-idea-ultimate/files/share/intellij-idea-ultimate/bin/idea.sh&quot; %fComment=Capable and Ergonomic IDE for JVMCategories=Development;IDE;Terminal=falseStartupWMClass=jetbrains-ideaX-Deepin-CreatedBy=com.deepin.dde.daemon.LauncherX-Deepin-AppID=com.jetbrains.intellij-idea-ultimate è¿™é‡Œçš„Iconä»£è¡¨å›¾æ ‡ï¼ŒExecä»£è¡¨è¿è¡Œå‘½ä»¤ï¼ŒæŒ‰ç…§è‡ªå·±æ„æ„¿æ›´æ”¹å³å¯ã€‚","categories":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/categories/Deepin/"}],"tags":[{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/tags/Deepin/"}]},{"title":"æ­å»ºHexoåšå®¢","slug":"æœåŠ¡å™¨æ­å»ºHexo","date":"2020-08-19T16:00:00.000Z","updated":"2021-03-14T09:03:54.838Z","comments":true,"path":"2020/08/20/5efb209b3054/","link":"","permalink":"http://blog.karakarua.com/2020/08/20/5efb209b3054/","excerpt":"","text":"é¦–å…ˆçœ‹ä¸ªæœåŠ¡å™¨æ­å»ºHexoçš„æ•´ä½“æ¶æ„å›¾ï¼Œéå¸¸å¥½ï¼Œæœ‰åˆ©äºç†è§£æ¥ä¸‹æ¥çš„æ­¥éª¤ã€‚æ¥è‡ªåšå®¢ï¼šå¦‚ä½•åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºhexoåšå®¢ æ­¥éª¤å¤§çº²ï¼šä¸€ã€ æœ¬åœ°è®¡ç®—æœºé…ç½®Hexoç¨‹åºäºŒã€æœåŠ¡ç«¯é…ç½®ç½‘ç«™æ ¹ç›®å½•ã€Gitè£¸ä»“åº“ã€Git-hooksã€Nginxã€‚ä¸‰ã€ æœ¬åœ°è®¡ç®—æœºä¸æœåŠ¡ç«¯å»ºç«‹é€šé“ï¼Œå®ç°hexoä¸Šä¼ ã€‚å››ã€æœ¬åœ°è®¡ç®—æœºæ¸²æŸ“åšå®¢å¹¶éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚ ä¸€ã€æœ¬åœ°è®¡ç®—æœºé…ç½®Hexoç¨‹åºNote: æœ¬åœ°è®¡ç®—æœºä¸ºDeepinç³»ç»Ÿï¼Œç†è®ºä¸Šé€‚ç”¨Ubuntuã€Debian å®‰è£…åŠé…ç½®gitï¼ˆä½¿ç”¨gitå½¢å¼å‘æœåŠ¡å™¨éƒ¨ç½²åšå®¢æ—¶éœ€è¦å®‰è£…gitï¼‰ ç¡®ä¿æœ¬åœ°è®¡ç®—æœºä¸­å«æœ‰gitï¼Œå¦åˆ™å®‰è£…gitï¼ŒUbuntuä¸‹å®‰è£…gitå‘½ä»¤æ˜¯ 1sudo apt-get install -y git # -yçš„å«ä¹‰æ˜¯ç¡®å®šå®‰è£…gitï¼Œå¦‚æœæ²¡æœ‰-yï¼Œç³»ç»Ÿä¼šæé—®ä½ æ˜¯å¦ç¡®è®¤å®‰è£…gitï¼Œè¾“å…¥yå³å¯ é…ç½®æœ¬æœºgitå±æ€§ 12git config --global user.name &quot;your name&quot; # å¼•å·å†…å¡«å†™ç”¨æˆ·ågit config --global user.email &quot;your email&quot; # å¼•å·å†…å¡«å†™é‚®ç®± hexoéœ€è¦node.jsçš„æ”¯æŒï¼Œæ‰€ä»¥éœ€è¦å®‰è£…nodejs æ‰“å¼€ç»ˆç«¯çª—å£ï¼Œæ ¹æ®ç³»ç»Ÿè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä¹‹ä¸€ï¼šå…¶ä»–nodejsç‰ˆæœ¬è¯·å‚è€ƒNode.js Binary Distributionsnpmä¼šéšnodejsä¸€èµ·å®‰è£…æˆåŠŸã€‚ 1234567# Using Ubuntucurl -sL https://deb.nodesource.com/setup_lts.x | sudo -E bash -sudo apt-get install -y nodejs# Using Debian, as rootcurl -sL https://deb.nodesource.com/setup_lts.x | bash -apt-get install -y nodejs éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š 1234# node -vè¿”å› v12.18.3node -v# npm -vè¿”å› 6.14.6npm -v åˆå§‹åŒ–Hexoåšå®¢ å®‰è£…Hexoé€‰æ‹©ç›®å½•å­˜æ”¾æœ¬åœ°hexoåšå®¢å†…å®¹ï¼ˆå‡è®¾åœ¨ä¸»ç›®å½•/home/$(whoami)/ï¼‰ï¼Œè¿è¡Œ 1npm install -g hexo-cli åˆå§‹åŒ–hexoï¼š1hexo init blog # blogå¯ä»¥æ˜¯å…¶ä»–ä»»ä½•ä½ æƒ³èµ·çš„åå­— å®‰è£…hexoå…¶ä»–æ’ä»¶ï¼š1234cd blognpm install #è¿™ä¸ªæ“ä½œåŠŸèƒ½æ˜¯è¡¥å…¨ä¾èµ–ç¯å¢ƒnpm install hexo-deployer-git --save # è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨éœ€è¦çš„æ’ä»¶npm install hexo-server # æœ¬åœ°ç®€å•çš„æœåŠ¡å™¨ï¼Œå¯ä»¥æµ‹è¯•hexoæ˜¯å¦å®‰è£…æˆåŠŸ æµ‹è¯•hexoæ˜¯å¦å®‰è£…æˆåŠŸã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š1hexo g &amp;&amp; hexo server ç„¶åè®¿é—®localhost:4000ï¼Œå¦‚æœèƒ½çœ‹åˆ°hexoç•Œé¢è¯´æ˜æœ¬åœ°hexoå®‰è£…æˆåŠŸã€‚äºŒã€æœåŠ¡ç«¯é…ç½®ç½‘ç«™æ ¹ç›®å½•ã€Gitè£¸ä»“åº“ã€Git-hooksã€Gitä¸Šä¼ ç”¨æˆ·ã€Nginxã€‚ é…ç½®ç½‘ç«™æ ¹ç›®å½•å¤‡ç”¨ æŒ‡å®šä¸€ä¸ªç›®å½•ï¼Œæœ¬æ–‡æŒ‡å®šä¸»ç›®å½•/home/$(whoami)/ï¼Œåˆ›å»ºæ–‡ä»¶å¤¹hexo 12cd /home/$(whoami) #/home/$(whoami)å°±æ˜¯ä¸»ç›®å½•~mkdir hexo æœåŠ¡ç«¯é…ç½®Gitè£¸ä»“åº“ æŒ‡å®šä¸€ä¸ªç›®å½•åˆ›å»ºgitè£¸ä»“åº“ï¼Œæœ¬æ–‡é€‰æ‹©ç›®å½•/var/repo/ã€‚æ‰§è¡Œï¼š 1sudo git init --bare blog.git é…ç½®git-hooks åˆ‡æ¢åˆ°hooksæ–‡ä»¶å¤¹1cd /var/repo/blog.git/hooks åˆ›å»ºæ–‡ä»¶post-receiveï¼Œæ‰§è¡Œvim post-receiveï¼Œè¿›å…¥vimåœ¨insertæ¨¡å¼ä¸‹è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä¸­$(whoami)å°±æ˜¯ç”¨æˆ·åã€‚12# !/bin/shgit --work-tree=/home/$(whoami)/hexo --git-dir=/var/repo/blog.git checkout -f ç„¶å:wqä¿å­˜ ï¼ˆéå¿…éœ€ï¼‰ç¡®ä¿gitç”¨æˆ·å…·å¤‡è¿è¡Œpost-receiveçš„æƒåˆ©ï¼Œå¦åˆ™æ‰§è¡Œï¼š 12# æ­£ç¡®å½¢å¼ï¼š-rwxr-xr-x 1 git git 72 Aug 20 14:09 post-receive*chmod 755 post-receive é…ç½®Nginx å®‰è£…Nginxï¼š 1sudo apt-get install nginx é…ç½®Nginx.confï¼šNginx.confä½ç½®æ˜¯/etc/nginx/nginx.confï¼ˆä¹Ÿå¯èƒ½æ˜¯/user/local/nginx/confï¼Œå¯ä»¥whereis nginxå‘½ä»¤æŸ¥çœ‹å…·ä½“ä½ç½®ï¼‰ã€‚ç¼–è¾‘è¯¥æ–‡ä»¶å†…å®¹ï¼Œä¿®æ”¹userã€server12345678910111213user root;....http &#123; server &#123; listen 80; # ç›‘å¬ç«¯å£ server_name &quot;your url or ip&quot;; # åŸŸåæˆ–è€…ipåœ°å€ location / &#123; root /home/xxx/hexo; # æœåŠ¡ç«¯ç½‘ç«™æ ¹ç›®å½•ï¼Œxxxæ˜¯ç”¨æˆ·åï¼Œç­‰äº$(whoami) index index.html; &#125; &#125;&#125; ç„¶åä¿å­˜ã€‚ä¸‰ã€æœ¬åœ°è®¡ç®—æœºä¸æœåŠ¡ç«¯å»ºç«‹é€šé“ï¼Œå®ç°hexoä¸Šä¼ ã€‚ æœåŠ¡ç«¯åˆ›å»ºå¹¶é…ç½®gitç”¨æˆ·ï¼Œä¸“é—¨ç”¨äºåšå®¢ä¸Šä¼ ã€‚ åˆ›å»ºgitç”¨æˆ·ï¼Œå¹¶æ›´æ”¹gitä»“åº“çš„æ‰€æœ‰è€… 12sudo adduser git # åˆ›å»ºç”¨æˆ·sudo chown -R git:git /var/repo/blog.git # æŒ‡å®šblog.gitçš„æ‰€æœ‰è€…ä¸ºgit ç¦ç”¨ git ç”¨æˆ·çš„ shell ç™»å½•æƒé™ å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæˆ‘ä»¬è¦è®© git ç”¨æˆ·ä¸èƒ½é€šè¿‡ shell ç™»å½•ã€‚å¯ä»¥ç¼–è¾‘ /etc/passwdæ¥å®ç° å°†git:x:1001:1001:,,,:/home/git:/bin/bashæ”¹æˆgit:x:1001:1001:,,,:/home/git:/usr/bin/git-shell è¿™æ · git ç”¨æˆ·å¯ä»¥é€šè¿‡ ssh æ­£å¸¸ä½¿ç”¨ gitï¼Œä½†æ˜¯æ— æ³•ç™»å½• shellã€‚å¯ä»¥åœ¨æœåŠ¡ç«¯è¯•ä¸€ä¸‹ï¼Œsu gitæ— æ³•åˆ‡æ¢åˆ°gitç”¨æˆ·ï¼ŒæŠ¥é”™fatal: Interactive git shell is not enabled. æ–°å»ºgitç”¨æˆ·çš„åŸå› å‡ºåœ¨è¿™é‡Œï¼Œè¦ä½¿ç”¨ä¸€ä¸ªä¸å¯ä»¥sshè¿œç¨‹ç™»å½•çš„ç”¨æˆ·ï¼Œè€ŒæœåŠ¡å™¨ä¸»ç”¨æˆ·ä¸èƒ½å®Œæˆè¿™æ ·çš„éœ€æ±‚ã€‚ æœ¬åœ°è®¡ç®—æœºä¸æœåŠ¡ç«¯å»ºç«‹sshé€šé“ã€‚ æœ¬åœ°è®¡ç®—æœºåœ¨/home/$(whoami)/.sshæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆè‹¥/home/$(whoami)ä¸‹æ²¡æœ‰.sshç›®å½•ï¼Œåˆ™åˆ›å»º.sshç›®å½•ï¼‰ã€‚1ssh-keygen ä¸€ç›´å›è½¦å³å¯ã€‚è¿™ä¸€æ­¥æ“ä½œä¼šåœ¨/home/$(whoami)/.ssh/ä¸‹ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶id_rsaå’Œid_rsa.pubã€‚ æœåŠ¡ç«¯åœ¨/home/gitç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹.sshï¼Œå¹¶åœ¨/home/git/.sshä¸‹åˆ›å»ºæ–‡ä»¶authorized_keysã€‚æŠŠid_rsa.pubçš„å†…å®¹å¤åˆ¶åˆ°æœåŠ¡ç«¯çš„authorized_keysä¸­ã€‚æ³¨æ„æ˜¯æŠŠæœ¬åœ°è®¡ç®—æœºçš„/home/$(whoami)/.ssh/id_rsa.pubå¤åˆ¶åˆ°æœåŠ¡ç«¯çš„/home/git/.ssh/authorized_keysã€‚ æœ¬åœ°è®¡ç®—æœºé…ç½®hexo deployã€‚ ç¼–è¾‘/home/xxx/blog/_config.ymlï¼Œé…ç½®deployï¼š 1234deploy: type: git repo: git@&quot;your domain or ip&quot;:/var/repo/blog.git branch: master ä¿å­˜ã€‚ å‡å¦‚æœåŠ¡å™¨ç«¯sshæœåŠ¡çš„ç«¯å£éé»˜è®¤ç«¯å£22å·ï¼Œåˆ™æœ¬åœ°è®¡ç®—æœº_config.ymlæŒ‰å¦‚ä¸‹é…ç½® 1234deploy: type: git repo: ssh://git@&quot;your domain or ip&quot;:&quot;ssh port&quot;/var/repo/blog.git branch: master hexoä¹‹å¤„å¤šå‘éƒ¨ç½²ï¼Œå³éƒ¨ç½²åˆ°å¤šä¸ªæœåŠ¡å™¨ï¼Œæ¯”å¦‚åŒæ—¶éƒ¨ç½²åˆ°æœåŠ¡å™¨å’Œgithub pages 1234567deploy:- type: git repo: git@&quot;your domain or ip&quot;:/var/repo/blog.git branch: master- type: git repo: git@github.com:&quot;name&quot;/&quot;name&quot;.github.io.git branch: master å››ã€æœ¬åœ°è®¡ç®—æœºæ¸²æŸ“åšå®¢å¹¶éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚ ç¼–å†™åšå®¢ æ–¹å¼ä¸€ï¼šåˆ›å»ºåšå®¢ä½¿ç”¨çš„markdownæ–‡ä»¶ï¼Œç„¶åä¹¦å†™å†…å®¹ 1hexo new &quot;xxxx&quot; åˆ›å»ºæˆåŠŸåï¼Œè¯¥markdownæ–‡ä»¶åœ¨source/_postsç›®å½•ä¸‹ã€‚ç»§ç»­ç¼–è¾‘xxx.mdå³å¯ã€‚ æ–¹å¼äºŒï¼šç›´æ¥æŠŠå†™å¥½äº†çš„mdæ–‡ä»¶ä¸¢è¿›source/_postsç›®å½•ä¸‹ã€‚ æ¸²æŸ“åšå®¢ï¼š 1hexo gernerate æˆ–è€… 1hexo g éƒ¨ç½²åšå®¢åˆ°æœåŠ¡å™¨ 1hexo deploy æˆ–è€… 1hexo d ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥å¯ä»¥ä¸€èµ·ä½¿ç”¨ 1hexo g &amp;&amp; hexo d æˆ–è€… 1hexo g -d æˆ–è€… 1hexo d -g æ“ä½œå®Œæˆåï¼ŒæœåŠ¡ç«¯ç›®å½•/home/deepin/hexoä¸‹ä¼šæœ‰åˆšåˆšæäº¤çš„åšå®¢ï¼Œä½†/var/repo/blog.git/branchesä¸ä¼šæœ‰åšå®¢æ–‡ä»¶ï¼Œå› ä¸ºå®ƒæ˜¯è£¸ä»“åº“ã€‚æ³¨æ„ï¼šhexo då¯èƒ½ä¼šæŠ¥é”™Error: EACCES: permission denied, unlink ...ï¼Œè¯´ä»€ä¹ˆæƒé™æ‹’ç»ã€‚å¦‚æœä½¿ç”¨sudo hexo dï¼Œå°±ä¼šæŠ¥å¦å¤–ä¸€ç§é”™è¯¯ï¼šgit@github.com: Permission denied (publickey). fatal: æ— æ³•è¯»å–è¿œç¨‹ä»“åº“ã€‚ã€‚è§£å†³åŠæ³•ï¼šä¸€åŠ³æ°¸é€¸ï¼Œç›´æ¥chmod -R 777 blog/ã€‚å‚è€ƒåšå®¢ï¼šä½¿ç”¨Hexo+Githubæ­å»ºåšå®¢çš„å„ç§é—®é¢˜ å®Œå·¥ã€‚æ•´ä¸ªæµç¨‹è¯·ç…§æ–‡ç« å¼€å¤´çš„æ¶æ„å›¾ç†è§£ä¸€ä¸‹ï¼Œæ¯”è¾ƒéš¾ç†è§£çš„æ˜¯ç¬¬äºŒç« èŠ‚å’Œç¬¬ä¸‰ç« èŠ‚ã€‚ å…¶ä»–å‘ç°ï¼šhexoæ”¯æŒGitä»¥å¤–çš„å…¶ä»–éƒ¨ç½²æ–¹å¼ï¼Œè¯¦è§å®˜ç½‘æ–‡æ¡£ï¼šä¸€é”®éƒ¨ç½²ã€‚","categories":[{"name":"hexo","slug":"hexo","permalink":"http://blog.karakarua.com/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://blog.karakarua.com/tags/hexo/"}]},{"title":"åˆ©ç”¨SQLå‡½æ•°æ‰¹é‡æ’å…¥æµ‹è¯•æ•°æ®","slug":"åˆ©ç”¨SQLå‡½æ•°æ‰¹é‡æ’å…¥æµ‹è¯•æ•°æ®","date":"2020-08-18T16:00:00.000Z","updated":"2021-03-16T05:18:15.076Z","comments":true,"path":"2020/08/19/c7e2073b252b/","link":"","permalink":"http://blog.karakarua.com/2020/08/19/c7e2073b252b/","excerpt":"","text":"å­¦ä¹ è¿‡ç¨‹ä¸­éœ€è¦åˆ›å»ºä¸€å¼ å«æœ‰æ‰¹é‡æ•°æ®çš„æµ‹è¯•è¡¨ï¼Œå¯ä»¥ä½¿ç”¨é«˜çº§è¯­è¨€æ’å…¥ï¼Œä½†æ„Ÿè§‰æ¯”è¾ƒéº»çƒ¦ï¼Œæœäº†æœå¯ä»¥é‡‡ç”¨SQLå‡½æ•°ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œé¡µé¢æ‰¹é‡æ’å…¥ã€‚ æ•°æ®åº“åä¸ºstudytestï¼Œè¡¨åä¸ºstudentï¼š12345678910CREATE DATABASE studytest;use studytest;CREATE TABLE `student` ( `s_id` int(11) NOT NULL AUTO_INCREMENT, `s_name` varchar(100) DEFAULT NULL, `s_age` int(11) DEFAULT NULL, `s_phone` varchar(30) DEFAULT NULL, PRIMARY KEY (`s_id`), KEY `s_name` (`s_name`)) ENGINE=InnoDB, CHARSET=utf8; SQLå‡½æ•°ï¼š1234567891011121314-- å®šä¹‰åˆ†ç•Œç¬¦DELIMITER $$CREATE PROCEDURE insert_student(IN START INT(10),IN max_num INT(10))BEGIN DECLARE i INT DEFAULT START; -- å…³é—­è‡ªåŠ¨æäº¤ SET autocommit=0; REPEAT SET i=i+1; INSERT INTO student (s_id,s_name,s_age,s_phone) VALUES (i,CONCAT(&#x27;name_&#x27;,i),MOD(i,70),CONCAT(&#x27;phone_&#x27;,i)); UNTIL i=max_num END REPEAT; COMMIT;END $$ è°ƒç”¨è¯¥å‡½æ•°ï¼š123-- å…ˆæŠŠåˆ†éš”ç¬¦æ¢å›æ¥ï¼Œæ–¹ä¾¿æ“ä½œã€‚ä¸æ¢å›æ¥ä¹Ÿè¡Œï¼Œå°±æ˜¯ä»¥åçš„ï¼›éƒ½è¦å†™æˆ $$DELIMITER ; $$CALL insert_student(0,100000); æ¢å¤è‡ªåŠ¨æäº¤ï¼šMySQLé»˜è®¤å¼€å¯è‡ªåŠ¨æäº¤ã€‚é™¤éæ˜¾å¼åœ°å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦åˆ™æ¯ä¸ªæŸ¥è¯¢éƒ½è¢«å½“åšä¸€ä¸ªå•ç‹¬çš„äº‹åŠ¡è‡ªåŠ¨æ‰§è¡Œã€‚ 1SET autocommit=1; æŸ¥çœ‹autocommitçŠ¶æ€ï¼šå‘½ä»¤ï¼šshow variables like â€˜autocommitâ€™;ç»“æœï¼š PSï¼šä¹Ÿå¯ä»¥ç›´æ¥åˆ©ç”¨SQLå·¥å…·ï¼Œå¦‚Navicatåˆ›å»ºå‡½æ•°ï¼Œå®Œæˆæ‰¹é‡æ’å…¥ã€‚è¯¦è§ï¼šmysqlä½¿ç”¨å‡½æ•°æ‰¹é‡æ’å…¥æ•°æ® å®Œæˆåçš„studentè¡¨ï¼š å‚è€ƒåšå®¢ï¼šmysqlä½¿ç”¨å­˜å‚¨è¿‡ç¨‹&amp;å‡½æ•°å®ç°æ‰¹é‡æ’å…¥MySQLç”¨å­˜å‚¨è¿‡ç¨‹ä¸å‡½æ•°æ‰¹é‡æ’å…¥æ•°æ®MySQLäº‹åŠ¡autocommitè‡ªåŠ¨æäº¤","categories":[{"name":"SQL","slug":"SQL","permalink":"http://blog.karakarua.com/categories/SQL/"}],"tags":[{"name":"SQL","slug":"SQL","permalink":"http://blog.karakarua.com/tags/SQL/"}]},{"title":"å°è®°â€”â€”æ ¹æ®ç”¨æˆ·åŠ¨æ€åŠ è½½èœå•","slug":"å°è®°â€”â€”æ ¹æ®ç”¨æˆ·åŠ¨æ€åŠ è½½èœå•","date":"2020-08-18T16:00:00.000Z","updated":"2021-03-16T05:19:43.278Z","comments":true,"path":"2020/08/19/d5007a69eb69/","link":"","permalink":"http://blog.karakarua.com/2020/08/19/d5007a69eb69/","excerpt":"","text":"å¼•ç”¨åšå®¢ï¼šVue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆåäº”ï¼‰ï¼šåŠ¨æ€åŠ è½½åå°èœå• ä¸åŒç”¨æˆ·ç™»å½•åèœå•æ˜¾ç¤ºä¸åŒçš„å®ç°ï¼Œéœ€è¦åŒæ—¶ç»“åˆå‰ç«¯å’Œåç«¯ã€‚åç«¯ä¸»è¦å®ç°ï¼š1. æ•°æ®åº“è®¾è®¡ç”¨æˆ·å¯ä»¥è®¿é—®çš„èœå•åˆ—è¡¨ã€‚2. æ¥æ”¶urlè¯·æ±‚ï¼ŒæŸ¥è¯¢æ•°æ®åº“è¿”å›å…è®¸çš„èœå•åˆ—è¡¨ã€‚å‰ç«¯ä¸»è¦å®ç°ï¼š1. Vuex Storeæ·»åŠ èœå•æ•°ç»„ï¼Œä¿å­˜å…è®¸è®¿é—®çš„èœå•é¡¹ã€‚2. é…ç½®è·¯ç”±ï¼ŒåŒ…æ‹¬Routerå…¥å£ã€åˆ©ç”¨å‰ç½®å®ˆå«æ·»åŠ èœå•é¡¹è·¯ç”±ã€‚ 3. ç¼–å†™å‰ç«¯ç•Œé¢ã€‚ åç«¯ï¼š æ•°æ®åº“è®¾è®¡ç”¨æˆ·å¯ä»¥è®¿é—®çš„èœå•åˆ—è¡¨ï¼šè®¿é—®æ§åˆ¶é‡‡ç”¨RBACï¼Œæ•°æ®åº“æ¶‰åŠçš„è¡¨åŒ…æ‹¬ç”¨æˆ·è¡¨userã€è§’è‰²è¡¨roleã€èœå•è¡¨menuã€ç”¨æˆ·-è§’è‰²æ˜ å°„è¡¨user_roleã€è§’è‰²-èœå•æ˜ å°„è¡¨role_menuã€‚sqlæ–‡ä»¶é“¾æ¥æ˜¯ï¼šblog.sqlè¿™5ä¸ªè¡¨çš„è¡¨å±æ€§åŠå†…å®¹æˆªå›¾ï¼š åç«¯æ¥æ”¶urlè¯·æ±‚ï¼ŒæŸ¥è¯¢æ•°æ®åº“è¿”å›å…è®¸çš„èœå•åˆ—è¡¨ã€‚éœ€è¦è®¾è®¡menuServiceä»¥åŠmenuControllerï¼Œå½“æ¥æ”¶&quot;api/menu&quot;è¯·æ±‚åï¼Œä»æ•°æ®åº“ä¸­æŸ¥è¯¢å½“å‰ç”¨æˆ·å¯ä»¥è®¿é—®èœå•åˆ—è¡¨ï¼Œå¹¶è¿”å›ç»™å‰ç«¯ã€‚æ³¨æ„ï¼šæœ¬æ–‡ä½¿ç”¨çš„ORMæ¡†æ¶ä¸ºMybatis-Plusï¼Œç›¸å…³CRUDè¯·è®¿é—®å®˜ç½‘ï¼šCRUD æ¥å£ã€æ¡ä»¶æ„é€ å™¨ IMenuService:123public interface IMenuService extends IService&lt;Menu&gt; &#123; public List&lt;Menu&gt; getMenuByCurrentUser();&#125;menuServiceImplï¼šä»£ç é€»è¾‘æ˜¯ï¼šå…ˆæ ¹æ®å½“å‰ç”¨æˆ·æŸ¥è¯¢å¯¹åº”çš„è§’è‰²ï¼Œå†æ ¹æ®è§’è‰²æŸ¥è¯¢å…è®¸çš„èœå•é¡¹ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142@Transactional@Servicepublic class MenuServiceImpl extends ServiceImpl&lt;MenuMapper, Menu&gt; implements IMenuService &#123; @Autowired IUserService userService; @Autowired IUserRoleService userRoleService; @Autowired IRoleMenuService roleMenuService; @Override public List&lt;Menu&gt; getMenuByCurrentUser() &#123; // è·å–å½“å‰ç”¨æˆ· String username = SecurityUtils.getSubject().getPrincipal().toString(); User user = userService.getUser(username); System.out.println(&quot;CurrentUser:&quot; + username); // æŸ¥è¯¢UserRoleè¡¨, æ‰¾åˆ°ç”¨æˆ·å¯¹åº”çš„role idåˆ—è¡¨ LambdaQueryWrapper&lt;UserRole&gt; query = Wrappers.&lt;UserRole&gt;lambdaQuery().eq(UserRole::getUid, user.getId()); List&lt;Integer&gt; rids = userRoleService.list(query).stream().map(UserRole::getRid).collect(Collectors.toList()); // æ‰¾å‡ºè¿™äº›è§’è‰²å¯¹åº”çš„èœå•é¡¹ LambdaQueryWrapper&lt;RoleMenu&gt; query2 = Wrappers.&lt;RoleMenu&gt;lambdaQuery().in(RoleMenu::getRid, rids); List&lt;Integer&gt; menuIds = roleMenuService.list(query2).stream().map(RoleMenu::getMid).collect(Collectors.toList()); List&lt;Menu&gt; menus = listByIds(menuIds).stream().distinct().collect(Collectors.toList()); //å¤„ç†èœå•é¡¹çš„ç»“æ„ handleMenus(menus); return menus; &#125; public void handleMenus(List&lt;Menu&gt; menus) &#123; menus.forEach(menu -&gt; &#123;// LambdaQueryWrapper&lt;Menu&gt; query = Wrappers.&lt;Menu&gt;lambdaQuery().eq(Menu::getParentId, menu.getId());// List&lt;Menu&gt; children = list(query); List&lt;Menu&gt; children = menus.stream().filter(m -&gt; m.getParentId() == menu.getId()).collect(Collectors.toList()); menu.setChildren(children); &#125;); // åªæ˜¯ç§»é™¤æ˜¾ç¤ºä¸Šçš„å±‚æ¬¡å…³ç³»ï¼Œä½†å†…éƒ¨å¤šçº§å±‚æ¬¡å…³ç³»å¹¶æ²¡æœ‰åˆ é™¤ menus.removeIf(m -&gt; m.getParentId() != 0); &#125;&#125;menuController:1234567891011@RestControllerpublic class MenuController &#123; @Autowired IMenuService menuService; @GetMapping(&quot;/api/menu&quot;) public List&lt;Menu&gt; menu() &#123; return menuService.getMenuByCurrentUser(); &#125;&#125; å‰ç«¯ï¼š Vuex Storeæ·»åŠ èœå•æ•°ç»„ï¼Œä¿å­˜å…è®¸è®¿é—®çš„èœå•é¡¹ã€‚1234567891011121314151617181920212223 export default new Vuex.Store(&#123; state: &#123; user: &#123; username: window.localStorage.getItem(&#x27;user&#x27; || &#x27;[]&#x27;) == null ? &#x27;&#x27; : JSON.parse(window.localStorage.getItem(&#x27;user&#x27; || &#x27;[]&#x27;)).username &#125;, // æ–°å¢çš„ç”¨æ¥ä¿å­˜å¯è®¿é—®èœå•é¡¹çš„æ•°ç»„ adminMenus: [] &#125;, mutations: &#123; login (state, user) &#123; state.user = &#123;username: user.username&#125; window.localStorage.setItem(&#x27;user&#x27;, JSON.stringify(user)) &#125;, logout (state) &#123; state.user = [] window.localStorage.removeItem(&#x27;user&#x27;) &#125;, // æ–°å¢çš„èœå•æ•°ç»„é©±åŠ¨ initMenu (state, menus) &#123; state.adminMenus = menus &#125; &#125;&#125;) é…ç½®è·¯ç”±ï¼ŒåŒ…æ‹¬Routerå…¥å£ã€åˆ©ç”¨å‰ç½®å®ˆå«æ·»åŠ èœå•é¡¹è·¯ç”± é¦–å…ˆé…ç½®routerä¸‹çš„index.jsï¼Œæ–°å¢&#39;/admin&#39;è·¯ç”±ï¼Œä½œä¸ºå±•ç¤ºèœå•ç•Œé¢çš„å…¥å£ã€‚router/index.js:12345678&#123; path: &#x27;/admin&#x27;, name: &#x27;Admin&#x27;, component: AdminIndex, meta: &#123; requireAuth: true &#125; &#125; åˆ©ç”¨Vue-Routerå‰ç½®å®ˆå«ï¼Œåœ¨çœŸæ­£å‘å‡ºurlè¯·æ±‚ä¹‹å‰åˆå§‹è¯èœå•ï¼ŒåŒ…æ‹¬1. å°†åç«¯è¿”å›çš„èœå•é¡¹pathæ·»åŠ åˆ°è·¯ç”±ï¼Œ2. æ›´æ–°storeçš„adminMenusã€‚è¿™éƒ¨åˆ†ä»£ç æ˜¯åœ¨main.jsä¸­ä¹¦å†™ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475router.beforeEach((to, from, next) =&gt; &#123; if (store.state.user.username &amp;&amp; to.path.startsWith(&#x27;/admin&#x27;)) &#123; // console.log(&#x27;initMenu&#x27;) initMenu(router, store) &#125; // å·²ç™»å½•çŠ¶æ€ä¸‹è®¿é—®loginç›´æ¥è·³è½¬åˆ°åå°é¦–é¡µ if (store.state.user.username &amp;&amp; to.path.startsWith(&#x27;/login&#x27;)) &#123; next(&#123; path: &#x27;admin/dashboard&#x27; &#125;) &#125;// ç™»å½•éƒ¨åˆ† if (to.meta.requireAuth) &#123; // console.log(store.state.user.username) if (store.state.user) &#123; axios.get(&#x27;/authentication&#x27;) .then(resp =&gt; &#123; if (resp.data) next() // resp.dataä¸ºç©ºä»£è¡¨åç«¯æ‹¦æˆªå™¨åˆ¤æ–­æ˜¯æœªè®¤è¯ã€æœªRememberMe,ä½†è¿™æ—¶å€™ä¾ç„¶æœ‰resp else &#123; next(&#123; path: &#x27;login&#x27;, // pathåç¼€, ä»¥path?xxx=yyyé™„åŠ æ‹¼æ¥, redirectä»£è¡¨æ‹¼æ¥å­—ç¬¦xxx, å¯ä»¥è‡ªå®šä¹‰ // è¯¥URL=login?redirect=%2Findex query: &#123;redirect: to.fullPath&#125; &#125;) &#125; &#125;) &#125; else &#123; next(&#123; path: &#x27;login&#x27;, query: &#123;redirect: to.fullPath&#125; &#125;) &#125; &#125; else &#123; next() &#125;&#125;)//åˆå§‹åŒ–èœå•const initMenu = (router, store) =&gt; &#123; if (store.state.adminMenus.length &gt; 0) &#123; return &#125; axios.get(&#x27;/menu&#x27;) .then(resp =&gt; &#123; if (resp &amp;&amp; resp.status === 200) &#123; // æŠŠåç«¯è¿”å›çš„èœå•åˆ—è¡¨è¿›è¡Œæ‹¼æ¥ var fmtRoutes = formatRoutes(resp.data) // å¹¶æ·»åŠ åˆ°Router router.addRoutes(fmtRoutes) store.commit(&#x27;initMenu&#x27;, fmtRoutes) &#125; &#125;)&#125;//æ‹¼æ¥èœå•é¡¹è·¯ç”±const formatRoutes = (routes) =&gt; &#123; let fmtRoutes = [] routes.forEach(route =&gt; &#123; if (route.children) &#123; route.children = formatRoutes(route.children) &#125; let fmtRoute = &#123; path: route.path, component: resolve =&gt; &#123; require([&#x27;./components/administration/&#x27; + route.component + &#x27;.vue&#x27;], resolve) &#125;, name: route.name, nameZh: route.nameZh, iconCls: route.iconCls, children: route.children &#125; fmtRoutes.push(fmtRoute) &#125;) return fmtRoutes&#125; ç¼–å†™å‰ç«¯ç•Œé¢ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;template&gt; &lt;div&gt; &lt;el-menu :default-active=&quot;currentPath&quot; class=&quot;el-menu-admin&quot; router mode=&quot;vertical&quot; background-color=&quot;#545c64&quot; text-color=&quot;#fff&quot; active-text-color=&quot;#ffd04b&quot; :collapse=&quot;isCollapse&quot;&gt; &lt;div style=&quot;height: 80px;&quot;&gt;&lt;/div&gt; &lt;!--index æ²¡æœ‰ç”¨ä½†æ˜¯å¿…éœ€å­—æ®µä¸”ä¸º string --&gt; &lt;el-submenu v-for=&quot;(item,i) in adminMenus&quot; :key=&quot;i&quot; :index=&quot;(i).toString()&quot; style=&quot;text-align: left&quot;&gt; &lt;span slot=&quot;title&quot; style=&quot;font-size: 17px;&quot;&gt; &lt;i :class=&quot;item.iconCls&quot;&gt;&lt;/i&gt; &#123;&#123; item.nameZh &#125;&#125; &lt;/span&gt; &lt;el-menu-item v-for=&quot;child in item.children&quot; :key=&quot;child.path&quot; :index=&quot;child.path&quot;&gt; &lt;i :class=&quot;child.icon&quot;&gt;&lt;/i&gt; &#123;&#123; child.nameZh &#125;&#125; &lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;/el-menu&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: &#x27;AdminMenu&#x27;, data () &#123; return &#123; isCollapse: false &#125; &#125;, computed: &#123; adminMenus () &#123; return this.$store.state.adminMenus &#125;, currentPath () &#123; return this.$route.path &#125; &#125;&#125;&lt;/script&gt;&lt;style scoped&gt; .el-menu-admin &#123; border-radius: 5px; height: 100%; &#125;&lt;/style&gt; æ€»ç»“æ­¥éª¤ï¼š1. åç«¯è®¾è®¡æ•°æ®åº“ã€‚2. åç«¯è®¾è®¡serviceå’Œcontrollerï¼Œæ¥æ”¶è¯·æ±‚è¿”å›å½“å‰ç”¨æˆ·å…è®¸çš„èœå•åˆ—è¡¨ã€‚3. å‰ç«¯è®¾è®¡Vuex.storeï¼Œæ–°æ·»èœå•æ•°ç»„ã€‚4. å‰ç«¯è®¾è®¡Routerï¼ŒåŒ…æ‹¬router/index.jså…¥å£è·¯ç”±ã€main.jsä¸­åŠ¨æ€æ·»åŠ èœå•é¡¹è·¯ç”±ã€‚ 5. ç¼–å†™Vueç»„ä»¶AdminMenu.vueã€‚","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://blog.karakarua.com/tags/Spring-Boot/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"},{"name":"Vue","slug":"Vue","permalink":"http://blog.karakarua.com/tags/Vue/"}]},{"title":"Mybatis-Mybatis-Pluså¿½ç•¥å®ä½“ç±»æŸå­—æ®µ","slug":"Mybatis-Mybatis-Pluså¿½ç•¥å®ä½“ç±»æŸå­—æ®µ","date":"2020-08-17T16:00:00.000Z","updated":"2021-03-16T05:28:37.721Z","comments":true,"path":"2020/08/18/8b6f786f28b5/","link":"","permalink":"http://blog.karakarua.com/2020/08/18/8b6f786f28b5/","excerpt":"","text":"æƒ…å†µï¼š 1. æ•°æ®åº“è¡¨æœ‰å­—æ®µidã€colaã€colbï¼Œæ˜ å°„åˆ°Javaå®ä½“ç±»ä¼šæœ‰å±æ€§idï¼ŒcolAï¼ŒcolBã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦å†åœ¨å®ä½“ç±»ä¸­æ–°æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§colCã€‚ 2. ä½†æ˜¯ï¼ŒcolCå¹¶éæ•°æ®åº“å­—æ®µï¼Œå¦‚æœä¸åšå¤„ç†ï¼Œmybatisæ‰§è¡Œsqlè¿‡ç¨‹ä¸­ä¼šæŠ¥é”™ï¼Œ`Cause: java.sql.SQLSyntaxErrorException: Unknown column &#39;children&#39; in &#39;field list&#39;` è§£å†³ï¼šå¯¹colCå±æ€§ä½¿ç”¨æ³¨è§£@TableField(exist = false)å‚è€ƒåšå®¢ï¼šMyBatisPlus å¦‚ä½•å¿½ç•¥æ•°æ®åº“å’Œå®ä½“ç±»ä¹‹é—´çš„æ˜ å°„å­—æ®µMyBatiså®ä½“éå­—æ®µçš„å±æ€§æ³¨è§£ï¼ˆpsï¼šè¯¥åšå®¢å¦å¤–æåˆ°ï¼šhibernateå®ç°è¯¥ç›®çš„æ˜¯ä½¿ç”¨æ³¨è§£@Transient ï¼‰","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"},{"name":"Mybatis-Plus","slug":"Mybatis-Plus","permalink":"http://blog.karakarua.com/tags/Mybatis-Plus/"}]},{"title":"å°è®°â€”â€”cookieï¼Œsessionï¼Œtokenï¼Œè·¨åŸŸ","slug":"å°è®°cookieï¼Œsessionï¼Œtokenï¼Œè·¨åŸŸ","date":"2020-08-17T16:00:00.000Z","updated":"2021-03-16T05:18:56.249Z","comments":true,"path":"2020/08/18/0375e0510ae9/","link":"","permalink":"http://blog.karakarua.com/2020/08/18/0375e0510ae9/","excerpt":"","text":"è½¬è‡ªï¼šå½»åº•ç†è§£cookieï¼Œsessionï¼Œtoken - å¢¨é¢œä¸¶ - åšå®¢å›­tokenä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯é€šè¿‡éªŒè¯æ•°å­—ç­¾åçš„æ–¹å¼ä¿è¯ç”¨æˆ·åˆæ³•æ€§ã€‚ Webé¡¹ç›®ä¸­çš„è·¨åŸŸè®¾ç½®ï¼šå‚è€ƒåšå®¢ï¼šCORS è·¨åŸŸ Cookie çš„è®¾ç½®ä¸è·å–åŸºäºFilterå®ç°CORSã€Springæ³¨è§£@CrossOriginã€‚å¦å¤–å¯ä»¥ä¹Ÿä½¿ç”¨æ‹¦æˆªå™¨å®ç°CORSã€‚ æœ‰å…³è·¨åŸŸOptionè¯·æ±‚ï¼š è·¨åŸŸè¯·æ±‚è¿‡ç¨‹ä¸­ï¼Œå‡ºç°ä¸€ä¸ªè¯·æ±‚å‘é€ä¸¤æ¬¡çš„ç°è±¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯ä»¥OPTIONæ–¹æ³•å‘é€çš„ï¼Œç¬¬äºŒæ¬¡æ‰æ˜¯çœŸæ­£çš„è¯·æ±‚ã€‚æ­£å¼è·¨åŸŸçš„è¯·æ±‚å‰ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®éœ€è¦ï¼Œå‘èµ·ä¸€ä¸ªâ€œPreFlightâ€ï¼ˆä¹Ÿå°±æ˜¯Optionè¯·æ±‚ï¼‰ï¼Œç”¨æ¥è®©æœåŠ¡ç«¯è¿”å›å…è®¸çš„æ–¹æ³•ï¼ˆå¦‚getã€postï¼‰ï¼Œè¢«è·¨åŸŸè®¿é—®çš„Originï¼ˆæ¥æºï¼Œæˆ–è€…åŸŸï¼‰ï¼Œè¿˜æœ‰æ˜¯å¦éœ€è¦Credentials(è®¤è¯ä¿¡æ¯ï¼‰å‚è€ƒ è·¨åŸŸä¸­optionè¯·æ±‚è¯¦è§£ preflighted request åœ¨å‘é€çœŸæ­£çš„è¯·æ±‚å‰, ä¼šå…ˆå‘é€ä¸€ä¸ªæ–¹æ³•ä¸ºOPTIONSçš„é¢„è¯·æ±‚(preflight request), ç”¨äºè¯•æ¢æœåŠ¡ç«¯æ˜¯å¦èƒ½æ¥å—çœŸæ­£çš„è¯·æ±‚ï¼Œå¦‚æœoptionsè·å¾—çš„å›åº”æ˜¯æ‹’ç»æ€§è´¨çš„ï¼Œæ¯”å¦‚404\\403\\500ç­‰httpçŠ¶æ€ï¼Œå°±ä¼šåœæ­¢postã€putç­‰è¯·æ±‚çš„å‘å‡ºã€‚ å‚è€ƒHTTPè·¨åŸŸè¯·æ±‚OPTIONè§£æ axios éƒ½æ˜¯å¤æ‚è¯·æ±‚ï¼Œajax å¯ä»¥æ˜¯ç®€å•è¯·æ±‚ã€‚å‚è€ƒç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚çš„åŒºåˆ«","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"}]},{"title":"VueåµŒå¥—è·¯ç”±","slug":"VueåµŒå¥—è·¯ç”±","date":"2020-08-11T16:00:00.000Z","updated":"2021-03-16T05:28:52.770Z","comments":true,"path":"2020/08/12/5475832df48c/","link":"","permalink":"http://blog.karakarua.com/2020/08/12/5475832df48c/","excerpt":"","text":"ä½¿ç”¨VueåµŒå¥—è·¯ç”±çš„æƒ…å†µå¤šåŠæ˜¯è¦åœ¨æŸç»„ä»¶ä¸­åµŒå¥—å…¶ä»–ç»„ä»¶æ¸²æŸ“ï¼Œæ¯”å¦‚è¦åœ¨ä¸»é¡µæ·»åŠ å…¶ä»–å†…å®¹ã€‚ç®€å•è¯´è¯´æ­¥éª¤ï¼Œè¯¦æƒ…ï¼šVue åµŒå¥—è·¯ç”±ï¼Œä»¥åŠå…¶ä»–ä¸¤ç¯‡å‚è€ƒï¼šVue-Routerè·¯ç”±åµŒå¥—ç†è§£ã€VueåµŒå¥—è·¯ç”±ï¼ˆvue-clié¡¹ç›®å†™æ³•ï¼‰ç»„ä»¶åµŒå¥—ä¸¾ä¾‹ï¼š1234567+------------------+| Home || +--------------+ | | | index | || | | || +--------------+ |+------------------+ çˆ¶ç»„ä»¶ä¸­è¦é…ç½® &lt;router-view /&gt;12345&lt;template&gt; &lt;div&gt; &lt;router-view /&gt; &lt;/div&gt;&lt;/template&gt; è¦é…ç½®è·¯ç”±åµŒå¥—1234567891011121314151617181920212223242526routes: [ &#123; path: &#x27;/home&#x27;, name: &#x27;Home&#x27;, component: Home, children: [ &#123; /* æ³¨æ„pathçš„å†™æ³•, è¦æ³¨æ„, ä»¥ / å¼€å¤´çš„åµŒå¥—è·¯å¾„ä¼šè¢«å½“ä½œæ ¹è·¯å¾„ã€‚è¿™è®©ä½ å……åˆ†çš„ä½¿ç”¨åµŒå¥—ç»„ä»¶è€Œæ— é¡»è®¾ç½®åµŒå¥—çš„è·¯å¾„ã€‚ &#x27;index&#x27; -&gt; è®¿é—®è·¯å¾„ = /home/index &#x27;/index&#x27; -&gt; è®¿é—®è·¯å¾„ = /index &#x27;/home/index&#x27; -&gt; è®¿é—®è·¯å¾„ = /home/index */ path: &#x27;/index&#x27;, name: &#x27;AppIndex&#x27;, component: AppIndex, meta: &#123; requireAuth: true &#125; &#125;, &#123; path: &#x27;/other&#x27;, name: &#x27;Other&#x27;, component: OtherIndex, &#125; ] &#125;, æ³¨æ„&lt;router-view /&gt;ä¸èƒ½é—æ¼ï¼Œä»¥åŠçˆ¶å­è·¯ç”±çš„å†™æ³•ã€‚","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"},{"name":"Vue","slug":"Vue","permalink":"http://blog.karakarua.com/tags/Vue/"}]},{"title":"å°è®°â€”â€”Shiro","slug":"å°è®°shiro","date":"2020-08-11T16:00:00.000Z","updated":"2021-03-16T05:19:20.197Z","comments":true,"path":"2020/08/12/8ea9ec3637ed/","link":"","permalink":"http://blog.karakarua.com/2020/08/12/8ea9ec3637ed/","excerpt":"","text":"shiroæ¶æ„å‚è€ƒ# Apache Shiroç³»åˆ—å››ï¼Œæ¦‚è¿° â€”â€” Shiroçš„æ¶æ„ shiroç›¸å…³æ•™ç¨‹ï¼šShiroæ•™ç¨‹å®‰æ’","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Shiro","slug":"Shiro","permalink":"http://blog.karakarua.com/tags/Shiro/"}]},{"title":"å°è®°â€”â€”Vuexå®ç°å‰ç«¯æ‹¦æˆª","slug":"Vuexå®ç°å‰ç«¯æ‹¦æˆªå°è®°","date":"2020-08-10T16:00:00.000Z","updated":"2021-03-16T05:16:44.017Z","comments":true,"path":"2020/08/11/fa5865d99101/","link":"","permalink":"http://blog.karakarua.com/2020/08/11/fa5865d99101/","excerpt":"","text":"ä¹‹å‰è®²è¿‡åç«¯æ‹¦æˆªçš„å®ç°ï¼Œåç«¯æ‹¦æˆªä¸å‰ç«¯æ‹¦æˆªçš„åŒºåˆ«ï¼šå‘ç”Ÿæ‹¦æˆªçš„ä½ç½®ä¸åŒï¼Œä¸€ä¸ªåœ¨åç«¯ï¼Œä¸€ä¸ªåœ¨å‰ç«¯ã€‚åç«¯æ‹¦æˆªæ—¶è¯·æ±‚è‚¯å®šæ˜¯å·²ç»åˆ°è¾¾äº†æœåŠ¡ç«¯ï¼Œåç«¯å·²ç»è¦åšå¤„ç†äº†ã€‚åç«¯æ‹¦æˆªçš„é€»è¾‘æ˜¯å¯¹sessionåˆ¤æ–­ï¼Œæ˜¯å¦åŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼Œæ²¡æœ‰å°±æ‰§è¡Œé‡å®šå‘è¯·æ±‚ï¼Œæ–¹æ³•æ˜¯response.sendRedirect(â€œ/xxxâ€)ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€ç›´æ˜¯åç«¯åœ¨æ“çºµï¼Œæœ€åè¿”å›ç»™æµè§ˆå™¨ã€‚å‰ç«¯æ‹¦æˆªæ˜¯å‰ç«¯æ¡†æ¶åˆ†åˆ«åˆ©ç”¨çŠ¶æ€ç®¡ç†å’Œè·¯ç”±ï¼Œåˆ¤æ–­ç™»å½•çŠ¶æ€å’Œé‡å®šå‘è¯·æ±‚ï¼Œæ¯”å¦‚Vue.jsåˆ©ç”¨Vuexä¿å­˜ä¸€ä¸ªæµè§ˆå™¨ç”¨æˆ·çŠ¶æ€ï¼Œå½“ç”¨æˆ·çŠ¶æ€æ˜¯æœªç™»å½•æ—¶ï¼Œä½¿ç”¨vue-routeré‡å®šå‘åˆ°&quot;/login&quot;ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯å‘ç”Ÿåœ¨å‰ç«¯çš„ï¼Œåªæœ‰å¿…é¡»è¦è¯·æ±‚åç«¯æ—¶æ‰å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚(&quot;/login&quot;)ã€‚å‰ç«¯æ‹¦æˆªçš„å®ç°ä»£ç æ¥è‡ªåšå®¢Vue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆå…­ï¼‰ï¼šå‰ç«¯è·¯ç”±ä¸ç™»å½•æ‹¦æˆªå™¨ ä»…ä»…é ä¸‹é¢çš„å‰ç«¯æ‹¦æˆªå®ç°æ˜¯ä¸å¯è¡Œçš„ï¼Œå­˜åœ¨ç»•è¿‡é£é™©ï¼Œè¿™é‡Œæš‚ä¸è®¨è®ºã€‚è¯¦ç»†è¯·å‚è€ƒåšå®¢Vue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆåå››ï¼‰ï¼šç”¨æˆ·è®¤è¯æ–¹æ¡ˆä¸å®Œå–„çš„è®¿é—®æ‹¦æˆªçš„ç¬¬äºŒéƒ¨åˆ†ï¼šå®Œå–„çš„è®¿é—®æ‹¦æˆªã€‚ å¼•å…¥Vuexï¼š123456789101112131415161718import Vue from &#x27;vue&#x27;import Vuex from &#x27;vuex&#x27;Vue.use(Vuex)export default new Vuex.Store(&#123; state: &#123; user: &#123; username: window.localStorage.getItem(&#x27;user&#x27; || &#x27;[]&#x27;) == null ? &#x27;&#x27; : JSON.parse(window.localStorage.getItem(&#x27;user&#x27; || &#x27;[]&#x27;)).username &#125; &#125;, mutations: &#123; login (state, user) &#123; state.user = user window.localStorage.setItem(&#x27;user&#x27;, JSON.stringify(user)) &#125; &#125;&#125;)é…ç½®vue-routerï¼Œä¿®æ”¹router/index.js12345678910111213141516171819202122232425import Vue from &#x27;vue&#x27;import Router from &#x27;vue-router&#x27;import AppIndex from &#x27;@/components/home/AppIndex&#x27;import Login from &#x27;@/components/Login&#x27;Vue.use(Router)export default new Router(&#123; mode: &#x27;history&#x27;, routes: [ &#123; path: &#x27;/login&#x27;, name: &#x27;Login&#x27;, component: Login &#125;, &#123; path: &#x27;/index&#x27;, name: &#x27;AppIndex&#x27;, component: AppIndex, meta: &#123; requireAuth: true &#125; &#125; ]&#125;)é…ç½®main.js123456789101112131415161718192021222324252627282930313233343536373839import Vue from &#x27;vue&#x27;import App from &#x27;./App&#x27;import router from &#x27;./router&#x27;import store from &#x27;./store&#x27;import ElementUI from &#x27;element-ui&#x27;import &#x27;element-ui/lib/theme-chalk/index.css&#x27;var axios = require(&#x27;axios&#x27;)axios.defaults.baseURL = &#x27;http://localhost:8443/api&#x27;Vue.prototype.$axios = axiosVue.config.productionTip = falseVue.use(ElementUI)router.beforeEach((to, from, next) =&gt; &#123; if (to.meta.requireAuth) &#123; if (store.state.user.username) &#123; next() &#125; else &#123; next(&#123; path: &#x27;login&#x27;, query: &#123;redirect: to.fullPath&#125; &#125;) &#125; &#125; else &#123; next() &#125; &#125;)/* eslint-disable no-new */new Vue(&#123; el: &#x27;#app&#x27;, render: h =&gt; h(App), router, store, components: &#123; App &#125;, template: &#x27;&lt;App/&gt;&#x27;&#125;)é…ç½®Login.vueï¼ˆå·²åˆ é™¤UIéƒ¨åˆ†ï¼Œåªä¿ç•™äº†jsè„šæœ¬ï¼‰123456789101112131415161718192021222324252627282930313233export default &#123; name: &#x27;Login&#x27;, data () &#123; return &#123; loginForm: &#123; username: &#x27;admin&#x27;, password: &#x27;123&#x27; &#125;, responseResult: [] &#125; &#125;, methods: &#123; login () &#123; var _this = this console.log(this.$store.state) this.$axios .post(&#x27;/login&#x27;, &#123; username: this.loginForm.username, password: this.loginForm.password &#125;) .then(successResponse =&gt; &#123; if (successResponse.data.code === 200) &#123; // var data = this.loginForm _this.$store.commit(&#x27;login&#x27;, _this.loginForm) var path = this.$route.query.redirect this.$router.replace(&#123;path: path === &#x27;/&#x27; || path === undefined ? &#x27;/index&#x27; : path&#125;) &#125; &#125;) .catch(failResponse =&gt; &#123; &#125;) &#125; &#125;&#125;åç«¯æ‹¦æˆªå¯å‚è€ƒæœ¬äººå¦å¤–çš„åšå®¢ï¼šåç«¯ç™»å½•æ‹¦æˆª/è¿‡æ»¤è¿™ä¸¤ç¯‡åšå®¢å‡æ˜¯å­¦ä¹ Vue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆå…­ï¼‰ï¼šå‰ç«¯è·¯ç”±ä¸ç™»å½•æ‹¦æˆªå™¨çš„è§£å†³å¿ƒå¾—ã€‚","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"},{"name":"Vue","slug":"Vue","permalink":"http://blog.karakarua.com/tags/Vue/"}]},{"title":"åç«¯ç™»å½•æ‹¦æˆª/è¿‡æ»¤","slug":"åç«¯ç™»å½•æ‹¦æˆª-è¿‡æ»¤","date":"2020-07-28T16:00:00.000Z","updated":"2021-03-16T05:17:53.459Z","comments":true,"path":"2020/07/29/e4da9ef1c798/","link":"","permalink":"http://blog.karakarua.com/2020/07/29/e4da9ef1c798/","excerpt":"","text":"è®°å½•é¡¹ç›®å­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹â€”â€”åç«¯ç™»å½•æ‹¦æˆªã€‚å¹¶æ€è€ƒç”¨ä¸€ç§æ–¹å¼â€”â€”Servlet Filterå®ç°è¯¥åŠŸèƒ½ã€‚ æ³¨ï¼šæ‹¦æˆªå™¨@Overrideçš„prehandleé€»è¾‘ï¼Œåœ¨åæœŸå­¦ä¹ è¿‡ç¨‹ä¿®æ”¹ä¸ºäº†shiroéªŒè¯ï¼Œæœ¬æ–‡ä»£ç ä¸å†ä¿®æ”¹ï¼Œè¯¦æƒ…è§Vue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆåå››ï¼‰ï¼šç”¨æˆ·è®¤è¯æ–¹æ¡ˆä¸å®Œå–„çš„è®¿é—®æ‹¦æˆª é¡¹ç›®è¿˜æ˜¯é‚£ä¸ªé¡¹ç›®ï¼šVue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡¹ç›®ç®€ä»‹è¿˜æ˜¯ç¬¬6èŠ‚Vue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆå…­ï¼‰ï¼šå‰ç«¯è·¯ç”±ä¸ç™»å½•æ‹¦æˆªå™¨ã€‚ æ–‡ä¸­æœ‰è®²åˆ°ä¸€ä¸ªéœ€æ±‚â€”â€”åç«¯ç™»å½•æ‹¦æˆªï¼Œæ„æ€å°±æ˜¯æ²¡æœ‰ç™»å½•çš„ç”¨æˆ·ï¼Œå¿…é¡»è¦æ±‚å…¶ç™»å½•ä¹‹åæ‰å¯ä»¥è®¿localhost:8843/blog/indexé¡µé¢ã€‚æ–‡ä¸­å®ç°çš„æ–¹å¼ä½¿ç”¨æ‹¦æˆªå™¨ï¼Œæ‹¦æˆªå™¨æ˜¯ä»€ä¹ˆ?æ‹¦æˆªå™¨æ˜¯SpringMVCçš„ä¸€ç§æœºåˆ¶ï¼Œç±»ä¼¼äºServletçš„è¿‡æ»¤å™¨Filterï¼Œä¸»è¦å®ç°å¯¹æŸä¸ªå¤„ç†æ–¹æ³•è¿›è¡Œæ‹¦æˆªï¼Œæ‰§è¡ŒæŸäº›æ“ä½œã€‚æœ‰ä¸ªé“¾æ¥å¯å‚è€ƒï¼š Spring MVCæ‹¦æˆªå™¨ï¼ˆInterceptor ï¼‰è¯¦è§£ å¦‚ä½•ä½¿ç”¨æ‹¦æˆªå™¨å®ç°ç™»å½•æ‹¦æˆª? ï¼ˆåŸæ–‡ï¼šVue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆå…­ï¼‰ï¼šå‰ç«¯è·¯ç”±ä¸ç™»å½•æ‹¦æˆªå™¨çš„å®ç°æ–¹å¼ï¼‰ é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªç±»å®ç°HandlerInterceptorï¼Œæ¯”å¦‚public class LoginInterceptor implements HandlerInterceptorï¼Œç„¶åé‡å†™å›è°ƒå‡½æ•°preHandleã€‚è¿™é‡Œçš„é€»è¾‘å°±æ˜¯ï¼šåˆ¤æ–­request.getServletPath()æ˜¯å¦æ˜¯å¦æ˜¯&quot;/index&quot;ï¼Œå¦‚æœæ˜¯ï¼Œå°±åˆ¤æ–­æ˜¯å¦ç™»å½•ï¼ˆsession.getAttribute(&quot;user&quot;) æ˜¯å¦ä¸ºç©ºï¼‰ï¼Œæ²¡æœ‰ç™»å½•å°±é‡å®šå‘åˆ°&quot;/login&quot;ï¼ˆresponse.sendRedirect(request.getContextPath() + &quot;/login&quot;); ç„¶åè‡ªå®šä¹‰ç±»å®ç°WebMvcConfigurer ï¼Œé‡å†™addInterceptorsï¼ŒæŠŠä¸Šé¢çš„LoginInterceptoræ³¨å†Œåˆ°æ‹¦æˆªå™¨ä¸­ã€‚è´´ä¸€ä¸ªæˆ‘è‡ªå·±å†™çš„ä»£ç ï¼Œå¯ä»¥å¯¹æ¯”ç€åŸæ–‡ä»£ç çœ‹çœ‹(æ³¨æ„ä¸è¦å¿˜äº†æ³¨è§£)ï¼š123456789101112131415public class LoginInterceptor implements HandlerInterceptor &#123; @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; HttpSession session = request.getSession(); String servletPath = request.getServletPath(); if (servletPath.startsWith(&quot;/index&quot;)) &#123; if (session.getAttribute(&quot;user&quot;) == null) &#123; System.out.println(&quot;Not Login&quot;); response.sendRedirect(request.getContextPath() + &quot;/login&quot;); return false; &#125; &#125; return true; &#125;&#125; 12345678910111213@SpringBootConfigurationpublic class MyWebConfigurer implements WebMvcConfigurer &#123; @Bean public LoginInterceptor getLoginInterceptor() &#123; return new LoginInterceptor(); &#125; @Override public void addInterceptors(InterceptorRegistry registry) &#123; registry.addInterceptor(getLoginInterceptor()).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/index.html&quot;); &#125;&#125; ä¸‹é¢æ˜¯åŸåšå®¢ä¸­çš„LoginInterceptorçš„å®ç°ï¼š123456789101112131415161718192021222324252627282930313233343536public class LoginInterceptor implements HandlerInterceptor&#123; @Override public boolean preHandle (HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o) throws Exception &#123; HttpSession session = httpServletRequest.getSession(); String contextPath=session.getServletContext().getContextPath(); String[] requireAuthPages = new String[]&#123; &quot;index&quot;, &#125;; String uri = httpServletRequest.getRequestURI(); uri = StringUtils.remove(uri, contextPath+&quot;/&quot;); String page = uri; if(begingWith(page, requireAuthPages))&#123; User user = (User) session.getAttribute(&quot;user&quot;); if(user==null) &#123; httpServletResponse.sendRedirect(&quot;login&quot;); return false; &#125; &#125; return true; &#125; private boolean begingWith(String page, String[] requiredAuthPages) &#123; boolean result = false; for (String requiredAuthPage : requiredAuthPages) &#123; if(StringUtils.startsWith(page, requiredAuthPage)) &#123; result = true; break; &#125; &#125; return result; &#125;&#125; æ—¢ç„¶ä¸€äº›åšå®¢åœ¨ä»‹ç»SpringMVCçš„æ‹¦æˆªå™¨æ—¶è¯´ç±»ä¼¼Servletçš„Filterï¼Œé‚£èƒ½å¦ç”¨Filterå®ç°å‘¢ï¼Ÿæˆ‘åšäº†åšå®éªŒï¼Œåº”è¯¥æ˜¯å¯ä»¥çš„ã€‚ä½†å› ä¸ºåšä¸»è¿˜æ˜¯å°ç™½ï¼Œå› æ­¤å¦‚æœå†™çš„ä¸å¯¹ï¼Œè¿˜è¯·è¯»è€…æŒ‡æ•™ã€‚é€»è¾‘å’Œæ‹¦æˆªå™¨çš„ä»£ç å·®ä¸å¤šï¼Œå°±æ˜¯å¯¹æ‰€æœ‰urlå…ˆæ‹¦æˆªï¼Œåœ¨åˆ¤æ–­ServletPathçš„å‰ç¼€æ˜¯ä¸æ˜¯&quot;/index&quot;ï¼Œæ˜¯çš„è¯å°±åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œæ²¡æœ‰ç™»å½•å°±é‡å®šå‘åˆ°&quot;/login&quot;ï¼Œå·²ç»ç™»å½•å°±æ”¾è¡Œã€‚ç›´æ¥ä¸Šä»£ç å§ï¼ŒåŒæ ·æ³¨æ„ä¸è¦å¿˜äº†æ³¨è§£ã€‚1234567891011121314151617181920212223242526272829303132333435@Configuration@WebFilter(filterName = &quot;LoginFilter&quot;, urlPatterns = &#123;&quot;/*&quot;&#125;)@Order(value = 1)public class LoginFilter implements Filter &#123; @Override public void init(FilterConfig filterConfig) throws ServletException &#123; &#125; @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException &#123; HttpServletRequest request = (HttpServletRequest) servletRequest; HttpServletResponse response = (HttpServletResponse) servletResponse; HttpSession session = request.getSession(); System.out.println(&quot;Servlet Path=&quot; + request.getServletPath()); if (request.getServletPath().startsWith(&quot;/index&quot;)) &#123; User user = (User) session.getAttribute(&quot;user&quot;); if (user == null) &#123; System.out.println(&quot;Not Login&quot;); response.sendRedirect(request.getContextPath() + &quot;/login&quot;); &#125; else &#123; //æ”¾è¡Œ filterChain.doFilter(request, response); &#125; &#125; else &#123; filterChain.doFilter(request, response); &#125; &#125; @Override public void destroy() &#123; &#125;&#125; è¯·ä»”ç»†ç†è§£è¿™ä¸¤ç§æ–¹å¼çš„ä»£ç ã€‚å¦‚æœæ‚¨æ„Ÿè§‰æˆ‘å†™çš„ä¸å¯¹ï¼Œè¯·æ‰¹è¯„æŒ‡æ­£ã€‚æˆ‘èƒ½å†™å‡ºæ¥ä¹Ÿæ˜¯â€œéº¦èŠ’æ‰è¿›é’ˆçœ¼é‡Œâ€”â€”å‡‘å·§äº†â€ã€‚å¦‚æœæ‚¨ä¹Ÿåœ¨å­¦ä¹ Vue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆå…­ï¼‰ï¼šå‰ç«¯è·¯ç”±ä¸ç™»å½•æ‹¦æˆªå™¨ï¼Œå¹¶ä¸”æ‚¨å®è·µäº†æˆ‘è¯´çš„è¿™ä¸¤ç§æ–¹å¼ï¼ˆå‰ææˆ‘å†™å¯¹äº†ï¼Œå˜¿å˜¿ï¼‰ï¼Œè¯·æ‚¨ç»§ç»­å¾€ä¸‹çœ‹ã€‚æˆ‘è¯´ä¸€ä¸ªå°ç»†èŠ‚å§ã€‚ä½¿ç”¨è¿‡æ»¤å™¨Filterå¯ä»¥å¯¹&quot;/index&quot;å’Œ&quot;/index.html&quot;éƒ½è¿›è¡Œè¿‡æ»¤ï¼Œè¦æ±‚ç™»å½•ä»¥åæ‰èƒ½è®¿é—®ï¼Œä½†æ˜¯ä½¿ç”¨æ‹¦æˆªå™¨çš„æ–¹å¼å¹¶ä¸èƒ½å¯¹&quot;/index.html&quot;è¿›è¡Œæ‹¦æˆªï¼Œå³ä¸è¦æ±‚ç™»å½•å°±èƒ½è®¿é—®ï¼ˆæ³¨ï¼šè¿™ä¸ªindex.htmlæ˜¯Vue.jså•é¡µé¢å¼€å‘ï¼Œç›´æ¥è®¿é—®æ˜¯ç©ºç™½é¡µé¢ï¼Œç”±äºä¸æ‡‚å‰ç«¯ï¼Œæˆ‘å¹¶ä¸çŸ¥é“æ˜¯å¦å­˜åœ¨å±å®³ï¼Œæˆ–è®¸å¯ä»¥ç›´æ¥è®¿é—®å¹¶ä¸å­˜åœ¨å±å®³ï¼Œåªæ˜¯æˆ‘æ„Ÿè§‰ä¸å¤ªå¥½ï¼‰ã€‚å› ä¸ºMyWebConfigurerÂ·ä¸­çš„Â·addInterceptor()æ–¹æ³•æœ‰ä¸€å¥excludePathPatterns(&quot;/index.html&quot;)ã€‚å¯æ˜¯ä¸ºä»€ä¹ˆè¦åŠ è¿™ä¸€å¥å‘¢ï¼ŸåŸåšå®¢ä¹Ÿæœ‰è¯´æ˜åŸå› ï¼Œæ˜¯å› ä¸ºæœªç™»å½•çŠ¶æ€ä¸‹ï¼Œ&quot;/index&quot;ä¼šé‡å®šå‘åˆ°&quot;/login&quot;ç•Œé¢ï¼Œç„¶ååˆå› ä¸º&quot;/login&quot;ä½¿ç”¨äº†ErrorConfigï¼ˆè¿™ä¸ªè¯·çœ‹åŸåšå®¢ï¼Œå±äºé¡¹ç›®å†…å®¹ï¼‰ï¼Œå°†HTTP 404é‡å®šå‘åˆ°äº†&quot;/index.html&quot;ï¼Œ&quot;/index.html&quot;çš„å‰ç¼€åŒæ ·æ˜¯&quot;/index&quot;ï¼Œæœªç™»å½•æƒ…å†µä¸‹å†æ¬¡é‡å®šå‘åˆ°&quot;/login&quot;ï¼Œç„¶åè¿™å°±é€ æˆäº†æ­»å¾ªç¯ï¼Œå³é‡å®šå‘è¿‡å¤šå¯¼è‡´é¡µé¢è®¿é—®å¤±è´¥äº†ã€‚é‚£ä¸ºä»€ä¹ˆFilterä¸ä¼šé‡å®šå‘è¿‡å¤šå‘¢ï¼Ÿæˆ‘è®¤ä¸ºå’Œæ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨çš„æœºåˆ¶ä¸åŒæœ‰å…³ï¼Œæ‹¦æˆªå™¨æ˜¯å±äºSpringMVCè§„èŒƒï¼Œä½†è¿‡æ»¤å™¨æ˜¯å±äºServletè§„èŒƒã€‚åšå®¢ï¼ˆè›®ä¸é”™çš„ï¼‰ã€Šspring boot è¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨çš„åŒºåˆ«ä¸ä½¿ç”¨ã€‹ç»™äº†å‡ ä¸ªå›¾ï¼Œå¹¶æŒ‡å‡ºâ€œè¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨è§¦å‘æ—¶æœºä¸ä¸€æ ·ï¼Œè¿‡æ»¤å™¨æ˜¯åœ¨è¯·æ±‚è¿›å…¥å®¹å™¨åï¼Œä½†è¯·æ±‚è¿›å…¥servletä¹‹å‰è¿›è¡Œé¢„å¤„ç†çš„ã€‚è¯·æ±‚ç»“æŸè¿”å›ä¹Ÿæ˜¯ï¼Œæ˜¯åœ¨servletå¤„ç†å®Œåï¼Œè¿”å›ç»™å‰ç«¯ä¹‹å‰ã€‚â€è¿™è¯´æ˜ï¼Œè¿‡æ»¤å™¨Filteræ˜¯åœ¨è¿›å…¥å®¹å™¨ä¹‹åå°±èµ·ä½œç”¨äº†ï¼Œä½†æ˜¯æ‹¦æˆªå™¨Interceptoræ˜¯åœ¨è¿›å…¥äº†LoginControllerä¹‹å‰æ‰è¢«è°ƒç”¨ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹åº”è¯¥æ˜¯åœ¨ErrorConfigçš„åé¢ï¼ˆæˆ‘æ„Ÿè§‰ErrorConfigçš„é‡å®šå‘åº”è¯¥æ˜¯å±äºdispatcherï¼‰ã€‚è¿™è¿˜æœ‰ä¸ªåˆ©ç”¨System.out.println()è¾“å‡ºSpringç»„ä»¶åŠ è½½é¡ºåºçš„å›¾ï¼Œå› æ­¤ï¼Œå¦‚æœMyWebConfigurerä¸­çš„addInterceptoä¸å†™excludePathPatterns(&quot;/index.html&quot;)ï¼Œå°±ä¼šé€ æˆè¿™æ ·çš„é‡å®šå‘æ­»å¾ªç¯é¡ºåºï¼š&quot;/index&quot;(æœªç™»å½•) --&gt; &quot;/login&quot; --&gt; &quot;/index.html&quot; --&gt; &quot;/login&quot; --&gt; &quot;/index.html&quot; --&gt; ...ï¼Œè¦æŠŠ&quot;/index.html&quot;æ’é™¤åœ¨å¤–ã€‚æˆªäº†ä¸ªå›¾å¯ä»¥çœ‹ä¸€ä¸‹ï¼šå½“ç„¶ï¼ŒåŠ äº†excludePathPatterns(&quot;/index.html&quot;)ï¼Œä¹Ÿå°±å¦‚å‰é¢æ‰€è¯´ï¼Œæ„å‘³ç€&quot;/index.html&quot;ä¸éœ€è¦ç™»å½•äº†ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ã€‚ å¥½äº†ï¼Œè¯´å®Œäº†ã€‚æ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://blog.karakarua.com/tags/Spring-Boot/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"}]},{"title":"å‰ç«¯Vueæ•´åˆåç«¯éƒ¨ç½²é¡µé¢ä¸€ç‰‡ç©ºç™½","slug":"å‰ç«¯Vueæ•´åˆåç«¯éƒ¨ç½²é¡µé¢ä¸€ç‰‡ç©ºç™½","date":"2020-07-27T16:00:00.000Z","updated":"2021-03-16T05:18:37.628Z","comments":true,"path":"2020/07/28/8ca54e056d31/","link":"","permalink":"http://blog.karakarua.com/2020/07/28/8ca54e056d31/","excerpt":"","text":"é¦–å…ˆè¯´æ˜ä¸æ‡‚å‰ç«¯ï¼Œä»…ä»…æ˜¯åœ¨å­¦ä¹ å‰åç«¯åˆ†ç¦»æ—¶é‡åˆ°äº†é—®é¢˜ï¼Œè¯´è¯´æ€ä¹ˆè§£å†³çš„ã€‚ æƒ…å†µæ˜¯è¿™æ ·çš„ï¼Œå­¦ä¹ äº†ä¸€ä¸ªVue+Springbootå‰åç«¯åˆ†ç¦»åšå®¢ï¼šVue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡¹ç›®ç®€ä»‹å­¦ä¹ åˆ°ç¬¬6èŠ‚Vue + Spring Boot é¡¹ç›®å®æˆ˜ï¼ˆå…­ï¼‰ï¼šå‰ç«¯è·¯ç”±ä¸ç™»å½•æ‹¦æˆªå™¨ï¼ŒæŠŠå‰ç«¯å’Œåç«¯æ•´åˆæ—¶ï¼Œå‡ºç°äº†é—®é¢˜ï¼Œè®¿é—®localhost:8443/blog/loginï¼ˆNote: æˆ‘è®¾ç½®äº†é¡¹ç›®è·¯å¾„ï¼Œå³server.servlet.context-path:/blog/ï¼‰,ç•Œé¢ä¸€ç¯‡ç©ºç™½ã€‚ä½†å¯ä»¥ä¿è¯ï¼Œæ£€æŸ¥æ•²çš„ä»£ç ä¸€ç‚¹é”™è¯¯æ²¡æœ‰ï¼Œæ“ä½œæ­¥éª¤å®Œå…¨æ­£ç¡®ã€‚è¿™å°±å°´å°¬äº†ï¼Œå‡ ä¹ä¸æ‡‚å‰ç«¯ï¼Œå…¨è¦é è‡ªå·±æ’æŸ¥äº†ã€‚ æ’æŸ¥æ­¥éª¤ï¼š é¦–å…ˆæ³¨æ„åˆ°åŸåšå®¢æœ‰ä¸€å¥è¯ï¼šâ€œè™½ç„¶é¡µé¢æ˜¯ç©ºç™½çš„ï¼Œä½†ç¡®å®æ˜¯è·å–åˆ°äº†è¿™ä¸ªé¡µé¢â€ã€‚ç„¶åå¯¹æ¯”æˆ‘çš„index.htmlçš„F12 Networkè°ƒè¯•é¡µé¢ï¼Œå‘ç°åˆºçœ¼çš„é”™è¯¯ï¼šè„šæœ¬å’Œæ ·å¼çš„è¯·æ±‚è·¯å¾„æ˜¯é”™è¯¯çš„ï¼Œç¼ºå°‘äº†/blog/è·¯å¾„ã€‚ ) é—®é¢˜å‡ºç°ï¼šURLè¯·æ±‚ç¼ºå°‘é¡¹ç›®è·¯å¾„ã€‚é‚£æ€ä¹ˆæ‰èƒ½èƒ½é…ç½®è·¯å¾„ï¼Œè®©URLè¯·æ±‚å†åŠ ä¸Šä¸€ä¸ªé¡¹ç›®è·¯å¾„â€/blog/â€œå‘¢ï¼Ÿ è§£å†³åŠæ³•ï¼š å‚è€ƒåšå®¢#ä¸ºä»€ä¹ˆvue+webpackéœ€è¦ç”¨åˆ°nodeï¼Œå¦‚ä½•éƒ¨ç½²é¡¹ç›®åˆ°æœåŠ¡å™¨ï¼Ÿã€çŸ¥ä¹vuejsæ€ä¹ˆåœ¨æœåŠ¡å™¨éƒ¨ç½²ï¼Ÿï¼ˆä¸»è¦å‚è€ƒpapersnakeçš„å›ç­”ï¼‰ã€å®˜æ–¹é…ç½®æ–‡æ¡£é…ç½®å‚è€ƒã€API å‚è€ƒã€‚ï¼ˆé¡ºå˜´è¯´ä¸€å¥ï¼Œåœ¨ä»€ä¹ˆä¸æ‡‚çš„å‰æä¸‹ï¼Œä¸å…¶ä¹±ç™¾åº¦ï¼Œå€’ä¸å¦‚ç›´æ¥çœ‹å®˜ç½‘ï¼Œè¿™æ›´åƒæ˜¯æ­£ç¡®çš„å­¦ä¹ æ–¹å¼ï¼‰ã€‚ é¦–å…ˆé…ç½®index.htmlä¸­çš„jsã€cssç­‰èµ„æºè·¯å¾„ï¼Œè¿™ä¸ªç›¸å…³çš„é…ç½®æ˜¯å‰ç«¯é¡¹ç›®config/index.jsä¸­ï¼Œbuildä¸‹çš„assetsPublicPathã€‚éœ€è¦æ”¹æˆassetsPublicPath: &#39;./&#39;æˆ–è€…assetsPublicPath: &#39;/blog/&#39;ã€‚ä¸‹å›¾æ˜¯å®˜æ–¹é…ç½®å‚è€ƒæ–‡æ¡£ï¼ˆæˆ‘çš„vueæ˜¯Version 2.xï¼Œå®˜æ–¹æä¾›çš„å¥½åƒæ˜¯Version 3.xçš„æ–‡æ¡£ï¼Œè™½ç„¶å±æ€§åå­—æœ‰å·®åˆ«ï¼Œä½†æ„Ÿè§‰æŒ‡çš„æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œå¦‚æœ‰ä¸å¯¹ï¼Œè¯·æŒ‡æ­£å“ˆï¼ï¼‰ã€‚ ç„¶åï¼Œé…ç½®å‰ç«¯é¡¹ç›®router/index.jsçš„Routerï¼Œæ·»åŠ base:/blog/ï¼Œè¿™ä¸ªçš„ç›®çš„æ˜¯å‘ŠçŸ¥routeré¡¹ç›®è·¯å¾„ï¼Œå³è¯·æ±‚å‰ç¼€ã€‚æ²¡æœ‰è¿™ä¸€ä¸ªï¼Œå‰ç«¯ä¸èƒ½æ­£ç¡®è¯†åˆ«è¯·æ±‚ï¼Œå³/blog/loginä¼šæ— æ³•è¯†åˆ«ã€‚é…ä¸ªå®˜æ–¹é…ç½®API å‚è€ƒæˆªå›¾ï¼šè¿™ä¸ªä¸€å®šè¦é…ç½®ï¼Œå¦‚æœä¸é…ç½®ï¼Œåˆ™è®¿é—®/blog/loginè¿˜æ˜¯ç©ºç™½ï¼Œåç«¯å¹¶æ²¡æœ‰æŠŠ404è½¬åˆ°index.htmlèµ„æºã€‚ æ³¨æ„ï¼šç¬¬ä¸€æ­¥ä¸­æœ‰ä¸ªé»„è‰²çš„ç‰¹åˆ«è¯´æ˜ï¼Œå½“ä½¿ç”¨historyè·¯ç”±æ–¹å¼æ—¶ï¼Œå°½é‡é¿å…æƒ³å¯¹è·¯å¾„ï¼Œå³é¿å…assetsPublicPath: &#39;./&#39;ï¼Œå³åº”è¯¥é…ç½®ä¸ºï¼šassetsPublicPath: &#39;/blog/&#39;ã€‚å¦‚æœç–å¿½äº†ï¼Œåœ¨historyæ¨¡å¼ä¸‹ä½¿ç”¨./ç›¸å¯¹è·¯å¾„çš„æ–¹å¼ï¼Œä¼šæœ‰ä»€ä¹ˆåæœå‘¢ï¼Ÿï¼ˆå› ä¸ºç²—å¿ƒå¤§æ„ï¼Œæ²¡æœ‰æŒ‰å®˜æ–¹è¦æ±‚è®¾ç½®ï¼Œå‡ºç°äº†é”™è¯¯ï¼Œå´å› ç¥¸å¾—ç¦è®©æˆ‘æ³¨æ„åˆ°äº†è¿™ä¸€ç‚¹ã€‚ï¼‰ç»™å¤§å®¶æˆªä¸ªå›¾ï¼š(å‰æï¼šä¸Šé¢ä¸¤ä¸ªé…ç½®å‡æ“ä½œå®Œæˆã€‚)å¯ä»¥å‘ç°historyæ¨¡å¼ä¸‹ä½¿ç”¨æƒ³å¯¹publicPathçš„åæœæ˜¯ï¼Œéƒ¨åˆ†èµ„æºè¯·æ±‚è·¯å¾„å‘é€é”™è¯¯ã€‚ åˆ°è¿™ä¸€æ­¥ï¼Œ/blog/index.htmlé¡µé¢è™½ç„¶è¿˜æ˜¯ç©ºç™½ï¼Œä½†æ˜¯è¯¥æ‹¿åˆ°çš„èµ„æºå°±éƒ½æ‹¿åˆ°äº†ã€‚ é…ç½®å®Œè¿™ä¸¤é¡¹åï¼Œå†è®¿é—®localhost:8443/blog/loginï¼Œå°±èƒ½çœ‹åˆ°é¡µé¢äº†å‘¦ï¼ æ€»ç»“ï¼šå…³é”®ä¸¤æ­¥ï¼š1. é…ç½®æ˜¯å‰ç«¯é¡¹ç›®config/index.jsä¸­ï¼Œbuildä¸‹çš„assetsPublicPathï¼›2. é…ç½®å‰ç«¯é¡¹ç›®router/index.jsçš„Routerï¼Œæ·»åŠ base:/blog/ï¼Œblogæ˜¯ä½ çš„é¡¹ç›®åç§°","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://blog.karakarua.com/tags/Vue/"}]},{"title":"Intellij-IDEAåˆ©ç”¨spring-initializræ·»åŠ mavenä¾èµ–åŒ…","slug":"Intellij-IDEAåˆ©ç”¨spring-initializræ·»åŠ mavenä¾èµ–åŒ…","date":"2020-07-25T16:00:00.000Z","updated":"2021-03-16T05:28:00.642Z","comments":true,"path":"2020/07/26/3bb75a65f0b6/","link":"","permalink":"http://blog.karakarua.com/2020/07/26/3bb75a65f0b6/","excerpt":"","text":"åˆ©ç”¨spring-initializråˆ›å»ºspring-booté¡¹ç›®æ—¶ï¼Œå¯ä»¥ç›´æ¥é€‰æ‹©ä¾èµ–ï¼Œåˆ›å»ºæˆåŠŸåï¼Œè¿™äº›ä¾èµ–å°±ä¼šè‡ªåŠ¨å­˜åœ¨pom.xmlä¸­ã€‚ä½†åœ¨é¡¹ç›®ç¼–å†™è¿‡ç¨‹ä¸­å¦‚æœè¿˜æƒ³åˆ©ç”¨spring-initializerå¼•å…¥éƒ¨åˆ†ä¾èµ–ï¼Œæ€ä¹ˆåŠï¼Ÿ è¿™å°±éœ€è¦ä¸€ä¸ªIDEAæ’ä»¶ï¼Œå«EditStartersï¼Œå¯ä»¥ç›´æ¥åˆ©ç”¨spring-initiizeråƒåˆ›å»ºé¡¹ç›®æ—¶æ·»åŠ ä¾èµ–åŒ…ï¼Œå¾ˆæ–¹ä¾¿ã€‚ å…·ä½“å‚è€ƒé“¾æ¥ï¼šIntelliJ IDEAä¸­å¦‚ä½•å†æ¬¡è°ƒå‡ºspringbootçš„ä¾èµ–çª—å£ï¼Œéšæ—¶å¯ä»¥æ ¹æ®å–œå¥½å¯¼å…¥å’Œç§»é™¤æ’ä»¶ è´´ä¸€ä¸ªæ·»åŠ æˆåŠŸçš„ä¾èµ–å’Œæ’ä»¶ä¸»é¡µé¢ä¸»é¡µé¢ï¼š","categories":[{"name":"Misc","slug":"Misc","permalink":"http://blog.karakarua.com/categories/Misc/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://blog.karakarua.com/tags/Java/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://blog.karakarua.com/tags/Spring-Boot/"}]},{"title":"shellç¼–ç¨‹ï¼šåˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ","slug":"shellç¼–ç¨‹ï¼šåˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ","date":"2020-07-24T16:00:00.000Z","updated":"2021-04-01T08:10:46.175Z","comments":true,"path":"2020/07/25/7c033a78b2a7/","link":"","permalink":"http://blog.karakarua.com/2020/07/25/7c033a78b2a7/","excerpt":"","text":"ç®€å•æè¿°ï¼š å¦‚æ•°ç»„$arr=(1\\ 2\\ 3\\ 4), target_1=4, target_2=5$ã€‚æœŸæœ›ç¼–å†™å‡½æ•°$IsContains()$ï¼Œåˆ†åˆ«æ¥å—ä¸¤ä¸ªå‚æ•°$arr$å’Œ$targe_i$ï¼Œè¿”å›â€”â€”0(True)æˆ–1(False)12345678910111213IsContains()&#123; # æŠŠåŸæ¥çš„arræ–°èµ‹å€¼ç»™ä¸€ä¸ªæ–°æ•°ç»„ narr=($1) # é€»è¾‘æ˜¯åˆ¤æ–­åˆ é™¤\\$2åçš„æ•°ç»„æ˜¯å¦ä¸åŸæ•°ç»„ç›¸åŒï¼Œä¸åŒåˆ™æ ‡æ˜åŒ…å«å…ƒç´ ï¼Œç›¸åŒï¼ˆæ²¡æœ‰\\$2å¯åˆ é™¤ï¼‰åˆ™æ ‡æ˜ä¸åŒ…å«å…ƒç´  [[ $&#123;narr[@]/$2/&#125; != $&#123;narr[@]&#125; ]];echo $?&#125;arr=(1 2 3 4)target1=4target2=5# $&#123;arr[*]&#125;!, not $&#123;arr[@]&#125;! TestResult: $&#123;arr[@]&#125;=&gt; narr=(1), $&#123;arr[*]=&gt; narr=(1 2 3 4)# but i don&#x27;t know whyecho `IsContains &quot;$&#123;arr[*]&#125;&quot; $target1`echo `IsContains &quot;$&#123;arr[*]&#125;&quot; $target2`ä»£ç ä¸­æœ‰ä¸ªç–‘é—®ï¼Œå½“è°ƒç”¨çš„ä¸»å‚ä½¿ç”¨$arr[@]æ—¶ï¼ŒIsContainså‡½æ•°ä¸­$1=(1)ï¼Œå½“è°ƒç”¨çš„ä¸»å‚ä½¿ç”¨$arr[*]æ—¶ï¼ŒIsContainså‡½æ•°ä¸­$1=(1 2 3 4)ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå¯èƒ½æˆ‘å¯¹shellç¼–ç¨‹è¿˜æ˜¯ä¸€çŸ¥åŠè§£å§ã€‚æœ›èƒ½çœ‹åˆ°è¿™ç¯‡åšå®¢çš„å¤§ä½¬ç»™äºˆè§£ç­”ï¼Œè°¢è°¢ã€‚ å¦å¤–å…³äºshellåˆ¤æ–­é€»è¾‘â€”â€”if [[]]ã€(())ã€[] çš„åŒºåˆ«ï¼Œå¯ä»¥å‚è€ƒåšå®¢:[shell if [[ ]]å’Œ ]åŒºåˆ« || &amp;&amp;è¯¥æ–‡ç« æœ‰å‚è€ƒåšå®¢ï¼šBashæ•°ç»„-åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨æ•°ç»„å†…çš„å‡ ç§æ–¹æ³• Shellæ•°ç»„ä¸å­—ç¬¦ä¸²ï¼šshellè„šæœ¬ç¼–ç¨‹è¿›é˜¶ä¹‹æ•°ç»„ã€å­—ç¬¦ä¸²åˆ‡ç‰‡","categories":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/tags/Linux/"},{"name":"Shell","slug":"Shell","permalink":"http://blog.karakarua.com/tags/Shell/"}]},{"title":"Tomcaté›¶ç¢æ”¶é›†","slug":"å…³äºTomcatçš„é›¶ç¢æ”¶é›†","date":"2020-07-24T16:00:00.000Z","updated":"2021-03-16T05:17:34.496Z","comments":true,"path":"2020/07/25/5c0475ca64d0/","link":"","permalink":"http://blog.karakarua.com/2020/07/25/5c0475ca64d0/","excerpt":"","text":"é—®é¢˜: 1. **Tomcatæ˜¯ä»€ä¹ˆï¼Ÿ** 2. **Tomcatã€Apacheã€Nginxéƒ½æ˜¯å•¥å…³ç³»ï¼Ÿ** 3. **Tomcatç›®å½•åŠè¯´æ˜** 4. **TomcatåŸºæœ¬æ¡†æ¶** 5. **tomcatæ–‡ä»¶è§£é‡Šï¼šserver.xmlã€web.xml** ç®€å•è§£ç­”ï¼š 1. **Tomcatæ˜¯ä»€ä¹ˆï¼Ÿ** Tomcatæ˜¯ä¸€ç§è½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„Servletã€JSPçš„å®¹å™¨ï¼Œèƒ½å¤Ÿå¤„ç†åŠ¨æ€èµ„æºï¼Œä¹Ÿæä¾›ä¸€äº›webæœåŠ¡å™¨çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¤„ç†é™æ€èµ„æºè¯·æ±‚ã€‚ç»å¸¸æ­é…Apache/NginxåšåŠ¨æ€èµ„æº/é™æ€èµ„æºåˆ†å¼€å¤„ç†ï¼Œæ­é…Nginxåšè´Ÿè½½å‡è¡¡ã€‚ 2. **Tomcatã€Apacheã€Nginxéƒ½æ˜¯å•¥å…³ç³»ï¼Ÿ** Apacheæ˜¯çº¯ç²¹çš„web/httpæœåŠ¡å™¨ï¼Œåªèƒ½å¤„ç†é™æ€èµ„æºï¼ŒNginxä¹Ÿå¯ä»¥ä½œä¸ºweb/httpæœåŠ¡å™¨ï¼Œä½†é™¤æ­¤ä¹‹å¤–ä¹Ÿæä¾›è´Ÿè½½å‡è¡¡åŠŸèƒ½ã€‚å‚è€ƒ1ï¼šWEBæœåŠ¡å™¨ã€åº”ç”¨ç¨‹åºæœåŠ¡å™¨ã€HTTPæœåŠ¡å™¨åŒºåˆ«ã€‚å‚è€ƒ2ï¼šapacheã€node.jsã€nginxã€tomcatè°èƒ½å¸®æˆ‘æ‹ä¸€æ‹å…³ç³»ï¼Ÿ 3. **Tomcatç›®å½•åŠè¯´æ˜** /bin - å¯åŠ¨ï¼Œå…³é—­å’Œå…¶ä»–è„šæœ¬ã€‚ /conf - é…ç½®æ–‡ä»¶å’Œç›¸å…³çš„ DTDã€‚è¿™é‡Œæœ€é‡è¦çš„æ–‡ä»¶æ˜¯ server.xmlã€‚å®ƒæ˜¯å®¹å™¨çš„ä¸»è¦é…ç½®æ–‡ä»¶ã€‚ /lib - ç”¨æ¥å­˜æ”¾ tomcat è¿è¡Œéœ€è¦åŠ è½½çš„ jar åŒ…ã€‚ /logs - æ—¥å¿—æ–‡ä»¶ç›®å½•ã€‚ /webapps - å­˜æ”¾ Web åº”ç”¨ç¨‹åºçš„ç›®å½•ã€‚ /work - éƒ¨ç½² Web åº”ç”¨ç¨‹åºçš„ä¸´æ—¶å·¥ä½œç›®å½•ã€‚ /temp - è¿è¡Œæ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ã€‚ TomcatåŸºæœ¬æ¡†æ¶ å¦‚ä¸Šå›¾ï¼ŒTomcatå¯ä»¥æŒ‰åŠŸèƒ½åˆ’åˆ†è®¸å¤šä¸åŒçš„ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡/conf/server.xmlæ–‡ä»¶ä¸­å¯å®šä¹‰å’Œé…ç½®ï¼ŒåŒ…æ‹¬Server, Service, Connector, Engine, Cluster, Host, Alias, Context, Realm, Valve, Manager, Listener, Resources, ResourceEnvRef, WatchedResource, Store, Transaction, Channel, Membership, Transport, Member, ClusterListenerç­‰ï¼Œä¸€èˆ¬å¯åˆ†ä¸ºä»¥ä¸‹å››ç±»ï¼š1ã€é¡¶çº§ç»„ä»¶ï¼šä½äºé…ç½®å±‚æ¬¡çš„é¡¶çº§ï¼Œå¹¶ä¸”å½¼æ­¤é—´æœ‰ç€ä¸¥æ ¼çš„å¯¹åº”å…³ç³»ï¼Œæœ‰Serverç»„ä»¶ã€Serviceç»„ä»¶ï¼› 2ã€è¿æ¥å™¨ï¼šè¿æ¥å®¢æˆ·ç«¯ï¼ˆå¯ä»¥æ˜¯æµè§ˆå™¨æˆ–WebæœåŠ¡å™¨ï¼‰è¯·æ±‚è‡³Servletå®¹å™¨ï¼Œåªæœ‰Connectorç»„ä»¶ï¼Œ 3ã€å®¹å™¨ï¼šè¡¨ç¤ºå…¶åŠŸèƒ½æ˜¯å¤„ç†ä¼ å…¥è¯·æ±‚çš„ç»„ä»¶ï¼Œå¹¶åˆ›å»ºç›¸åº”çš„å“åº”ã€‚å¦‚Engineå¤„ç†å¯¹ä¸€ä¸ªServiceçš„æ‰€æœ‰è¯·æ±‚ï¼ŒHostå¤„ç†å¯¹ç‰¹å®šè™šæ‹Ÿä¸»æœºçš„æ‰€æœ‰è¯·æ±‚ï¼Œå¹¶ä¸”Contextå¤„ç†å¯¹ç‰¹å®šwebåº”ç”¨çš„æ‰€æœ‰è¯·æ±‚ï¼› 4ã€è¢«åµŒå¥—çš„ç»„ä»¶ï¼šä½äºä¸€ä¸ªå®¹å™¨å½“ä¸­ï¼Œä½†ä¸èƒ½åŒ…å«å…¶å®ƒç»„ä»¶ï¼›ä¸€äº›ç»„ä»¶å¯ä»¥åµŒå¥—åœ¨ä»»ä½•Containerä¸­ï¼Œè€Œå¦ä¸€äº›åªèƒ½åµŒå¥—åœ¨Contextä¸­ã€‚ å‚è€ƒï¼šTomcat(ä¸€) Tomcatæ˜¯ä»€ä¹ˆï¼šTomcatä¸JavaæŠ€æœ¯ Tomcatä¸Webåº”ç”¨ ä»¥åŠ TomcatåŸºæœ¬æ¡†æ¶åŠç›¸å…³é…ç½® tomcatæ–‡ä»¶è§£é‡Šï¼šserver.xmlã€web.xml server.xmlï¼š Tomcatæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ŒåŒ…å«Service, Connector, Engine, Realm, Valve, Hostsä¸»ç»„ä»¶çš„ç›¸å…³é…ç½®ä¿¡æ¯ã€‚å¦‚server.xmlé»˜è®¤é…ç½®ï¼ˆåˆ é™¤æ³¨é‡Šå†…å®¹ï¼‰å¦‚ä¸‹ï¼š web.xmlï¼šä¸ºéƒ¨ç½²ä¸Tomcatå®ä¾‹ä¸Šçš„æ‰€æœ‰webåº”ç”¨ç¨‹åºæä¾›éƒ¨ç½²æè¿°ç¬¦ï¼Œé€šå¸¸ç”¨äºä¸ºwebappæä¾›é»˜è®¤çš„servletå®šä¹‰å’ŒåŸºæœ¬çš„MUIMEæ˜ å°„è¡¨ã€‚ tomcatçš„web.xmlå†™å…¥çš„éƒ½æ˜¯webçš„é»˜è®¤é…ç½®ï¼Œè‡ªå®šä¹‰é…ç½®éœ€è¦åœ¨webé¡¹ç›®çš„web.xmlä¸­è®¾ç½®ã€‚å‚è€ƒé“¾æ¥ï¼štomcatä¸‹çš„web.xmlå’Œé¡¹ç›®ä¸­çš„web.xml","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"},{"name":"Tomcat","slug":"Tomcat","permalink":"http://blog.karakarua.com/tags/Tomcat/"}]},{"title":"(Windows-Linux)Spring Bootå¯åŠ¨å¼‚å¸¸ï¼šSprint-Boot-Tomcat--An-incompatible-version-[1-x-x]-o","slug":"(Windows-Linux)--Sprint-Boot-Tomcat--An-incompatible-version-[1-x-x]-o","date":"2020-07-20T16:00:00.000Z","updated":"2021-03-16T05:36:49.326Z","comments":true,"path":"2020/07/21/93b1076d0048/","link":"","permalink":"http://blog.karakarua.com/2020/07/21/93b1076d0048/","excerpt":"","text":"æƒ…æ™¯ï¼šå¯åŠ¨spring-booté¡¹ç›®ï¼ŒæŠ¥é”™ An incompatible version [1.2.12] of the Apache Tomcat Native library is installed, while Tomcat requires [1.2.14]ã€‚åŸå› ï¼šspring-bootå†…ç½®tomcatè¦æ±‚çš„nativeåº“ç‰ˆæœ¬å’Œæœ¬åœ°nativeåº“ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œéœ€è¦å‡çº§ã€‚è§£å†³åŠæ³•ï¼š Windowsï¼š æ–¹æ³•ä¸€ï¼šä¸‹è½½å®‰è£…å¯¹åº”ç‰ˆæœ¬nativeåº“ï¼Œæ–‡ä»¶ä¸€èˆ¬æ˜¯tcnative-1.dllï¼ŒæŠŠå®ƒå®‰è£…åˆ°C:\\Windows\\System32ç›®å½•ä¸‹è¦†ç›–åŸæ¥çš„tcnative-1.dllã€‚ä¸€èˆ¬ç™¾åº¦è¿™ä¸ªé”™è¯¯æœåˆ°çš„æ•™ç¨‹éƒ½æ˜¯é’ˆå¯¹Windowså¹³å°çš„ï¼Œæ¯”è¾ƒå¥½å¤„ç†ã€‚è¿™ä¸ªä¸å†èµ˜è¿°ï¼Œç»™ä¸ªæ•™ç¨‹é“¾æ¥ï¼šAn incompatible version [1.2.12] of the APR based Apache Tomcat Native library is installed, while Tomcat requires version [1.2.14] æ–¹æ³•äºŒï¼šæºç ç¼–è¯‘å®‰è£…è¯¥nativeåº“ã€‚é¦–å…ˆä¸‹è½½æ‰€éœ€è¦çš„nativeåº“æºç æ–‡ä»¶ã€‚é“¾æ¥åœ°å€ä¸ºï¼šhttp://archive.apache.org/dist/tomcat/tomcat-connectors/native/1.2.14/source/ã€‚ä¸‹è½½/tomcat-native-1.2.14-win32-src.zipã€‚ç„¶åè§£å‹åæŒ‰ç…§å®˜æ–¹ç»™å®šçš„æ•™ç¨‹ç¼–è¯‘å®‰è£…ã€‚å®˜æ–¹æ•™ç¨‹åœ°å€ï¼šhttp://archive.apache.org/dist/tomcat/tomcat-connectors/native/1.2.14/source/ Linux: æš‚æ—¶æ²¡æœ‰æ‰¾åˆ°Linuxä¸‹æ¯”è¾ƒæ–¹ä¾¿å®‰è£…nativeåº“çš„æ–¹å¼ï¼Œå› æ­¤åªèƒ½ä»¥æºç æ–¹å¼ç¼–è¯‘å®‰è£…è¯¥nativeåº“ï¼Œä¸è¿‡æ­¥éª¤ä¹Ÿä¸éº»çƒ¦ã€‚ å‚è€ƒæ•™ç¨‹ï¼šLinuxä¸‹Springbootè§£å†³APR based Apache Tomcat Native libraryæç¤º ï¼›å®˜æ–¹æ•™ç¨‹ é¦–å…ˆä¸‹è½½å¯¹åº”ç‰ˆæœ¬nativeåº“æºç ï¼Œä¸‹è½½source/tomcat-native-1.2.14-src.tar.gzï¼Œè§£å‹ã€‚ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š sudo apt-get autoremove libtcnative-1 #åˆ é™¤å®‰è£…çš„åº“cd native./configure â€”with-apr=/usr/bin/apr-1-configsudo makesudo make install é‡æ–°è¿è¡Œspring-booté¡¹ç›®ä¸€èˆ¬å°±ä¸å†æŠ¥é”™è¯¯äº†ã€‚å®Œæ¯•ã€‚","categories":[{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://blog.karakarua.com/tags/Spring-Boot/"}]},{"title":"LeetCode-146--LRUç¼“å­˜æœºåˆ¶","slug":"LeetCode-146--LRUç¼“å­˜æœºåˆ¶","date":"2020-07-11T16:00:00.000Z","updated":"2021-03-16T05:27:35.625Z","comments":true,"path":"2020/07/12/5991101609ed/","link":"","permalink":"http://blog.karakarua.com/2020/07/12/5991101609ed/","excerpt":"","text":"é¢˜ç›®æè¿°:è¿ç”¨ä½ æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜æœºåˆ¶ã€‚å®ƒåº”è¯¥æ”¯æŒä»¥ä¸‹æ“ä½œï¼š è·å–æ•°æ® get å’Œ å†™å…¥æ•°æ® put ã€‚ è·å–æ•°æ® get(key) - å¦‚æœå…³é”®å­— (key) å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–å…³é”®å­—çš„å€¼ï¼ˆæ€»æ˜¯æ­£æ•°ï¼‰ï¼Œå¦åˆ™è¿”å› -1ã€‚å†™å…¥æ•°æ® put(key, value) - å¦‚æœå…³é”®å­—å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ï¼›å¦‚æœå…³é”®å­—ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥è¯¥ç»„ã€Œå…³é”®å­—/å€¼ã€ã€‚å½“ç¼“å­˜å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œå®ƒåº”è¯¥åœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®å€¼ï¼Œä»è€Œä¸ºæ–°çš„æ•°æ®å€¼ç•™å‡ºç©ºé—´ã€‚è¯·åœ¨ O(1) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸¤ç§æ“ä½œã€‚ æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/lru-cacheè‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ è§£ç­”ï¼šæ–¹æ³•ä¸€ï¼šï¼ˆæ¥è‡ªLeetCodeå®˜æ–¹é¢˜è§£ï¼‰ä½¿ç”¨è‡ªå¸¦çš„LinkedHashMapï¼Œå¯ä»¥ç›´æ¥æ¨¡æ‹ŸLRUã€‚LinkedHashMapçš„æ•°æ®ç»“æ„æ˜¯åœ¨HashMapçš„åŸºç¡€ä¸Šï¼Œä¸ºæ¯ä¸ªHashMapèŠ‚ç‚¹éƒ½å¢åŠ äº†ä¸¤ä¸ªå±æ€§beforeã€afterï¼Œå¹¶ç”¨åŒé“¾è¡¨æŠŠæ¯ä¸ªèŠ‚ç‚¹è¿æ¥èµ·æ¥ï¼Œbeforeã€afteråˆ†åˆ«ä»£è¡¨æŸå…ƒç´ åœ¨åŒé“¾è¡¨çš„å‰ä¸€ä¸ªã€åä¸€ä¸ªå…ƒç´ ã€‚è¯¦ç»†å¯å‚è€ƒJavaé›†åˆè¯¦è§£5ï¼šæ·±å…¥ç†è§£LinkedHashMapå’ŒLRUç¼“å­˜ 1234567891011121314151617181920212223242526272829303132333435//LinkedHashMapçš„åŒå‘é“¾è¡¨å®ç°LRUï¼Œæœ€åèŠ‚ç‚¹ä¸ºå¸¸è®¿é—®çš„ï¼Œå¤´éƒ¨çš„èŠ‚ç‚¹æ˜¯æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„import java.util.LinkedHashMap;class LRUCache extends LinkedHashMap &#123; int capacity; LRUCache(int capacity) &#123; // éœ€è¦ä½¿ç”¨LinkedHashMapä¸­accessOrder=trueçš„æ„é€ å‡½æ•° // LinkedHashMap(int initialCapacity,float loadFactor,boolean accessOrder) // é¡ºä¾¿è¯´ä¸ªçŸ¥è¯†ç‚¹ï¼ŒHashMapåˆå§‹åŒ–å¹¶ä¸ä¼šåˆ†é…å†…å­˜ï¼Œåˆ†é…æ˜¯åœ¨ç¬¬ä¸€æ¬¡putå…ƒç´ å super(capacity, 0.75F, true); this.capacity = capacity; &#125; public int get(int key) &#123; // è¿™ä¸ªå‡½æ•°æ˜¯getkeyï¼Œå¦‚æœå–ä¸åˆ°ï¼Œåˆ™è¿”å›defaulValueï¼Œå³ç¬¬äºŒä¸ªå‚æ•° return super.getOrDefault(key, -1); &#125; public void put(int key, int value) &#123; // ç›´æ¥ç»§æ‰¿HashMapçš„putæ–¹æ³•ï¼Œå¦‚æœaccessOrder=trueï¼Œåˆ™ä¼šæŠŠåˆšè®¿é—®çš„èŠ‚ç‚¹æˆ–è€…æ–°æ·»åŠ çš„èŠ‚ç‚¹å®‰æ’åˆ°åŒé“¾è¡¨æœ«å°¾ super.put(key, value); &#125; @Override protected boolean removeEldestEntry(Map.Entry&lt;Integer, Integer&gt; eldest) &#123; // LinkedHashMapç»§æ‰¿HashMapï¼ŒäºŒè€…çš„removeEldestEntryå‡return falseï¼Œè¡¨ç¤ºä¸åˆ é™¤æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨èŠ‚ç‚¹ // éœ€è¦é‡å†™ï¼Œè¿™é‡Œçš„é€»è¾‘æ˜¯å½“å…ƒç´ ä¸ªæ•°å¤§äºåˆå§‹å®¹é‡æ—¶ // // HashMapçš„thresholdä¿®é¥°çº§åˆ«æ˜¯defaultï¼Œé™¤äº†HashMapçš„å®ä¾‹å¤–ï¼ŒHashMapæ‰€åœ¨packageçš„å…¶ä»–ç±»ä¹Ÿå¯ä»¥è®¿é—®ï¼Œ // ä½†æ˜¯é™¤æ­¤ä¹‹å¤–å…¶ä»–éƒ½ä¸èƒ½è®¿é—®ã€‚å› æ­¤ï¼Œè¿™é‡Œå‘ç”Ÿåˆ é™¤å…ƒç´ æ—¶ï¼Œsize&gt;16ï¼Œå®é™…çš„capacity&gt;24(16/0.75=24) return size() &gt; capacity; &#125;&#125; æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨+åŒå‘é“¾è¡¨æ–¹å¼æ„é€ LRUã€‚HashMapç”¨æ¥å®šä½æŸå…ƒç´ åœ¨èŠ‚ç‚¹ä¸­çš„ä½ç½®ï¼Œæ˜ å°„å…³ç³»æ˜¯ï¼Œ(HashMap).get(key)ç›´æ¥æ‹¿åˆ°èŠ‚ç‚¹ã€‚åŒå‘é“¾è¡¨æ¨¡æ‹ŸLRUç¼“å­˜ï¼Œå¤´éƒ¨ä½ç½®ä»£è¡¨æœ€è¿‘è®¿é—®è¿‡çš„ï¼Œå°¾éƒ¨è¡¨ç¤ºæœ€ä¹…æœªä½¿ç”¨çš„ã€‚åŸå› ï¼šè®¿é—®è¿‡çš„éƒ½å¾€å¤´éƒ¨è½¬ç§»ï¼Œé‚£äº›ä¸å¸¸è®¿é—®çš„å…ƒç´ å°±ä¼šè¶Šæ¥è¶Šå¾€åç§»åŠ¨ã€‚ è¿™ä¸ªå“ªä¸€ç«¯æ˜¯åˆšåˆšè®¿é—®çš„ï¼Œéšä½ å¿ƒæƒ…å®šä¹‰ï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰å°¾éƒ¨å°±æ˜¯åˆšåˆšè®¿é—®çš„ï¼Œè€Œå¤´éƒ¨æ˜¯æœ€ä¹…æœªä½¿ç”¨çš„ã€‚get(int key)çš„é€»è¾‘ï¼šå¯»æ‰¾æŸå…ƒç´ æ—¶ï¼Œæ‰¾ä¸åˆ°å°±è¿”å›-1ï¼Œæ‰¾å¾—åˆ°å°±è¿”å›valueï¼Œå¹¶æŠŠè¯¥å…ƒç´ ç§»åŠ¨åˆ°å¤´éƒ¨ï¼Œä»£è¡¨æœ€è¿‘è®¿é—®äº†ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œå°¾éƒ¨å°±ä¼šä½¿æœ€ä¹…æœªä½¿ç”¨çš„å…ƒç´ ã€‚put(int key, int value)çš„é€»è¾‘æ˜¯ï¼Œå¦‚æœä¸æ˜¯æ–°å…ƒç´ ï¼Œå°±æ›´æ–°è¯¥å…ƒç´ valueï¼ˆåŒæ—¶æ„å‘³ç€è¯¥å…ƒç´ è¦ç§»åŠ¨åˆ°å¼€å¤´,å¯ä»¥åˆ©ç”¨get(key)åˆ¤æ–­æ˜¯å¦æ˜¯æ–°å…ƒç´ ï¼Œè‹¥å…ƒç´ å·²å­˜åœ¨å°±ä¼šç§»åŠ¨åˆ°å¼€å¤´ï¼Œç„¶åæ›´æ–°å¼€å¤´å…ƒç´ valueï¼‰ï¼›å¦‚æœæ˜¯æ–°å…ƒç´ ï¼Œå®¹é‡è¶³å¤Ÿå°±åŠ åˆ°å¤´éƒ¨ï¼Œä»£è¡¨åˆšåˆšè®¿é—®ï¼›å®¹é‡ä¸å¤Ÿï¼Œå°±å¾—ç§»é™¤å°¾éƒ¨èŠ‚ç‚¹ï¼Œå†åœ¨å¤´éƒ¨èŠ‚ç‚¹æ·»åŠ å…ƒç´ ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108import java.util.HashMap;import java.util.List;import java.util.Map;import java.util.Stack;class ListNode &#123; int key; int value; ListNode before; ListNode after; ListNode(int key, int value) &#123; this.key = key; this.value = value; &#125;&#125;class LRUCache &#123; int capacity; // headå’Œtailæ“ä½œæ¥è‡ªLinkedHashMapæ€æƒ³ï¼Œå¥½å¤„æ˜¯å¯ä»¥é¿å…å¥½å¤šèŠ‚ç‚¹åˆ¤ç©ºæ“ä½œï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚ // ç‰ºç‰²ä¸¤ä¸ªèŠ‚ç‚¹ç©ºé—´æ¢æ¥æ“ä½œæ–¹ä¾¿ï¼Œå¯ä»¥ä½œä¸ºç¼–ç¨‹æŠ€å·§ã€‚ ListNode head; ListNode tail; Map&lt;Integer, ListNode&gt; map; LRUCache(int capacity) &#123; this.capacity = capacity; head = new ListNode(-1, -1); tail = new ListNode(-1, -1); head.after = tail; tail.before = head; map = new HashMap&lt;&gt;(); &#125; // getçš„é€»è¾‘æ˜¯ï¼šæ‰¾ä¸åˆ°è¿”å›-1ï¼Œæ‰¾å¾—åˆ°å°±è¿”å›valueï¼Œå¹¶æŠŠè¯¥å…ƒç´ ç§»åŠ¨åˆ°å¤´éƒ¨ï¼Œä»£è¡¨æœ€è¿‘è®¿é—®äº†ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œå°¾éƒ¨å°±ä¼šä½¿æœ€ä¹…æœªä½¿ç”¨çš„å…ƒç´  public synchronized int get(int key) &#123; if (capacity == 0) return -1; ListNode vn = map.get(key); // æ‰¾ä¸åˆ°å…ƒç´  if (vn == null) return -1; // æ‰¾åˆ°å…ƒç´ ï¼Œæ— è®ºå®ƒåœ¨å“ªï¼Œè‚¯å®šæœ‰å‰åèŠ‚ç‚¹ï¼Œæœ€ä¸æµæ˜¯headå’Œtailï¼Œæ‰€ä»¥å‰åèŠ‚ç‚¹ä¸€å®šä¸ä¸ºç©º // å¦‚æœvnæ˜¯å¤´ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸å¿…æ“ä½œï¼Œç›´æ¥è¿”å› if (vn.before == head) return vn.value; // å¦åˆ™ï¼Œåœ¨vnåŸæ¥çš„åœ°æ–¹ç§»é™¤vn removeNode(vn); // ç§»åŠ¨åˆ°å¼€å¤´ addToHead(vn); return vn.value; &#125; // putçš„é€»è¾‘æ˜¯ï¼Œå¦‚æœä¸æ˜¯æ–°å…ƒç´ ï¼Œå°±æ›´æ–°è¯¥å…ƒç´ value(åŒæ—¶æ„å‘³ç€è¯¥å…ƒç´ è¦ç§»åŠ¨åˆ°å¼€å¤´,å¯ä»¥åˆ©ç”¨getåˆ¤æ–­æ˜¯å¦æ˜¯æ–°å…ƒç´ ï¼Œè‹¥å…ƒç´ å·²å­˜åœ¨ä¼šç§»åŠ¨åˆ°å¼€å¤´)ï¼› // å¦‚æœæ˜¯æ–°å…ƒç´ ï¼Œå®¹é‡å¤Ÿå°±åŠ åˆ°å¤´éƒ¨ï¼Œä»£è¡¨åˆšåˆšè®¿é—®ï¼›å®¹é‡ä¸å¤Ÿï¼Œå°±å¾—ç§»é™¤å°¾éƒ¨èŠ‚ç‚¹ï¼Œå†åœ¨å¤´éƒ¨èŠ‚ç‚¹æ·»åŠ å…ƒç´  public synchronized void put(int key, int value) &#123; if (capacity == 0) return; // å¢æ·»å°±æ„å‘³ç€å¯èƒ½è¦ç§»é™¤å…ƒç´  int v = get(key); // å¹¶éæ–°å…ƒç´ ï¼Œæ›´æ–° if (v != -1) &#123; head.after.value = value; return; &#125; ListNode newNode = new ListNode(key, value); /* è¿™ä¸ªæ³¨é‡Šæ‰çš„å†…å®¹æ˜¯æ·»åŠ æ–°èŠ‚ç‚¹çš„å¦ä¸€ä¸ªæ–¹å¼ // è¶…å®¹é‡å°±åˆ é™¤å°¾éƒ¨èŠ‚ç‚¹ if (map.size() + 1 &gt; capacity) &#123; map.remove(tail.before.key); removeNode(tail.before); &#125; // æ·»åŠ èŠ‚ç‚¹åˆ°å¤´éƒ¨ map.put(key, newNode); addToHead(newNode); */ // å¤šä¸€ä¸ªå…ƒç´ ä¸è¶…å®¹é‡ï¼Œå¯ä»¥ç›´æ¥å‹å…¥å¤´éƒ¨ if (map.size() + 1 &lt;= capacity) &#123; addToHead(newNode); map.put(key, newNode); return; &#125; // è¶…å®¹é‡ï¼Œè¦å»é™¤æœ€åä¸€ä¸ªæœ€ä¹…æœªä½¿ç”¨,å¹¶åœ¨æœ€å‰é¢åŠ å…¥æ–°å…ƒç´  // tail.before=headæ˜¯ä¸ºäº†é˜²æ­¢å®¹é‡ä¸º0ï¼Œå½“ç„¶å¯ä»¥ç›´æ¥åœ¨å¼€å¤´é¢„é˜² // if (tail.before = head) // return; // å¯¹åº”mapè¦åˆ é™¤é‡æ·»åŠ  map.remove(tail.before.key); map.put(key, newNode); removeNode(tail.before); addToHead(newNode); &#125; private synchronized void removeNode(ListNode node) &#123; node.before.after = node.after; node.after.before = node.before; &#125; private synchronized void addToHead(ListNode vn) &#123; ListNode first = head.after; head.after = vn; vn.before = head; vn.after = first; first.before = vn; &#125;&#125;å®Œæ¯•ã€‚LRUç¼“å­˜è¿™é“é¢˜å¸¸è§äºå­—èŠ‚è·³åŠ¨çš„é¢è¯•é¢˜ï¼Œè¿™é‡ŒåŒæ—¶åˆ†äº«ä¸€ä¸ªå­—èŠ‚è·³åŠ¨é¢è¯•å¸¸è€ƒç®—æ³•é¢˜ï¼Œæ¥è‡ªLeetCode.LeetCodeæ¢ç´¢ä¹‹å­—èŠ‚è·³åŠ¨","categories":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/categories/Code/"}],"tags":[{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/tags/Code/"}]},{"title":"Linux-VSCode-Code-Runnerç¼–è¯‘ä¸ç”Ÿæˆä¸´æ—¶æ–‡ä»¶(Java)","slug":"Linux-VSCode-Code-Runnerç¼–è¯‘ä¸ç”Ÿæˆä¸´æ—¶æ–‡ä»¶(Java)","date":"2020-07-10T16:00:00.000Z","updated":"2021-03-16T05:28:16.927Z","comments":true,"path":"2020/07/11/09321f9ef153/","link":"","permalink":"http://blog.karakarua.com/2020/07/11/09321f9ef153/","excerpt":"","text":"VSCode Code Runneræ’ä»¶ç¼–è¯‘Javaæ–‡ä»¶ï¼Œé»˜è®¤ä¼šåœ¨æºç æ‰€åœ¨æ–‡ä»¶ç”Ÿæˆ*.classä¸´æ—¶æ–‡ä»¶ï¼Œè€Œé€ æˆæºç æ–‡ä»¶å¤¹å†…å®¹æ··ä¹±ï¼Œå¸Œæœ›è‡ªå®šä¹‰ä½ç½®ä¿å­˜ç±»æ–‡ä»¶ã€‚ è§£å†³æªæ–½ï¼š Setting -&gt; æœç´¢Code Runner -&gt; ç‚¹å‡»å·¦ä¾§â€Run Code configurationâ€ -&gt; å³ä¾§æ‰¾åˆ°code-runner.executorMapï¼Œç‚¹å‡»Edit in settings.json ä¿®æ”¹code-runner.executorMapé…ç½®ï¼Œå¦‚ä¸‹ï¼š123&quot;code-runner.executorMap&quot;: &#123; &quot;java&quot;:&quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt &amp;&amp; mv $dir/*.class /tmp/vscodesws_*/jdt_ws/jdt.ls-java-project/bin&quot;&#125;, å‚æ•°è§£é‡Šï¼š$diræ˜¯Javaæºç æ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼›$fileNameæ˜¯æ–‡ä»¶åï¼Œå¦‚test2.javaï¼›$fileNameWithoutExtæ˜¯æ²¡æœ‰åç¼€çš„æ–‡ä»¶åï¼Œå³test2ï¼ˆJavaä¸€èˆ¬æ˜¯ä¸»ç±»å’Œæ–‡ä»¶åç›¸åŒï¼‰ï¼›æœ€å/tmp/..æ˜¯è‡ªå®šä¹‰çš„classæ–‡ä»¶ä¿å­˜è·¯å¾„ã€‚ ä¿å­˜å†è¿è¡Œï¼Œå³å¯åœ¨æŒ‡å®šè·¯å¾„ç”Ÿæˆ*.classæ–‡ä»¶ï¼Œä¸å†ä¸€è‚¡è„‘ä¿å­˜åœ¨æºç æ–‡ä»¶ã€‚ å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥bingæœç´¢â€coderunner ä¸ç”Ÿæˆä¸´æ—¶æ–‡ä»¶â€æŸ¥çœ‹å…¶ä»–æ•™ç¨‹ã€‚æˆ–è€…å‚è€ƒhttps://github.com/formulahendry/vscode-code-runner/issues/338","categories":[{"name":"Misc","slug":"Misc","permalink":"http://blog.karakarua.com/categories/Misc/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/tags/Linux/"}]}],"categories":[{"name":"Nginx","slug":"Nginx","permalink":"http://blog.karakarua.com/categories/Nginx/"},{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/categories/Docker/"},{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/categories/Linux/"},{"name":"HedgeDoc","slug":"HedgeDoc","permalink":"http://blog.karakarua.com/categories/HedgeDoc/"},{"name":"SQL","slug":"SQL","permalink":"http://blog.karakarua.com/categories/SQL/"},{"name":"Misc","slug":"Misc","permalink":"http://blog.karakarua.com/categories/Misc/"},{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/categories/Code/"},{"name":"Concurrency","slug":"Concurrency","permalink":"http://blog.karakarua.com/categories/Concurrency/"},{"name":"Java","slug":"Java","permalink":"http://blog.karakarua.com/categories/Java/"},{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/categories/Deepin/"},{"name":"hexo","slug":"hexo","permalink":"http://blog.karakarua.com/categories/hexo/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/categories/Java-Web/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://blog.karakarua.com/tags/Docker/"},{"name":"Nginx","slug":"Nginx","permalink":"http://blog.karakarua.com/tags/Nginx/"},{"name":"Linux","slug":"Linux","permalink":"http://blog.karakarua.com/tags/Linux/"},{"name":"CentOS","slug":"CentOS","permalink":"http://blog.karakarua.com/tags/CentOS/"},{"name":"HedgeDoc","slug":"HedgeDoc","permalink":"http://blog.karakarua.com/tags/HedgeDoc/"},{"name":"CodiMD","slug":"CodiMD","permalink":"http://blog.karakarua.com/tags/CodiMD/"},{"name":"HackMD","slug":"HackMD","permalink":"http://blog.karakarua.com/tags/HackMD/"},{"name":"SQL","slug":"SQL","permalink":"http://blog.karakarua.com/tags/SQL/"},{"name":"LaTeX","slug":"LaTeX","permalink":"http://blog.karakarua.com/tags/LaTeX/"},{"name":"Regex","slug":"Regex","permalink":"http://blog.karakarua.com/tags/Regex/"},{"name":"Code","slug":"Code","permalink":"http://blog.karakarua.com/tags/Code/"},{"name":"Python","slug":"Python","permalink":"http://blog.karakarua.com/tags/Python/"},{"name":"Concurrency","slug":"Concurrency","permalink":"http://blog.karakarua.com/tags/Concurrency/"},{"name":"Java","slug":"Java","permalink":"http://blog.karakarua.com/tags/Java/"},{"name":"Deepin","slug":"Deepin","permalink":"http://blog.karakarua.com/tags/Deepin/"},{"name":"Mininet","slug":"Mininet","permalink":"http://blog.karakarua.com/tags/Mininet/"},{"name":"hexo","slug":"hexo","permalink":"http://blog.karakarua.com/tags/hexo/"},{"name":"Spring Boot","slug":"Spring-Boot","permalink":"http://blog.karakarua.com/tags/Spring-Boot/"},{"name":"Java Web","slug":"Java-Web","permalink":"http://blog.karakarua.com/tags/Java-Web/"},{"name":"Vue","slug":"Vue","permalink":"http://blog.karakarua.com/tags/Vue/"},{"name":"Mybatis-Plus","slug":"Mybatis-Plus","permalink":"http://blog.karakarua.com/tags/Mybatis-Plus/"},{"name":"Shiro","slug":"Shiro","permalink":"http://blog.karakarua.com/tags/Shiro/"},{"name":"Shell","slug":"Shell","permalink":"http://blog.karakarua.com/tags/Shell/"},{"name":"Tomcat","slug":"Tomcat","permalink":"http://blog.karakarua.com/tags/Tomcat/"}]}